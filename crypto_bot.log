2025-05-14 03:16:27,703 - root - INFO - Logging setup complete. Root logger level: INFO, File: crypto_bot.log
2025-05-14 03:16:27,703 - root - INFO - Experience logger setup complete. File: /Users/activate/Dev/robinhood-crypto-bot/logs/live_experience.log
2025-05-14 03:16:27,703 - root - INFO - Set 'brokers.robinhood_broker' level. Effective level now: 10
2025-05-14 03:16:27,703 - root - INFO - --- Initializing Crypto Bot (Revised Logging) --- 
2025-05-14 03:16:27,703 - root - INFO - Loading configuration...
2025-05-14 03:16:27,703 - root - INFO - DEFAULT_RL_ACTIONS_MAP from config: {0: 'hold', 1: 'buy', 2: 'sell'}
2025-05-14 03:16:27,703 - root - INFO - Initial self.action_map set to DEFAULT: {0: 'hold', 1: 'buy', 2: 'sell'}
2025-05-14 03:16:27,703 - root - INFO - Final self.action_map in __init__: {0: 'hold', 1: 'buy', 2: 'sell'}
2025-05-14 03:16:27,703 - root - INFO - Configuration loaded: Symbols=['BTC-USD'], Strategy=rl, Trading Enabled=True
2025-05-14 03:16:27,703 - root - INFO - RL strategy selected. Attempting to load model from: trained_models/BTC_USD_PPO_optimized_may3_50000steps.zip
2025-05-14 03:16:28,237 - root - INFO - RL Agent loaded successfully.
2025-05-14 03:16:28,237 - root - INFO - Initializing broker (Type: RobinhoodBroker)...
2025-05-14 03:16:28,237 - brokers.base_broker - INFO - Initializing RobinhoodBroker...
2025-05-14 03:16:28,237 - brokers.robinhood_broker - INFO - Initializing RobinhoodBroker with logger. Effective level: 10 (DEBUG=10)
2025-05-14 03:16:28,237 - brokers.robinhood_broker - INFO - RobinhoodBroker initialized for base URL: https://trading.robinhood.com
2025-05-14 03:16:28,237 - root - INFO - RobinhoodBroker initialized successfully.
2025-05-14 03:16:28,237 - brokers.robinhood_broker - INFO - Attempting to verify Robinhood connection by fetching account info...
2025-05-14 03:16:28,237 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/accounts/
2025-05-14 03:16:28,238 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 03:16:28,238 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 03:16:28,238 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/accounts/
2025-05-14 03:16:28,238 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': 'h5CARiuZNTsk11v7Fciv7naNinS0rvoQBcaAH3VAV7KOfhds/NW8/Nxcx/2v4343E3XZeC6B2md+RzLfG5UmDA==', 'x-timestamp': '1747210588', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 03:16:28,797 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 03:16:28,798 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '106', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 08:16:28 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': 'b5a84e95-157c-4201-9445-1632dbc82fb1', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 7ebc316dbc5d3e4bd970d5c5f5f4a680.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P12', 'X-Amz-Cf-Id': 'jTwIOQxio0GT3hA7vTpd9zAmRjV8B2Y18rh0El3XO3jMRrRc-EN_kA=='}
2025-05-14 03:16:28,798 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"account_number":"311081964512","status":"active","buying_power":"16.5500","buying_power_currency":"USD"}...
2025-05-14 03:16:28,802 - brokers.robinhood_broker - DEBUG - Raw response from _make_api_request in get_account_info: {'account_number': '311081964512', 'status': 'active', 'buying_power': '16.5500', 'buying_power_currency': 'USD'}
2025-05-14 03:16:28,802 - brokers.robinhood_broker - INFO - Robinhood connection verified successfully.
2025-05-14 03:16:28,802 - root - INFO - Initializing data provider (Preference: yfinance)...
2025-05-14 03:16:28,802 - alt_crypto_data - INFO - AltCryptoDataProvider initialized. Primary source: yfinance, Fallback: CoinGecko
2025-05-14 03:16:28,813 - alt_crypto_data - INFO - NewsApiClient initialized for sentiment analysis.
2025-05-14 03:16:28,813 - root - INFO - Data provider initialized.
2025-05-14 03:16:28,813 - root - INFO - Calculating initial normalization statistics...
2025-05-14 03:16:28,813 - root - INFO - Calculating initial normalization statistics for 27 RL technical indicators...
2025-05-14 03:16:28,813 - root - INFO - Starting normalization stats calculation for symbols: ['BTC-USD']
2025-05-14 03:16:28,813 - alt_crypto_data - INFO - Attempting to fetch data for BTC-USD via yfinance...
2025-05-14 03:16:28,814 - alt_crypto_data - INFO - Fetching price history for BTC-USD from yfinance (Start: 2025-02-13, End: 2025-05-14, Interval: 1h)...
2025-05-14 03:16:29,605 - alt_crypto_data - INFO - Successfully fetched 2161 data points for BTC-USD from yfinance.
2025-05-14 03:16:29,605 - alt_crypto_data - INFO - Successfully fetched data for BTC-USD via yfinance.
2025-05-14 03:16:30,119 - root - INFO - Successfully calculated normalization stats for BTC-USD using 2161 data points.
2025-05-14 03:16:30,119 - root - INFO - Finished calculating initial normalization statistics.
2025-05-14 03:16:30,119 - root - INFO - Normalization stats calculated for: ['BTC-USD']
2025-05-14 03:16:30,119 - root - INFO - Normalization stats calculated for: ['BTC-USD']
2025-05-14 03:16:30,119 - root - INFO - Fetching initial holdings...
2025-05-14 03:16:30,119 - root - INFO - Fetching current holdings via broker client...
2025-05-14 03:16:30,119 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 03:16:30,119 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 03:16:30,119 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 03:16:30,119 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 03:16:30,119 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': 'dBfbWOGKCrTcYqfBC8Hb4M4OJi9hiOvZrH8oD/hV4DhiuVZUni6b4Tav0zeDOh/aJo9abLGwGXoznlT2U3jMAQ==', 'x-timestamp': '1747210590', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 03:16:30,352 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 03:16:30,352 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 08:16:30 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': '42298fa5-d6e0-474f-a24b-ca76b873fac1', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 35867fa8c378214cba0d2fd4a69ef2b4.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P12', 'X-Amz-Cf-Id': 'AVH-z9JNHuq_2lIpCilzGWwz42uenolCYbTHH9pb2eVd2i5W1bOQEw=='}
2025-05-14 03:16:30,352 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 03:16:30,353 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 03:16:30,353 - root - INFO - Successfully retrieved 1 holdings: ['BTC']
2025-05-14 03:16:30,353 - root - INFO - RobinhoodCryptoBot __init__ finished. Trading Enabled: True
2025-05-14 03:16:30,353 - root - INFO - Starting main bot run loop. Checking every 5 minutes.
2025-05-14 03:16:30,353 - root - INFO - Starting new trading cycle...
2025-05-14 03:16:30,353 - root - INFO - Fetching current holdings via broker client...
2025-05-14 03:16:30,353 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 03:16:30,353 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 03:16:30,353 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 03:16:30,353 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 03:16:30,353 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': 'dBfbWOGKCrTcYqfBC8Hb4M4OJi9hiOvZrH8oD/hV4DhiuVZUni6b4Tav0zeDOh/aJo9abLGwGXoznlT2U3jMAQ==', 'x-timestamp': '1747210590', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 03:16:30,545 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 03:16:30,545 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 08:16:30 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': '3e4add8c-8e8b-49eb-b406-f852f8093101', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 925dca724534b9e2ea0c989957321ad0.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P12', 'X-Amz-Cf-Id': '1v3LPpJ6av0Svsn8BUs_oRiVbWMLlC11sI5DcnAL7SODXn8aBl3KUw=='}
2025-05-14 03:16:30,545 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 03:16:30,546 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 03:16:30,546 - root - INFO - Successfully retrieved 1 holdings: ['BTC']
2025-05-14 03:16:30,546 - alt_crypto_data - INFO - Attempting to fetch data for BTC-USD via yfinance...
2025-05-14 03:16:30,546 - alt_crypto_data - INFO - Fetching price history for BTC-USD from yfinance (Start: 2025-02-08, End: 2025-05-14, Interval: 1h)...
2025-05-14 03:16:30,731 - alt_crypto_data - INFO - Successfully fetched 2281 data points for BTC-USD from yfinance.
2025-05-14 03:16:30,731 - alt_crypto_data - INFO - Successfully fetched data for BTC-USD via yfinance.
2025-05-14 03:16:32,036 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/accounts/
2025-05-14 03:16:32,036 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 03:16:32,037 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 03:16:32,037 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/accounts/
2025-05-14 03:16:32,037 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': '3mFRud2eMcHQ2Uv5XaMGlnHH0k4xjMd2jgpucYKvpVEZJoEQrkUEsxbqhrvteGXwwbZGqDLm2lndJFcz6SHCDw==', 'x-timestamp': '1747210592', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 03:16:32,465 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 03:16:32,466 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '106', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 08:16:32 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': '9ea98e3a-5c8a-4696-91cd-7ae58ea1637c', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 dd44529843c992ef646db97930e9e9fe.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P12', 'X-Amz-Cf-Id': 'efjkviakkXX8ruSLs__TfvwpVq0qLp9K0jENa4mqvgUSTNL_qY-Sng=='}
2025-05-14 03:16:32,466 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"account_number":"311081964512","status":"active","buying_power":"16.5500","buying_power_currency":"USD"}...
2025-05-14 03:16:32,467 - brokers.robinhood_broker - DEBUG - Raw response from _make_api_request in get_account_info: {'account_number': '311081964512', 'status': 'active', 'buying_power': '16.5500', 'buying_power_currency': 'USD'}
2025-05-14 03:16:32,467 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 03:16:32,467 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 03:16:32,467 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 03:16:32,467 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 03:16:32,467 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': 'tweyXGN9mFNUn0csPRisrN1hSrBkwnUzdfUU50RD+NNJj/El/oNm5Xgr3Utkm0y2ej35HG9ZIdK9cf4Jj6KECQ==', 'x-timestamp': '1747210592', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 03:16:32,635 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 03:16:32,635 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 08:16:32 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': '0d74b08f-81eb-449e-a541-c3f031928c0e', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 ea19206f76c60a6bf2353901a487966a.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P12', 'X-Amz-Cf-Id': 'sJAENM6iwe4F18d26CSRAruS3ddjb2TZr3vtjnY0G7o7DGwWSkgQiw=='}
2025-05-14 03:16:32,635 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 03:16:32,636 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 03:16:32,637 - root - INFO - [BTC-USD] RL agent signal: hold (action_int: 0)
2025-05-14 03:16:32,637 - root - INFO - Trading cycle finished. Signals: {'BTC-USD': 'hold'}
2025-05-14 03:21:33,632 - root - INFO - Starting new trading cycle...
2025-05-14 03:21:33,633 - root - INFO - Fetching current holdings via broker client...
2025-05-14 03:21:33,633 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 03:21:33,633 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 03:21:33,633 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 03:21:33,633 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 03:21:33,634 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': 'e+Ry6/tWHQKOqc5WDSu22MFignFjtY4FhQrj18Z+4Yx1DpF5iKf8Ng1AMT+XhSIiLxkpL13nCxvA0eBeQkreDQ==', 'x-timestamp': '1747210893', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 03:21:33,988 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 03:21:33,988 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 08:21:34 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': 'b914685b-af64-47f3-a807-d2f67c9c46ed', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 e9eb0035bfe1f4607580837fdc95543e.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P12', 'X-Amz-Cf-Id': 'gbr92pNvf0r7_Tagh8lyyeDau_R5mRx6SrC5kNhTjZXAZbu7LN3JIg=='}
2025-05-14 03:21:33,988 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 03:21:33,989 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 03:21:33,989 - root - INFO - Successfully retrieved 1 holdings: ['BTC']
2025-05-14 03:21:33,989 - alt_crypto_data - INFO - Attempting to fetch data for BTC-USD via yfinance...
2025-05-14 03:21:33,989 - alt_crypto_data - INFO - Fetching price history for BTC-USD from yfinance (Start: 2025-02-08, End: 2025-05-14, Interval: 1h)...
2025-05-14 03:21:34,655 - alt_crypto_data - INFO - Successfully fetched 2281 data points for BTC-USD from yfinance.
2025-05-14 03:21:34,655 - alt_crypto_data - INFO - Successfully fetched data for BTC-USD via yfinance.
2025-05-14 03:21:35,216 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/accounts/
2025-05-14 03:21:35,217 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 03:21:35,217 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 03:21:35,217 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/accounts/
2025-05-14 03:21:35,217 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': 'WtnINIlGMi1DbIgwVHbkAmNcWgmd6tQjGkCx28TdbMixJpo5BD8LfSTfBletYz5ysS0sgblUWbaFWwu90oTWAw==', 'x-timestamp': '1747210895', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 03:21:35,498 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 03:21:35,498 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '106', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 08:21:35 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': '5e4c2028-0f67-4592-9c34-51685a02fb3d', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 d94048c82f133be2b27e307859c05590.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P12', 'X-Amz-Cf-Id': '_FZalaVxu5i5RizLi7_z0NSk6yTxdkWlgN2FoHOK5z14DAKKrn_EyQ=='}
2025-05-14 03:21:35,498 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"account_number":"311081964512","status":"active","buying_power":"16.5500","buying_power_currency":"USD"}...
2025-05-14 03:21:35,499 - brokers.robinhood_broker - DEBUG - Raw response from _make_api_request in get_account_info: {'account_number': '311081964512', 'status': 'active', 'buying_power': '16.5500', 'buying_power_currency': 'USD'}
2025-05-14 03:21:35,499 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 03:21:35,499 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 03:21:35,499 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 03:21:35,499 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 03:21:35,500 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': 'AEH/Xlqzs9oIW/GFkhGnJ7wqqaPZ3OOHVn/fZYuUD9zdKFle6z5rSLZTmdhJrerG/VDrVZRcumfJHTI3jX8kAQ==', 'x-timestamp': '1747210895', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 03:21:35,678 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 03:21:35,678 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 08:21:35 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': '3d110b95-6b65-452e-972d-6d96c78bfd85', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 738cdabd1c33dee5b48ea07819a43dd4.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P12', 'X-Amz-Cf-Id': '0wILLWv86SlxNUc92eH5Muk5nesHKrxyYGZSemV5-uZ3sVcmueiEQg=='}
2025-05-14 03:21:35,678 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 03:21:35,679 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 03:21:35,680 - root - INFO - [BTC-USD] RL agent signal: hold (action_int: 0)
2025-05-14 03:21:35,681 - root - INFO - Trading cycle finished. Signals: {'BTC-USD': 'hold'}
2025-05-14 03:26:35,693 - root - INFO - Starting new trading cycle...
2025-05-14 03:26:35,695 - root - INFO - Fetching current holdings via broker client...
2025-05-14 03:26:35,695 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 03:26:35,696 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 03:26:35,696 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 03:26:35,696 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 03:26:35,697 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': 'OLycURuBbWNAS6FtyYKJir4V4NxtLFJTkZFYA956obBc6biHRekTq/MDOEpeamXFDA3mJVXfb5xBGPCYZIlpDw==', 'x-timestamp': '1747211195', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 03:26:35,975 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 03:26:35,975 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 08:26:36 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': '883b4701-c19a-4c3e-a28d-e6e32e4f1310', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 05b57dd43f685617583775902086122c.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P12', 'X-Amz-Cf-Id': 'w1EA_Q1hdN6aNXGvn2w5-VewLkqOL4XtxqTlx0J2SlcLecEPPIwscg=='}
2025-05-14 03:26:35,975 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 03:26:35,976 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 03:26:35,976 - root - INFO - Successfully retrieved 1 holdings: ['BTC']
2025-05-14 03:26:35,976 - alt_crypto_data - INFO - Attempting to fetch data for BTC-USD via yfinance...
2025-05-14 03:26:35,976 - alt_crypto_data - INFO - Fetching price history for BTC-USD from yfinance (Start: 2025-02-08, End: 2025-05-14, Interval: 1h)...
2025-05-14 03:26:36,563 - alt_crypto_data - INFO - Successfully fetched 2281 data points for BTC-USD from yfinance.
2025-05-14 03:26:36,564 - alt_crypto_data - INFO - Successfully fetched data for BTC-USD via yfinance.
2025-05-14 03:26:37,127 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/accounts/
2025-05-14 03:26:37,127 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 03:26:37,127 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 03:26:37,128 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/accounts/
2025-05-14 03:26:37,128 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': 'I6BX7l3CbIG90H1GLBMUkKWgj29uDPCHzIPpOtlD8TNDFPV1yk7L9Hsymjr0Eb1IxlBLz/bY659E1sPFIF44DA==', 'x-timestamp': '1747211197', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 03:26:37,412 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 03:26:37,412 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '106', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 08:26:37 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': 'd233bcaa-ff05-470e-9e1a-18fcf9a476b5', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 f920edb4e5d27ee4048d42d253473dda.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P12', 'X-Amz-Cf-Id': 'SMTesR-KVuBT72sMhWfGaV21A6mUbkQy9MIF4RB45C-tJvLuPITNUQ=='}
2025-05-14 03:26:37,412 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"account_number":"311081964512","status":"active","buying_power":"16.5500","buying_power_currency":"USD"}...
2025-05-14 03:26:37,413 - brokers.robinhood_broker - DEBUG - Raw response from _make_api_request in get_account_info: {'account_number': '311081964512', 'status': 'active', 'buying_power': '16.5500', 'buying_power_currency': 'USD'}
2025-05-14 03:26:37,413 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 03:26:37,413 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 03:26:37,413 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 03:26:37,413 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 03:26:37,413 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': 'IJhSH6VeBbRMC4Tu7y0jMD+xEytfh1x3jQfh2oLjnjAsFcpy3QTZZE+xMnqk/Yyt/eJ+UWgxaSJiPu/oCM2LCg==', 'x-timestamp': '1747211197', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 03:26:37,639 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 03:26:37,640 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 08:26:37 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': '8e9e511e-b285-44f8-8c95-da86dd29d023', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 6ac2d46e7b30474336cca1ec90f38fd8.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P12', 'X-Amz-Cf-Id': 'sVNYTlzrXlxPFW_QXfl7YG_eciTmupvOIIOcTpkabhFT0BGj4zEkiA=='}
2025-05-14 03:26:37,640 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 03:26:37,643 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 03:26:37,647 - root - INFO - [BTC-USD] RL agent signal: hold (action_int: 0)
2025-05-14 03:26:37,649 - root - INFO - Trading cycle finished. Signals: {'BTC-USD': 'hold'}
2025-05-14 03:31:37,691 - root - INFO - Starting new trading cycle...
2025-05-14 03:31:37,693 - root - INFO - Fetching current holdings via broker client...
2025-05-14 03:31:37,694 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 03:31:37,694 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 03:31:37,694 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 03:31:37,694 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 03:31:37,695 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': 'idlK5l/39N9N1yaX6KfWpF5VhRDCvqVj9HAOXmrfipni7OLzZx7/FPiIPtppzLjYJMgiPB2TMNmOzRf+nw7yAQ==', 'x-timestamp': '1747211497', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 03:31:37,953 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 03:31:37,954 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 08:31:38 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': '2e1ba802-aa4d-42a8-b090-ee730bb08c38', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 2ab8d81143d0eff22704079091d87f82.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P12', 'X-Amz-Cf-Id': 'TXzn151OJJPV3tfGznprIHTZNiw5SMxkycOC19t3xqN67NVD6qdW-A=='}
2025-05-14 03:31:37,954 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 03:31:37,957 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 03:31:37,957 - root - INFO - Successfully retrieved 1 holdings: ['BTC']
2025-05-14 03:31:37,957 - alt_crypto_data - INFO - Attempting to fetch data for BTC-USD via yfinance...
2025-05-14 03:31:37,957 - alt_crypto_data - INFO - Fetching price history for BTC-USD from yfinance (Start: 2025-02-08, End: 2025-05-14, Interval: 1h)...
2025-05-14 03:31:38,545 - alt_crypto_data - INFO - Successfully fetched 2281 data points for BTC-USD from yfinance.
2025-05-14 03:31:38,545 - alt_crypto_data - INFO - Successfully fetched data for BTC-USD via yfinance.
2025-05-14 03:31:39,113 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/accounts/
2025-05-14 03:31:39,113 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 03:31:39,113 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 03:31:39,113 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/accounts/
2025-05-14 03:31:39,114 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': 'TuEN0PJktSU1jrVkrSF6fFqUx9b5d8U6h6/4l0lNFwa8IQvI19lkabbHUbNGPjaeNzGmXIbKhSr8xwnoiOJ3AA==', 'x-timestamp': '1747211499', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 03:31:39,419 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 03:31:39,420 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '106', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 08:31:39 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': '4605aad7-4e35-4db6-b170-5aec859feb19', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 b387ad1a45e33d1134d371ee1cfe2158.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P12', 'X-Amz-Cf-Id': '0o2N52R_xjFI7_QGePP7tjJSpd20Fkw-jRxfnPDUiMmQOQyWn6_4Lg=='}
2025-05-14 03:31:39,420 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"account_number":"311081964512","status":"active","buying_power":"16.5500","buying_power_currency":"USD"}...
2025-05-14 03:31:39,420 - brokers.robinhood_broker - DEBUG - Raw response from _make_api_request in get_account_info: {'account_number': '311081964512', 'status': 'active', 'buying_power': '16.5500', 'buying_power_currency': 'USD'}
2025-05-14 03:31:39,421 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 03:31:39,421 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 03:31:39,421 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 03:31:39,421 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 03:31:39,421 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': 'cLb1lTQSx/I/B+tWjVi4RuFlA47BI31kgM/1kjqMLsK65H7Cwu0vx1FTvMJkNko8YBV67YpoWPUlDA7USfrBCA==', 'x-timestamp': '1747211499', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 03:31:39,622 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 03:31:39,623 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 08:31:39 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': '5152672d-e799-47b3-b039-e5323b8a72c2', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 71b3f95cc76e27f7c4152c2c830d914a.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P12', 'X-Amz-Cf-Id': 'eZ2Wz-7Q_iWK_8-u3DWQIWJk3nQiOUqXSkK0nvt9PPdxXRumH7SuUg=='}
2025-05-14 03:31:39,623 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 03:31:39,624 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 03:31:39,625 - root - INFO - [BTC-USD] RL agent signal: hold (action_int: 0)
2025-05-14 03:31:39,626 - root - INFO - Trading cycle finished. Signals: {'BTC-USD': 'hold'}
2025-05-14 03:36:39,643 - root - INFO - Starting new trading cycle...
2025-05-14 03:36:39,645 - root - INFO - Fetching current holdings via broker client...
2025-05-14 03:36:39,645 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 03:36:39,645 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 03:36:39,645 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 03:36:39,646 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 03:36:39,646 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': 'OqxyiX0/Pw6ANhiQ/kYcwysFGJJfW+aTVP1YyVpiPyS5M3Yx8rl2E/3rovMLkvBKiwlad2W3na0MSWRn8J7wAg==', 'x-timestamp': '1747211799', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 03:36:39,991 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 03:36:39,991 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 08:36:40 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': '7e7577da-9dd4-4dd8-a4be-ce2cd6629d1b', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 56e9426457646294fdbdd72f0d8ff24a.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P12', 'X-Amz-Cf-Id': 'cpJbNxXuOn3J6aPCyT5C2kf_5xi8pQcVeVOe_BttyfnSb20H8v7lYQ=='}
2025-05-14 03:36:39,991 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 03:36:39,992 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 03:36:39,992 - root - INFO - Successfully retrieved 1 holdings: ['BTC']
2025-05-14 03:36:39,992 - alt_crypto_data - INFO - Attempting to fetch data for BTC-USD via yfinance...
2025-05-14 03:36:39,992 - alt_crypto_data - INFO - Fetching price history for BTC-USD from yfinance (Start: 2025-02-08, End: 2025-05-14, Interval: 1h)...
2025-05-14 03:36:40,686 - alt_crypto_data - INFO - Successfully fetched 2281 data points for BTC-USD from yfinance.
2025-05-14 03:36:40,687 - alt_crypto_data - INFO - Successfully fetched data for BTC-USD via yfinance.
2025-05-14 03:36:41,247 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/accounts/
2025-05-14 03:36:41,247 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 03:36:41,247 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 03:36:41,247 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/accounts/
2025-05-14 03:36:41,247 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': 'bgU80ApOszbdMp3RhZYeLcK9kDFru1nHnIUnoYgEh6lKqtUE1OPSz4mxxH7WPYqUFy6s2KpBwGWzUgKiPxD9Bw==', 'x-timestamp': '1747211801', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 03:36:41,503 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 03:36:41,503 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '106', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 08:36:41 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': '857a6d5a-f392-4270-ac6d-dbc70afd18aa', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 48ae30b385d6a5d01d175d0518196f70.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P12', 'X-Amz-Cf-Id': 'yoELKkbY_7b3p_1mS6nmnoOzAMrVJewjd_vNVvRYLJo4-qF87E56Cg=='}
2025-05-14 03:36:41,503 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"account_number":"311081964512","status":"active","buying_power":"16.5500","buying_power_currency":"USD"}...
2025-05-14 03:36:41,504 - brokers.robinhood_broker - DEBUG - Raw response from _make_api_request in get_account_info: {'account_number': '311081964512', 'status': 'active', 'buying_power': '16.5500', 'buying_power_currency': 'USD'}
2025-05-14 03:36:41,504 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 03:36:41,504 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 03:36:41,504 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 03:36:41,504 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 03:36:41,504 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': 'GhIAbCM9BnIAfXsuuw72JxTr8FGqpNPplDt0WrnQg8WOUT3h/ah8lhvlciL8q9t/aI70WpJoUTMQ8BkANPH1Ag==', 'x-timestamp': '1747211801', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 03:36:41,685 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 03:36:41,685 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 08:36:41 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': '21115c75-394e-40d7-a610-2a97a237b3de', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 6ac2d46e7b30474336cca1ec90f38fd8.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P12', 'X-Amz-Cf-Id': 'Vuy7Q5PCBb7y8xH-eI3sVcHvzW0GdsIQp4H3yaLGpd1flGzR_6m2yg=='}
2025-05-14 03:36:41,685 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 03:36:41,687 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 03:36:41,690 - root - INFO - [BTC-USD] RL agent signal: hold (action_int: 0)
2025-05-14 03:36:41,692 - root - INFO - Trading cycle finished. Signals: {'BTC-USD': 'hold'}
2025-05-14 03:37:21,203 - root - INFO - Logging setup complete. Root logger level: INFO, File: crypto_bot.log
2025-05-14 03:37:21,203 - root - INFO - Experience logger setup complete. File: /Users/activate/Dev/robinhood-crypto-bot/logs/live_experience.log
2025-05-14 03:37:21,203 - root - INFO - Set 'brokers.robinhood_broker' level. Effective level now: 10
2025-05-14 03:37:21,203 - root - INFO - --- Initializing Crypto Bot (Revised Logging) --- 
2025-05-14 03:37:21,203 - root - INFO - Loading configuration...
2025-05-14 03:37:21,203 - root - INFO - DEFAULT_RL_ACTIONS_MAP from config: {0: 'hold', 1: 'buy', 2: 'sell'}
2025-05-14 03:37:21,204 - root - INFO - Initial self.action_map set to DEFAULT: {0: 'hold', 1: 'buy', 2: 'sell'}
2025-05-14 03:37:21,204 - root - INFO - Final self.action_map in __init__: {0: 'hold', 1: 'buy', 2: 'sell'}
2025-05-14 03:37:21,204 - root - INFO - Configuration loaded: Symbols=['BTC-USD'], Strategy=rl, Trading Enabled=True
2025-05-14 03:37:21,204 - root - INFO - RL strategy selected. Attempting to load model from: trained_models/BTC_USD_PPO_optimized_may3_50000steps.zip
2025-05-14 03:37:21,885 - root - INFO - RL Agent loaded successfully.
2025-05-14 03:37:21,885 - root - INFO - Initializing broker (Type: RobinhoodBroker)...
2025-05-14 03:37:21,885 - brokers.base_broker - INFO - Initializing RobinhoodBroker...
2025-05-14 03:37:21,885 - brokers.robinhood_broker - INFO - Initializing RobinhoodBroker with logger. Effective level: 10 (DEBUG=10)
2025-05-14 03:37:21,885 - brokers.robinhood_broker - INFO - RobinhoodBroker initialized for base URL: https://trading.robinhood.com
2025-05-14 03:37:21,885 - root - INFO - RobinhoodBroker initialized successfully.
2025-05-14 03:37:21,885 - root - INFO - Initializing data provider (Preference: yfinance)...
2025-05-14 03:37:21,885 - root - ERROR - Failed to initialize AltCryptoDataProvider.
Traceback (most recent call last):
  File "/Users/activate/Dev/robinhood-crypto-bot/crypto_bot.py", line 242, in __init__
    self.data_provider = AltCryptoDataProvider(config=self.config) # Pass config if needed by provider
TypeError: AltCryptoDataProvider.__init__() got an unexpected keyword argument 'config'
2025-05-14 03:37:21,885 - crypto_bot_logger - CRITICAL - {"timestamp": "2025-05-14T08:37:21.885570+00:00", "source_component": "crypto_bot", "event_type": "DATA_PROVIDER_INIT_ERROR", "message": "Failed to initialize AltCryptoDataProvider.", "severity": "CRITICAL", "details": {"error_type": "TypeError", "error_message": "AltCryptoDataProvider.__init__() got an unexpected keyword argument 'config'"}}
2025-05-14 03:37:21,885 - root - CRITICAL - CRITICAL: Data provider failed to initialize. Bot cannot fetch market data. Trading disabled.
2025-05-14 03:37:21,885 - root - INFO - Fetching initial holdings...
2025-05-14 03:37:21,885 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T08:37:21.885721+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_ATTEMPT", "message": "Attempting to fetch current holdings.", "severity": "INFO"}
2025-05-14 03:37:21,885 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 03:37:21,885 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 03:37:21,885 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 03:37:21,885 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 03:37:21,886 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': 'oM7FQPBhPUb8Key9ZdXlbU4DIn78sFM28pw66RoYYb7Getg6mEc2Ij9x9o6uNd3Fx1+UIfeyXT42ecmKOhYWCA==', 'x-timestamp': '1747211841', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 03:37:22,075 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 03:37:22,075 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 08:37:22 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': '4f2132ae-c3e0-4917-9daa-6ea470388188', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 18e3be7d90c576cf0f6cf2603d4987c8.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P12', 'X-Amz-Cf-Id': 'Ya4OZ1ErM4yG-7dpto-XoL-CCbBxVPIV2yv4t8bQLeodklvnenIZEg=='}
2025-05-14 03:37:22,075 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 03:37:22,076 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 03:37:22,077 - root - ERROR - An unexpected error occurred during bot execution:
Traceback (most recent call last):
  File "/Users/activate/Dev/robinhood-crypto-bot/crypto_bot.py", line 927, in get_holdings
    _log_structured_event(
TypeError: _log_structured_event() got an unexpected keyword argument 'holdings_count'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/activate/Dev/robinhood-crypto-bot/crypto_bot.py", line 1109, in <module>
    bot = RobinhoodCryptoBot()
  File "/Users/activate/Dev/robinhood-crypto-bot/crypto_bot.py", line 285, in __init__
    self.get_holdings() # <-- Correct method name (matches API client method)
  File "/Users/activate/Dev/robinhood-crypto-bot/crypto_bot.py", line 951, in get_holdings
    _log_structured_event(
TypeError: _log_structured_event() got an unexpected keyword argument 'error_message'
2025-05-14 03:37:22,077 - root - INFO - Bot execution finished.
2025-05-14 03:38:19,651 - root - INFO - Logging setup complete. Root logger level: INFO, File: crypto_bot.log
2025-05-14 03:38:19,652 - root - INFO - Experience logger setup complete. File: /Users/activate/Dev/robinhood-crypto-bot/logs/live_experience.log
2025-05-14 03:38:19,652 - root - INFO - Set 'brokers.robinhood_broker' level. Effective level now: 10
2025-05-14 03:38:19,652 - root - INFO - --- Initializing Crypto Bot (Revised Logging) --- 
2025-05-14 03:38:19,652 - root - INFO - Loading configuration...
2025-05-14 03:38:19,652 - root - INFO - DEFAULT_RL_ACTIONS_MAP from config: {0: 'hold', 1: 'buy', 2: 'sell'}
2025-05-14 03:38:19,652 - root - INFO - Initial self.action_map set to DEFAULT: {0: 'hold', 1: 'buy', 2: 'sell'}
2025-05-14 03:38:19,652 - root - INFO - Final self.action_map in __init__: {0: 'hold', 1: 'buy', 2: 'sell'}
2025-05-14 03:38:19,652 - root - INFO - Configuration loaded: Symbols=['BTC-USD'], Strategy=rl, Trading Enabled=True
2025-05-14 03:38:19,652 - root - INFO - RL strategy selected. Attempting to load model from: trained_models/BTC_USD_PPO_optimized_may3_50000steps.zip
2025-05-14 03:38:20,291 - root - INFO - RL Agent loaded successfully.
2025-05-14 03:38:20,292 - root - INFO - Initializing broker (Type: RobinhoodBroker)...
2025-05-14 03:38:20,292 - brokers.base_broker - INFO - Initializing RobinhoodBroker...
2025-05-14 03:38:20,292 - brokers.robinhood_broker - INFO - Initializing RobinhoodBroker with logger. Effective level: 10 (DEBUG=10)
2025-05-14 03:38:20,292 - brokers.robinhood_broker - INFO - RobinhoodBroker initialized for base URL: https://trading.robinhood.com
2025-05-14 03:38:20,292 - root - INFO - RobinhoodBroker initialized successfully.
2025-05-14 03:38:20,292 - root - INFO - Initializing data provider (Preference: yfinance)...
2025-05-14 03:38:20,292 - root - ERROR - Failed to initialize AltCryptoDataProvider.
Traceback (most recent call last):
  File "/Users/activate/Dev/robinhood-crypto-bot/crypto_bot.py", line 243, in __init__
    from data_providers.yfinance_data_provider import YFinanceDataProvider
ModuleNotFoundError: No module named 'data_providers'
2025-05-14 03:38:20,292 - crypto_bot_logger - CRITICAL - {"timestamp": "2025-05-14T08:38:20.292519+00:00", "source_component": "crypto_bot", "event_type": "DATA_PROVIDER_INIT_ERROR", "message": "Failed to initialize AltCryptoDataProvider.", "severity": "CRITICAL", "details": {"error_type": "ModuleNotFoundError", "error_message": "No module named 'data_providers'"}}
2025-05-14 03:38:20,292 - root - CRITICAL - CRITICAL: Data provider failed to initialize. Bot cannot fetch market data. Trading disabled.
2025-05-14 03:38:20,292 - root - INFO - Fetching initial holdings...
2025-05-14 03:38:20,292 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T08:38:20.292668+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_ATTEMPT", "message": "Attempting to fetch current holdings.", "severity": "INFO"}
2025-05-14 03:38:20,292 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 03:38:20,292 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 03:38:20,292 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 03:38:20,292 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 03:38:20,292 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': '+DhFZTMaDMyRaZu+3JelpEpJn7aftiNUnH37IgBBjvsfnT+HcQacwudMg93OkBTUjnsd3EjEraS+mv96hYUhAw==', 'x-timestamp': '1747211900', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 03:38:20,594 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 03:38:20,594 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 08:38:20 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': '9e5ac263-309d-45ac-973f-71c74f10da65', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 65ee5def609f0f11c7b1a63009b98386.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P12', 'X-Amz-Cf-Id': '6i0TVPgZjH75FbQuL77BTfAi4WlC5lzX7nJkROUeq6_r6kpPqyxlxA=='}
2025-05-14 03:38:20,595 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 03:38:20,598 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 03:38:20,599 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T08:38:20.599290+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_SUCCESS", "message": "Successfully retrieved and processed 1 holdings.", "severity": "INFO", "details": {"holdings_count": 1, "assets_held": ["BTC"]}}
2025-05-14 03:38:20,599 - root - INFO - RobinhoodCryptoBot __init__ finished. Trading Enabled: False
2025-05-14 03:38:20,599 - root - INFO - Starting main bot run loop. Checking every 5 minutes.
2025-05-14 03:38:20,600 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T08:38:20.600093+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_START", "message": "Starting new trading cycle.", "severity": "INFO"}
2025-05-14 03:38:20,600 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T08:38:20.600341+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_ATTEMPT", "message": "Attempting to fetch current holdings.", "severity": "INFO"}
2025-05-14 03:38:20,600 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 03:38:20,600 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 03:38:20,601 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 03:38:20,601 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 03:38:20,601 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': '+DhFZTMaDMyRaZu+3JelpEpJn7aftiNUnH37IgBBjvsfnT+HcQacwudMg93OkBTUjnsd3EjEraS+mv96hYUhAw==', 'x-timestamp': '1747211900', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 03:38:20,823 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 03:38:20,824 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 08:38:20 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': 'cbc28a50-fc8a-4029-a465-ef6dbb7848c5', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 d94048c82f133be2b27e307859c05590.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P12', 'X-Amz-Cf-Id': 'u0bPdTy-Xt5bg50QSEVHV9Dp8Hf53oLwDqoARnoP097q8ZlDemXy7A=='}
2025-05-14 03:38:20,824 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 03:38:20,825 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 03:38:20,825 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T08:38:20.825446+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_SUCCESS", "message": "Successfully retrieved and processed 1 holdings.", "severity": "INFO", "details": {"holdings_count": 1, "assets_held": ["BTC"]}}
2025-05-14 03:38:20,825 - root - ERROR - An unexpected error occurred during bot execution:
Traceback (most recent call last):
  File "/Users/activate/Dev/robinhood-crypto-bot/crypto_bot.py", line 992, in run_trading_cycle
    _log_structured_event(logging.DEBUG, "HOLDINGS_UPDATE_COMPLETE", "Holdings update process finished.", holdings=self.holdings)
TypeError: _log_structured_event() got an unexpected keyword argument 'holdings'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/activate/Dev/robinhood-crypto-bot/crypto_bot.py", line 1128, in <module>
    bot.run()
  File "/Users/activate/Dev/robinhood-crypto-bot/crypto_bot.py", line 1088, in run
    self.run_trading_cycle()
  File "/Users/activate/Dev/robinhood-crypto-bot/crypto_bot.py", line 994, in run_trading_cycle
    _log_structured_event(logging.ERROR, "HOLDINGS_UPDATE_ERROR_IN_CYCLE",
TypeError: _log_structured_event() got an unexpected keyword argument 'error_message'
2025-05-14 03:38:20,825 - root - INFO - Bot execution finished.
2025-05-14 03:40:09,179 - root - INFO - Logging setup complete. Root logger level: INFO, File: crypto_bot.log
2025-05-14 03:40:09,179 - root - INFO - Experience logger setup complete. File: /Users/activate/Dev/robinhood-crypto-bot/logs/live_experience.log
2025-05-14 03:40:09,179 - root - INFO - Set 'brokers.robinhood_broker' level. Effective level now: 10
2025-05-14 03:40:09,179 - root - INFO - --- Initializing Crypto Bot (Revised Logging) --- 
2025-05-14 03:40:09,179 - root - INFO - Loading configuration...
2025-05-14 03:40:09,179 - root - INFO - DEFAULT_RL_ACTIONS_MAP from config: {0: 'hold', 1: 'buy', 2: 'sell'}
2025-05-14 03:40:09,179 - root - INFO - Initial self.action_map set to DEFAULT: {0: 'hold', 1: 'buy', 2: 'sell'}
2025-05-14 03:40:09,179 - root - INFO - Final self.action_map in __init__: {0: 'hold', 1: 'buy', 2: 'sell'}
2025-05-14 03:40:09,179 - root - INFO - Configuration loaded: Symbols=['BTC-USD'], Strategy=rl, Trading Enabled=True
2025-05-14 03:40:09,179 - root - INFO - RL strategy selected. Attempting to load model from: trained_models/BTC_USD_PPO_optimized_may3_50000steps.zip
2025-05-14 03:40:09,677 - root - INFO - RL Agent loaded successfully.
2025-05-14 03:40:09,677 - root - INFO - Initializing broker (Type: RobinhoodBroker)...
2025-05-14 03:40:09,677 - brokers.base_broker - INFO - Initializing RobinhoodBroker...
2025-05-14 03:40:09,677 - brokers.robinhood_broker - INFO - Initializing RobinhoodBroker with logger. Effective level: 10 (DEBUG=10)
2025-05-14 03:40:09,677 - brokers.robinhood_broker - INFO - RobinhoodBroker initialized for base URL: https://trading.robinhood.com
2025-05-14 03:40:09,677 - root - INFO - RobinhoodBroker initialized successfully.
2025-05-14 03:40:09,677 - root - INFO - Initializing data provider (Preference: yfinance)...
2025-05-14 03:40:09,677 - crypto_bot_logger - WARNING - {"timestamp": "2025-05-14T08:40:09.677768+00:00", "source_component": "crypto_bot", "event_type": "YFINANCE_PROVIDER_MISSING_FALLBACK_WARNING", "message": "DATA_PROVIDER_PREFERENCE is 'yfinance', but YFinanceDataProvider module is missing. Falling back to AltCryptoDataProvider.", "severity": "INFO", "details": {"preference": "yfinance", "fallback_provider": "AltCryptoDataProvider"}}
2025-05-14 03:40:09,677 - alt_crypto_data - INFO - AltCryptoDataProvider initialized. Primary source: yfinance, Fallback: CoinGecko
2025-05-14 03:40:09,683 - alt_crypto_data - INFO - NewsApiClient initialized for sentiment analysis.
2025-05-14 03:40:09,683 - root - INFO - AltCryptoDataProvider initialized as fallback for 'yfinance' preference.
2025-05-14 03:40:09,683 - root - INFO - Calculating initial normalization statistics for 27 RL technical indicators...
2025-05-14 03:40:09,683 - root - INFO - Starting normalization stats calculation for symbols: ['BTC-USD']
2025-05-14 03:40:09,683 - alt_crypto_data - INFO - Attempting to fetch data for BTC-USD via yfinance...
2025-05-14 03:40:09,683 - alt_crypto_data - INFO - Fetching price history for BTC-USD from yfinance (Start: 2025-02-13, End: 2025-05-14, Interval: 1h)...
2025-05-14 03:40:10,493 - alt_crypto_data - INFO - Successfully fetched 2161 data points for BTC-USD from yfinance.
2025-05-14 03:40:10,493 - alt_crypto_data - INFO - Successfully fetched data for BTC-USD via yfinance.
2025-05-14 03:40:11,019 - root - INFO - Successfully calculated normalization stats for BTC-USD using 2161 data points.
2025-05-14 03:40:11,019 - root - INFO - Finished calculating initial normalization statistics.
2025-05-14 03:40:11,019 - root - INFO - Normalization stats calculated for: ['BTC-USD']
2025-05-14 03:40:11,020 - root - INFO - Fetching initial holdings...
2025-05-14 03:40:11,020 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T08:40:11.020061+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_ATTEMPT", "message": "Attempting to fetch current holdings.", "severity": "INFO"}
2025-05-14 03:40:11,020 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 03:40:11,020 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 03:40:11,020 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 03:40:11,020 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 03:40:11,020 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': 'PqWyaCQw71Qs5ZZBIi7LLQOHYtYdXLxGx6/jSb+1i1HXS9eXloA6EsFNpUzwuPtY5OGB5y1N8w2yk16QNWAWAA==', 'x-timestamp': '1747212011', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 03:40:11,348 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 03:40:11,359 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 08:40:11 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': '3dc42b36-ff3e-4827-85ea-a7ce77e5a47f', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 ece6d66b6f8dabfbcae2e81c12fea44e.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P12', 'X-Amz-Cf-Id': 'u6xGr1vunvmAc-BPNPJ3gHgqCbMKvz4JkZY7CmMtzV9okomE-1IzbQ=='}
2025-05-14 03:40:11,366 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 03:40:11,367 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 03:40:11,367 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T08:40:11.367641+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_SUCCESS", "message": "Successfully retrieved and processed 1 holdings.", "severity": "INFO", "details": {"holdings_count": 1, "assets_held": ["BTC"]}}
2025-05-14 03:40:11,367 - root - INFO - RobinhoodCryptoBot __init__ finished. Trading Enabled: True
2025-05-14 03:40:11,367 - root - INFO - Starting main bot run loop. Checking every 5 minutes.
2025-05-14 03:40:11,367 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T08:40:11.367828+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_START", "message": "Starting new trading cycle.", "severity": "INFO"}
2025-05-14 03:40:11,367 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T08:40:11.367899+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_ATTEMPT", "message": "Attempting to fetch current holdings.", "severity": "INFO"}
2025-05-14 03:40:11,367 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 03:40:11,367 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 03:40:11,368 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 03:40:11,368 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 03:40:11,368 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': 'PqWyaCQw71Qs5ZZBIi7LLQOHYtYdXLxGx6/jSb+1i1HXS9eXloA6EsFNpUzwuPtY5OGB5y1N8w2yk16QNWAWAA==', 'x-timestamp': '1747212011', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 03:40:11,554 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 03:40:11,554 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 08:40:11 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': '85ce16a1-899d-4e73-bc26-501683c6b668', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 0ead8174df18f4d332aa848aebd34024.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P12', 'X-Amz-Cf-Id': 'JstFsrxgTbGSORK2I2C8uV6gUDFeP2WP5a83ebcRKHfhZumMQ5vQbQ=='}
2025-05-14 03:40:11,554 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 03:40:11,555 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 03:40:11,555 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T08:40:11.555748+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_SUCCESS", "message": "Successfully retrieved and processed 1 holdings.", "severity": "INFO", "details": {"holdings_count": 1, "assets_held": ["BTC"]}}
2025-05-14 03:40:11,555 - root - ERROR - An unexpected error occurred during bot execution:
Traceback (most recent call last):
  File "/Users/activate/Dev/robinhood-crypto-bot/crypto_bot.py", line 1005, in run_trading_cycle
    _log_structured_event(
  File "/Users/activate/Dev/robinhood-crypto-bot/crypto_bot.py", line 66, in _log_structured_event
    logger.log(level, json.dumps(log_entry))
  File "/opt/homebrew/Caskroom/miniforge/base/lib/python3.10/json/__init__.py", line 231, in dumps
    return _default_encoder.encode(obj)
  File "/opt/homebrew/Caskroom/miniforge/base/lib/python3.10/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/opt/homebrew/Caskroom/miniforge/base/lib/python3.10/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/opt/homebrew/Caskroom/miniforge/base/lib/python3.10/site-packages/frozendict/__init__.py", line 32, in default
    return BaseJsonEncoder.default(
  File "/opt/homebrew/Caskroom/miniforge/base/lib/python3.10/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type Decimal is not JSON serializable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/activate/Dev/robinhood-crypto-bot/crypto_bot.py", line 1150, in <module>
    bot.run()
  File "/Users/activate/Dev/robinhood-crypto-bot/crypto_bot.py", line 1110, in run
    self.run_trading_cycle()
  File "/Users/activate/Dev/robinhood-crypto-bot/crypto_bot.py", line 1012, in run_trading_cycle
    _log_structured_event(
TypeError: _log_structured_event() got an unexpected keyword argument 'exc_info'
2025-05-14 03:40:11,556 - root - INFO - Bot execution finished.
2025-05-14 03:40:55,955 - root - INFO - Logging setup complete. Root logger level: INFO, File: crypto_bot.log
2025-05-14 03:40:55,956 - root - INFO - Experience logger setup complete. File: /Users/activate/Dev/robinhood-crypto-bot/logs/live_experience.log
2025-05-14 03:40:55,956 - root - INFO - Set 'brokers.robinhood_broker' level. Effective level now: 10
2025-05-14 03:40:55,956 - root - INFO - --- Initializing Crypto Bot (Revised Logging) --- 
2025-05-14 03:40:55,956 - root - INFO - Loading configuration...
2025-05-14 03:40:55,956 - root - INFO - DEFAULT_RL_ACTIONS_MAP from config: {0: 'hold', 1: 'buy', 2: 'sell'}
2025-05-14 03:40:55,956 - root - INFO - Initial self.action_map set to DEFAULT: {0: 'hold', 1: 'buy', 2: 'sell'}
2025-05-14 03:40:55,956 - root - INFO - Final self.action_map in __init__: {0: 'hold', 1: 'buy', 2: 'sell'}
2025-05-14 03:40:55,956 - root - INFO - Configuration loaded: Symbols=['BTC-USD'], Strategy=rl, Trading Enabled=True
2025-05-14 03:40:55,956 - root - INFO - RL strategy selected. Attempting to load model from: trained_models/BTC_USD_PPO_optimized_may3_50000steps.zip
2025-05-14 03:40:56,453 - root - INFO - RL Agent loaded successfully.
2025-05-14 03:40:56,454 - root - INFO - Initializing broker (Type: RobinhoodBroker)...
2025-05-14 03:40:56,454 - brokers.base_broker - INFO - Initializing RobinhoodBroker...
2025-05-14 03:40:56,454 - brokers.robinhood_broker - INFO - Initializing RobinhoodBroker with logger. Effective level: 10 (DEBUG=10)
2025-05-14 03:40:56,454 - brokers.robinhood_broker - INFO - RobinhoodBroker initialized for base URL: https://trading.robinhood.com
2025-05-14 03:40:56,454 - root - INFO - RobinhoodBroker initialized successfully.
2025-05-14 03:40:56,454 - root - INFO - Initializing data provider (Preference: yfinance)...
2025-05-14 03:40:56,454 - crypto_bot_logger - WARNING - {"timestamp": "2025-05-14T08:40:56.454483+00:00", "source_component": "crypto_bot", "event_type": "YFINANCE_PROVIDER_MISSING_FALLBACK_WARNING", "message": "DATA_PROVIDER_PREFERENCE is 'yfinance', but YFinanceDataProvider module is missing. Falling back to AltCryptoDataProvider.", "severity": "WARNING", "details": {"preference": "yfinance", "fallback_provider": "AltCryptoDataProvider"}}
2025-05-14 03:40:56,454 - alt_crypto_data - INFO - AltCryptoDataProvider initialized. Primary source: yfinance, Fallback: CoinGecko
2025-05-14 03:40:56,458 - alt_crypto_data - INFO - NewsApiClient initialized for sentiment analysis.
2025-05-14 03:40:56,458 - root - INFO - AltCryptoDataProvider initialized as fallback for 'yfinance' preference.
2025-05-14 03:40:56,458 - root - INFO - Calculating initial normalization statistics for 27 RL technical indicators...
2025-05-14 03:40:56,458 - root - INFO - Starting normalization stats calculation for symbols: ['BTC-USD']
2025-05-14 03:40:56,458 - alt_crypto_data - INFO - Attempting to fetch data for BTC-USD via yfinance...
2025-05-14 03:40:56,459 - alt_crypto_data - INFO - Fetching price history for BTC-USD from yfinance (Start: 2025-02-13, End: 2025-05-14, Interval: 1h)...
2025-05-14 03:40:57,089 - alt_crypto_data - INFO - Successfully fetched 2161 data points for BTC-USD from yfinance.
2025-05-14 03:40:57,090 - alt_crypto_data - INFO - Successfully fetched data for BTC-USD via yfinance.
2025-05-14 03:40:57,684 - root - INFO - Successfully calculated normalization stats for BTC-USD using 2161 data points.
2025-05-14 03:40:57,684 - root - INFO - Finished calculating initial normalization statistics.
2025-05-14 03:40:57,684 - root - INFO - Normalization stats calculated for: ['BTC-USD']
2025-05-14 03:40:57,684 - root - INFO - Fetching initial holdings...
2025-05-14 03:40:57,684 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T08:40:57.684549+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_ATTEMPT", "message": "Attempting to fetch current holdings.", "severity": "INFO"}
2025-05-14 03:40:57,684 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 03:40:57,684 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 03:40:57,684 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 03:40:57,684 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 03:40:57,684 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': 'kI0XGb+vloqCgk/4ctO6wE+bUhWwLhP4t+t+MnhPAOwThO+0Wi3KrQApxyoz2RywrRdoXQHoEqejoVxHBQR0DQ==', 'x-timestamp': '1747212057', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 03:40:57,918 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 03:40:57,918 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 08:40:57 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': 'acf7ff59-99f0-46d1-ac61-a3c1b49c6d3d', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 56e9426457646294fdbdd72f0d8ff24a.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P12', 'X-Amz-Cf-Id': '9LMWvLcmhWbcbOg8CXMS_6lJ0Hj-9LdsEGvJPVwcfmj3NXyvtt-dAA=='}
2025-05-14 03:40:57,919 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 03:40:57,919 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 03:40:57,919 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T08:40:57.919841+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_SUCCESS", "message": "Successfully retrieved and processed 1 holdings.", "severity": "INFO", "details": {"holdings_count": 1, "assets_held": ["BTC"]}}
2025-05-14 03:40:57,919 - root - INFO - RobinhoodCryptoBot __init__ finished. Trading Enabled: True
2025-05-14 03:40:57,919 - root - INFO - Starting main bot run loop. Checking every 5 minutes.
2025-05-14 03:40:57,920 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T08:40:57.920006+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_START", "message": "Starting new trading cycle.", "severity": "INFO"}
2025-05-14 03:40:57,920 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T08:40:57.920080+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_ATTEMPT", "message": "Attempting to fetch current holdings.", "severity": "INFO"}
2025-05-14 03:40:57,920 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 03:40:57,920 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 03:40:57,920 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 03:40:57,920 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 03:40:57,920 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': 'kI0XGb+vloqCgk/4ctO6wE+bUhWwLhP4t+t+MnhPAOwThO+0Wi3KrQApxyoz2RywrRdoXQHoEqejoVxHBQR0DQ==', 'x-timestamp': '1747212057', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 03:40:58,153 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 03:40:58,153 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 08:40:58 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': 'c2429de0-b8e7-48bb-b01e-349f1381f55c', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 48ae30b385d6a5d01d175d0518196f70.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P12', 'X-Amz-Cf-Id': '-UP1MToRbWVoJox9tgBr6-eg2sZNYMs1nq7IoNyyC81WuuooujV3rQ=='}
2025-05-14 03:40:58,153 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 03:40:58,154 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 03:40:58,154 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T08:40:58.154718+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_SUCCESS", "message": "Successfully retrieved and processed 1 holdings.", "severity": "INFO", "details": {"holdings_count": 1, "assets_held": ["BTC"]}}
2025-05-14 03:40:58,154 - root - ERROR - An unexpected error occurred during bot execution:
Traceback (most recent call last):
  File "/Users/activate/Dev/robinhood-crypto-bot/crypto_bot.py", line 1168, in <module>
    bot.run()
  File "/Users/activate/Dev/robinhood-crypto-bot/crypto_bot.py", line 1128, in run
    self.run_trading_cycle()
  File "/Users/activate/Dev/robinhood-crypto-bot/crypto_bot.py", line 1043, in run_trading_cycle
    _log_structured_event(logging.DEBUG, "DATA_FETCH_FOR_SIGNAL_ATTEMPT",
TypeError: _log_structured_event() got an unexpected keyword argument 'symbol'
2025-05-14 03:40:58,154 - root - INFO - Bot execution finished.
2025-05-14 03:41:41,745 - root - INFO - Starting new trading cycle...
2025-05-14 03:41:41,745 - root - INFO - Fetching current holdings via broker client...
2025-05-14 03:41:41,745 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 03:41:41,745 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 03:41:41,745 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 03:41:41,745 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 03:41:41,745 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': 'fRNmvH0h27TPRB2K4gh9AOMSJ3DRhK7LBYwuRzE3WTE5Yano5JFDrDVzdOiJOyyOn2ztnVqgWwGSyeszAbwTAg==', 'x-timestamp': '1747212101', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 03:41:41,997 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 03:41:41,997 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 08:41:42 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': 'e4a68c9e-42b7-441b-b21b-f5696c76ac03', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 08c82ab3383dabe3fa524280760ed8d0.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P12', 'X-Amz-Cf-Id': 'bI_U_9_qgoxo5awiFye9GCASCIoyq1o4Er98pEz1zPTsNeMs_KpocA=='}
2025-05-14 03:41:41,997 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 03:41:41,998 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 03:41:41,998 - root - INFO - Successfully retrieved 1 holdings: ['BTC']
2025-05-14 03:41:41,998 - alt_crypto_data - INFO - Attempting to fetch data for BTC-USD via yfinance...
2025-05-14 03:41:41,998 - alt_crypto_data - INFO - Fetching price history for BTC-USD from yfinance (Start: 2025-02-08, End: 2025-05-14, Interval: 1h)...
2025-05-14 03:41:42,626 - alt_crypto_data - INFO - Successfully fetched 2281 data points for BTC-USD from yfinance.
2025-05-14 03:41:42,627 - alt_crypto_data - INFO - Successfully fetched data for BTC-USD via yfinance.
2025-05-14 03:41:43,431 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/accounts/
2025-05-14 03:41:43,432 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 03:41:43,432 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 03:41:43,432 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/accounts/
2025-05-14 03:41:43,432 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': 'S0eXkTbRCapOOtQm876f2eVp+CFYTk2DdWXeG5oP7jewW2yc9S4v3gS3bJOIldRyxKkRlQXDQSfwvLvy/V9dBA==', 'x-timestamp': '1747212103', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 03:41:43,723 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 03:41:43,723 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '106', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 08:41:43 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': '88290006-af23-4952-85cc-37997fffd8ce', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 b29d0ca70e4af4f7067923ad4a7ff550.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P12', 'X-Amz-Cf-Id': 'nAErDYrBO9s6X0eoQSDNqL7gyXOeP_Ld79T8rVcUwbVfgTUUtdmgVg=='}
2025-05-14 03:41:43,723 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"account_number":"311081964512","status":"active","buying_power":"16.5500","buying_power_currency":"USD"}...
2025-05-14 03:41:43,724 - brokers.robinhood_broker - DEBUG - Raw response from _make_api_request in get_account_info: {'account_number': '311081964512', 'status': 'active', 'buying_power': '16.5500', 'buying_power_currency': 'USD'}
2025-05-14 03:41:43,724 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 03:41:43,724 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 03:41:43,724 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 03:41:43,724 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 03:41:43,724 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': '722bvN1sILNV4wuHh4nxPE02qnKvDCYUrVYuXpz/GKw80I2bSHqk2L3JdTP/IYw7m11mzuuL7KE5CmcKDDQsBA==', 'x-timestamp': '1747212103', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 03:41:43,899 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 03:41:43,899 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 08:41:43 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': 'cdb0b0dd-3e55-4875-a77a-073d578cf5a7', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 630029f02a626a1635ba05045c1a1e98.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P12', 'X-Amz-Cf-Id': 'ykDrK38w1DN69tUE5TWWNF2TO8bbWaT6krNJUysQbA4Xl3h0LfzHGg=='}
2025-05-14 03:41:43,899 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 03:41:43,905 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 03:41:43,912 - root - INFO - [BTC-USD] RL agent signal: hold (action_int: 0)
2025-05-14 03:41:43,919 - root - INFO - Trading cycle finished. Signals: {'BTC-USD': 'hold'}
2025-05-14 03:41:47,755 - root - INFO - Logging setup complete. Root logger level: INFO, File: crypto_bot.log
2025-05-14 03:41:47,755 - root - INFO - Experience logger setup complete. File: /Users/activate/Dev/robinhood-crypto-bot/logs/live_experience.log
2025-05-14 03:41:47,755 - root - INFO - Set 'brokers.robinhood_broker' level. Effective level now: 10
2025-05-14 03:41:47,755 - root - INFO - --- Initializing Crypto Bot (Revised Logging) --- 
2025-05-14 03:41:47,755 - root - INFO - Loading configuration...
2025-05-14 03:41:47,755 - root - INFO - DEFAULT_RL_ACTIONS_MAP from config: {0: 'hold', 1: 'buy', 2: 'sell'}
2025-05-14 03:41:47,755 - root - INFO - Initial self.action_map set to DEFAULT: {0: 'hold', 1: 'buy', 2: 'sell'}
2025-05-14 03:41:47,755 - root - INFO - Final self.action_map in __init__: {0: 'hold', 1: 'buy', 2: 'sell'}
2025-05-14 03:41:47,755 - root - INFO - Configuration loaded: Symbols=['BTC-USD'], Strategy=rl, Trading Enabled=True
2025-05-14 03:41:47,755 - root - INFO - RL strategy selected. Attempting to load model from: trained_models/BTC_USD_PPO_optimized_may3_50000steps.zip
2025-05-14 03:41:48,416 - root - INFO - RL Agent loaded successfully.
2025-05-14 03:41:48,416 - root - INFO - Initializing broker (Type: RobinhoodBroker)...
2025-05-14 03:41:48,416 - brokers.base_broker - INFO - Initializing RobinhoodBroker...
2025-05-14 03:41:48,416 - brokers.robinhood_broker - INFO - Initializing RobinhoodBroker with logger. Effective level: 10 (DEBUG=10)
2025-05-14 03:41:48,416 - brokers.robinhood_broker - INFO - RobinhoodBroker initialized for base URL: https://trading.robinhood.com
2025-05-14 03:41:48,416 - root - INFO - RobinhoodBroker initialized successfully.
2025-05-14 03:41:48,416 - root - INFO - Initializing data provider (Preference: yfinance)...
2025-05-14 03:41:48,417 - crypto_bot_logger - WARNING - {"timestamp": "2025-05-14T08:41:48.417107+00:00", "source_component": "crypto_bot", "event_type": "YFINANCE_PROVIDER_MISSING_FALLBACK_WARNING", "message": "DATA_PROVIDER_PREFERENCE is 'yfinance', but YFinanceDataProvider module is missing. Falling back to AltCryptoDataProvider.", "severity": "WARNING", "details": {"preference": "yfinance", "fallback_provider": "AltCryptoDataProvider"}}
2025-05-14 03:41:48,417 - alt_crypto_data - INFO - AltCryptoDataProvider initialized. Primary source: yfinance, Fallback: CoinGecko
2025-05-14 03:41:48,421 - alt_crypto_data - INFO - NewsApiClient initialized for sentiment analysis.
2025-05-14 03:41:48,421 - root - INFO - AltCryptoDataProvider initialized as fallback for 'yfinance' preference.
2025-05-14 03:41:48,421 - root - INFO - Calculating initial normalization statistics for 27 RL technical indicators...
2025-05-14 03:41:48,421 - root - INFO - Starting normalization stats calculation for symbols: ['BTC-USD']
2025-05-14 03:41:48,421 - alt_crypto_data - INFO - Attempting to fetch data for BTC-USD via yfinance...
2025-05-14 03:41:48,421 - alt_crypto_data - INFO - Fetching price history for BTC-USD from yfinance (Start: 2025-02-13, End: 2025-05-14, Interval: 1h)...
2025-05-14 03:41:48,980 - alt_crypto_data - INFO - Successfully fetched 2161 data points for BTC-USD from yfinance.
2025-05-14 03:41:48,980 - alt_crypto_data - INFO - Successfully fetched data for BTC-USD via yfinance.
2025-05-14 03:41:49,521 - root - INFO - Successfully calculated normalization stats for BTC-USD using 2161 data points.
2025-05-14 03:41:49,521 - root - INFO - Finished calculating initial normalization statistics.
2025-05-14 03:41:49,521 - root - INFO - Normalization stats calculated for: ['BTC-USD']
2025-05-14 03:41:49,521 - root - INFO - Fetching initial holdings...
2025-05-14 03:41:49,521 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T08:41:49.521490+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_ATTEMPT", "message": "Attempting to fetch current holdings.", "severity": "INFO"}
2025-05-14 03:41:49,521 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 03:41:49,521 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 03:41:49,521 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 03:41:49,521 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 03:41:49,521 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': 'zkafggNF/JPz8Wp1qZeZgALuovFvIb1wP4xP6r1N1tBX7jVUvVSrOjWJpGowslOKYLPd/9/LHIt3/HEDiwfTBQ==', 'x-timestamp': '1747212109', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 03:41:49,703 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 03:41:49,703 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 08:41:49 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': '4778d0f8-55a7-4b45-b151-0e7cd20cc095', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 b29d0ca70e4af4f7067923ad4a7ff550.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P12', 'X-Amz-Cf-Id': '1Zr_zxVRFb4FvYbQgOm55t6gtG78R2gV3btkSO0wQGs4u_Iug2EUNw=='}
2025-05-14 03:41:49,703 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 03:41:49,704 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 03:41:49,704 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T08:41:49.704711+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_SUCCESS", "message": "Successfully retrieved and processed 1 holdings.", "severity": "INFO", "details": {"holdings_count": 1, "assets_held": ["BTC"]}}
2025-05-14 03:41:49,704 - root - INFO - RobinhoodCryptoBot __init__ finished. Trading Enabled: True
2025-05-14 03:41:49,704 - root - INFO - Starting main bot run loop. Checking every 5 minutes.
2025-05-14 03:41:49,705 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T08:41:49.704965+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_START", "message": "Starting new trading cycle.", "severity": "INFO"}
2025-05-14 03:41:49,705 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T08:41:49.705120+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_ATTEMPT", "message": "Attempting to fetch current holdings.", "severity": "INFO"}
2025-05-14 03:41:49,705 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 03:41:49,705 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 03:41:49,705 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 03:41:49,705 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 03:41:49,705 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': 'zkafggNF/JPz8Wp1qZeZgALuovFvIb1wP4xP6r1N1tBX7jVUvVSrOjWJpGowslOKYLPd/9/LHIt3/HEDiwfTBQ==', 'x-timestamp': '1747212109', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 03:41:49,896 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 03:41:49,896 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 08:41:49 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': 'b0aef144-2c47-4d52-bb9c-53e87c3a6b48', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 41005d8d2dad4c8b316f03c237bcb42c.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P12', 'X-Amz-Cf-Id': '13zbySQa5GgDvjX4dUUdHVtpMt-Wonegn6Y8-FWNnjVIM_V-UYWdJg=='}
2025-05-14 03:41:49,896 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 03:41:49,897 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 03:41:49,897 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T08:41:49.897595+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_SUCCESS", "message": "Successfully retrieved and processed 1 holdings.", "severity": "INFO", "details": {"holdings_count": 1, "assets_held": ["BTC"]}}
2025-05-14 03:41:49,897 - alt_crypto_data - INFO - Attempting to fetch data for BTC-USD via yfinance...
2025-05-14 03:41:49,897 - alt_crypto_data - INFO - Fetching price history for BTC-USD from yfinance (Start: 2025-02-08, End: 2025-05-14, Interval: 1h)...
2025-05-14 03:41:50,107 - alt_crypto_data - INFO - Successfully fetched 2281 data points for BTC-USD from yfinance.
2025-05-14 03:41:50,107 - alt_crypto_data - INFO - Successfully fetched data for BTC-USD via yfinance.
2025-05-14 03:41:50,107 - root - ERROR - An unexpected error occurred during bot execution:
Traceback (most recent call last):
  File "/Users/activate/Dev/robinhood-crypto-bot/crypto_bot.py", line 1058, in run_trading_cycle
    _log_structured_event(logging.DEBUG, "SIGNAL_GENERATION_INPUT_DATA_READY",
TypeError: _log_structured_event() got an unexpected keyword argument 'symbol'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/activate/Dev/robinhood-crypto-bot/crypto_bot.py", line 1169, in <module>
    bot.run()
  File "/Users/activate/Dev/robinhood-crypto-bot/crypto_bot.py", line 1129, in run
    self.run_trading_cycle()
  File "/Users/activate/Dev/robinhood-crypto-bot/crypto_bot.py", line 1073, in run_trading_cycle
    _log_structured_event(logging.ERROR, "FETCH_OR_SIGNAL_ERROR_IN_CYCLE",
TypeError: _log_structured_event() got an unexpected keyword argument 'symbol'
2025-05-14 03:41:50,107 - root - INFO - Bot execution finished.
2025-05-14 03:43:23,632 - root - INFO - Logging setup complete. Root logger level: INFO, File: crypto_bot.log
2025-05-14 03:43:23,632 - root - INFO - Experience logger setup complete. File: /Users/activate/Dev/robinhood-crypto-bot/logs/live_experience.log
2025-05-14 03:43:23,632 - root - INFO - Set 'brokers.robinhood_broker' level. Effective level now: 10
2025-05-14 03:43:23,632 - root - INFO - --- Initializing Crypto Bot (Revised Logging) --- 
2025-05-14 03:43:23,632 - root - INFO - Loading configuration...
2025-05-14 03:43:23,632 - root - INFO - DEFAULT_RL_ACTIONS_MAP from config: {0: 'hold', 1: 'buy', 2: 'sell'}
2025-05-14 03:43:23,632 - root - INFO - Initial self.action_map set to DEFAULT: {0: 'hold', 1: 'buy', 2: 'sell'}
2025-05-14 03:43:23,632 - root - INFO - Final self.action_map in __init__: {0: 'hold', 1: 'buy', 2: 'sell'}
2025-05-14 03:43:23,632 - root - INFO - Configuration loaded: Symbols=['BTC-USD'], Strategy=rl, Trading Enabled=True
2025-05-14 03:43:23,632 - root - INFO - RL strategy selected. Attempting to load model from: trained_models/BTC_USD_PPO_optimized_may3_50000steps.zip
2025-05-14 03:43:24,287 - root - INFO - RL Agent loaded successfully.
2025-05-14 03:43:24,287 - root - INFO - Initializing broker (Type: RobinhoodBroker)...
2025-05-14 03:43:24,287 - brokers.base_broker - INFO - Initializing RobinhoodBroker...
2025-05-14 03:43:24,287 - brokers.robinhood_broker - INFO - Initializing RobinhoodBroker with logger. Effective level: 10 (DEBUG=10)
2025-05-14 03:43:24,287 - brokers.robinhood_broker - INFO - RobinhoodBroker initialized for base URL: https://trading.robinhood.com
2025-05-14 03:43:24,287 - root - INFO - RobinhoodBroker initialized successfully.
2025-05-14 03:43:24,287 - root - INFO - Initializing data provider (Preference: yfinance)...
2025-05-14 03:43:24,288 - crypto_bot_logger - WARNING - {"timestamp": "2025-05-14T08:43:24.287978+00:00", "source_component": "crypto_bot", "event_type": "YFINANCE_PROVIDER_MISSING_FALLBACK_WARNING", "message": "DATA_PROVIDER_PREFERENCE is 'yfinance', but YFinanceDataProvider module is missing. Falling back to AltCryptoDataProvider.", "severity": "WARNING", "details": {"preference": "yfinance", "fallback_provider": "AltCryptoDataProvider"}}
2025-05-14 03:43:24,288 - alt_crypto_data - INFO - AltCryptoDataProvider initialized. Primary source: yfinance, Fallback: CoinGecko
2025-05-14 03:43:24,292 - alt_crypto_data - INFO - NewsApiClient initialized for sentiment analysis.
2025-05-14 03:43:24,292 - root - INFO - AltCryptoDataProvider initialized as fallback for 'yfinance' preference.
2025-05-14 03:43:24,292 - root - INFO - Calculating initial normalization statistics for 27 RL technical indicators...
2025-05-14 03:43:24,292 - root - INFO - Starting normalization stats calculation for symbols: ['BTC-USD']
2025-05-14 03:43:24,292 - alt_crypto_data - INFO - Attempting to fetch data for BTC-USD via yfinance...
2025-05-14 03:43:24,292 - alt_crypto_data - INFO - Fetching price history for BTC-USD from yfinance (Start: 2025-02-13, End: 2025-05-14, Interval: 1h)...
2025-05-14 03:43:25,144 - alt_crypto_data - INFO - Successfully fetched 2161 data points for BTC-USD from yfinance.
2025-05-14 03:43:25,145 - alt_crypto_data - INFO - Successfully fetched data for BTC-USD via yfinance.
2025-05-14 03:43:25,698 - root - INFO - Successfully calculated normalization stats for BTC-USD using 2161 data points.
2025-05-14 03:43:25,698 - root - INFO - Finished calculating initial normalization statistics.
2025-05-14 03:43:25,698 - root - INFO - Normalization stats calculated for: ['BTC-USD']
2025-05-14 03:43:25,698 - root - INFO - Fetching initial holdings...
2025-05-14 03:43:25,698 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T08:43:25.698787+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_ATTEMPT", "message": "Attempting to fetch current holdings.", "severity": "INFO"}
2025-05-14 03:43:25,698 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 03:43:25,698 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 03:43:25,699 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 03:43:25,699 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 03:43:25,699 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': 'Mga58LSO8jjK2wkGjdcPRWmwbzyESNi0/qoOIn6fcjYYxbiHyuvpxwiYKGO43do9FoCy19d/wvCkr33aNcZuCw==', 'x-timestamp': '1747212205', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 03:43:26,021 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 03:43:26,021 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 08:43:26 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': 'b3d1c62b-763d-4d40-bdf4-48ccc42189e2', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 7ebc316dbc5d3e4bd970d5c5f5f4a680.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P12', 'X-Amz-Cf-Id': 'HjzSc4CvH50K5tTH2vmQ__YVtlfw6LaPQkLy7SFmFIIxUKMWPgL1kQ=='}
2025-05-14 03:43:26,021 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 03:43:26,022 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 03:43:26,023 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T08:43:26.023016+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_SUCCESS", "message": "Successfully retrieved and processed 1 holdings.", "severity": "INFO", "details": {"holdings_count": 1, "assets_held": ["BTC"]}}
2025-05-14 03:43:26,023 - root - INFO - RobinhoodCryptoBot __init__ finished. Trading Enabled: True
2025-05-14 03:43:26,023 - root - INFO - Starting main bot run loop. Checking every 5 minutes.
2025-05-14 03:43:26,023 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T08:43:26.023211+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_START", "message": "Starting new trading cycle.", "severity": "INFO"}
2025-05-14 03:43:26,023 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T08:43:26.023280+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_ATTEMPT", "message": "Attempting to fetch current holdings.", "severity": "INFO"}
2025-05-14 03:43:26,023 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 03:43:26,023 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 03:43:26,023 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 03:43:26,023 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 03:43:26,023 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': 'dOJWlLk+DqcJEqBOGkIG2Eer4O7hepEv3BkaoNBerQNQcnQFq5czYlOOYM9nBpv5P7887WNrHTVt5ce6mVcpDg==', 'x-timestamp': '1747212206', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 03:43:26,200 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 03:43:26,200 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 08:43:26 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': '3a1da8aa-7de5-4262-9dff-37804b44e5e5', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 41005d8d2dad4c8b316f03c237bcb42c.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P12', 'X-Amz-Cf-Id': 'dH0ZOZJXJXow5FNcR6RU-UjjBUBi5LQbZazPqOdw29Kjd5aKl3vd5Q=='}
2025-05-14 03:43:26,200 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 03:43:26,201 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 03:43:26,202 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T08:43:26.201972+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_SUCCESS", "message": "Successfully retrieved and processed 1 holdings.", "severity": "INFO", "details": {"holdings_count": 1, "assets_held": ["BTC"]}}
2025-05-14 03:43:26,202 - alt_crypto_data - INFO - Attempting to fetch data for BTC-USD via yfinance...
2025-05-14 03:43:26,202 - alt_crypto_data - INFO - Fetching price history for BTC-USD from yfinance (Start: 2025-02-08, End: 2025-05-14, Interval: 1h)...
2025-05-14 03:43:26,375 - alt_crypto_data - INFO - Successfully fetched 2281 data points for BTC-USD from yfinance.
2025-05-14 03:43:26,375 - alt_crypto_data - INFO - Successfully fetched data for BTC-USD via yfinance.
2025-05-14 03:43:26,375 - crypto_bot_logger - ERROR - {"timestamp": "2025-05-14T08:43:26.375882+00:00", "source_component": "crypto_bot", "event_type": "FETCH_OR_SIGNAL_ERROR_IN_CYCLE", "message": "Error during data fetch or signal generation for BTC-USD: 'Config' object has no attribute 'get'", "severity": "ERROR", "details": {"symbol": "BTC-USD", "error_message": "'Config' object has no attribute 'get'"}}
Traceback (most recent call last):
  File "/Users/activate/Dev/robinhood-crypto-bot/crypto_bot.py", line 1067, in run_trading_cycle
    action_details['signal'] = self._get_signal(symbol, analysis_data)
  File "/Users/activate/Dev/robinhood-crypto-bot/crypto_bot.py", line 606, in _get_signal
    MIN_ROWS_FOR_FEATURES = self.config.get('rl_min_rows_for_features', 30) # Minimum rows for TA and feature generation
AttributeError: 'Config' object has no attribute 'get'
2025-05-14 03:43:26,376 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T08:43:26.376017+00:00", "source_component": "crypto_bot", "event_type": "TRADE_EXECUTION_PHASE_START", "message": "Starting trade execution phase based on signals.", "severity": "INFO"}
2025-05-14 03:43:26,376 - root - ERROR - An unexpected error occurred during bot execution:
Traceback (most recent call last):
  File "/Users/activate/Dev/robinhood-crypto-bot/crypto_bot.py", line 1182, in <module>
    bot.run()
  File "/Users/activate/Dev/robinhood-crypto-bot/crypto_bot.py", line 1142, in run
    self.run_trading_cycle()
  File "/Users/activate/Dev/robinhood-crypto-bot/crypto_bot.py", line 1132, in run_trading_cycle
    _log_structured_event(logging.INFO, "TRADING_CYCLE_COMPLETE",
TypeError: _log_structured_event() got an unexpected keyword argument 'signals_generated'
2025-05-14 03:43:26,376 - root - INFO - Bot execution finished.
2025-05-14 03:44:39,898 - root - INFO - Logging setup complete. Root logger level: INFO, File: crypto_bot.log
2025-05-14 03:44:39,898 - root - INFO - Experience logger setup complete. File: /Users/activate/Dev/robinhood-crypto-bot/logs/live_experience.log
2025-05-14 03:44:39,898 - root - INFO - Set 'brokers.robinhood_broker' level. Effective level now: 10
2025-05-14 03:44:39,898 - root - INFO - --- Initializing Crypto Bot (Revised Logging) --- 
2025-05-14 03:44:39,898 - root - INFO - Loading configuration...
2025-05-14 03:44:39,898 - root - INFO - DEFAULT_RL_ACTIONS_MAP from config: {0: 'hold', 1: 'buy', 2: 'sell'}
2025-05-14 03:44:39,898 - root - INFO - Initial self.action_map set to DEFAULT: {0: 'hold', 1: 'buy', 2: 'sell'}
2025-05-14 03:44:39,898 - root - INFO - Final self.action_map in __init__: {0: 'hold', 1: 'buy', 2: 'sell'}
2025-05-14 03:44:39,898 - root - INFO - Configuration loaded: Symbols=['BTC-USD'], Strategy=rl, Trading Enabled=True
2025-05-14 03:44:39,898 - root - INFO - RL strategy selected. Attempting to load model from: trained_models/BTC_USD_PPO_optimized_may3_50000steps.zip
2025-05-14 03:44:40,426 - root - INFO - RL Agent loaded successfully.
2025-05-14 03:44:40,426 - root - INFO - Initializing broker (Type: RobinhoodBroker)...
2025-05-14 03:44:40,426 - brokers.base_broker - INFO - Initializing RobinhoodBroker...
2025-05-14 03:44:40,426 - brokers.robinhood_broker - INFO - Initializing RobinhoodBroker with logger. Effective level: 10 (DEBUG=10)
2025-05-14 03:44:40,427 - brokers.robinhood_broker - INFO - RobinhoodBroker initialized for base URL: https://trading.robinhood.com
2025-05-14 03:44:40,427 - root - INFO - RobinhoodBroker initialized successfully.
2025-05-14 03:44:40,427 - root - INFO - Initializing data provider (Preference: yfinance)...
2025-05-14 03:44:40,427 - crypto_bot_logger - WARNING - {"timestamp": "2025-05-14T08:44:40.427230+00:00", "source_component": "crypto_bot", "event_type": "YFINANCE_PROVIDER_MISSING_FALLBACK_WARNING", "message": "DATA_PROVIDER_PREFERENCE is 'yfinance', but YFinanceDataProvider module is missing. Falling back to AltCryptoDataProvider.", "severity": "WARNING", "details": {"preference": "yfinance", "fallback_provider": "AltCryptoDataProvider"}}
2025-05-14 03:44:40,427 - alt_crypto_data - INFO - AltCryptoDataProvider initialized. Primary source: yfinance, Fallback: CoinGecko
2025-05-14 03:44:40,431 - alt_crypto_data - INFO - NewsApiClient initialized for sentiment analysis.
2025-05-14 03:44:40,431 - root - INFO - AltCryptoDataProvider initialized as fallback for 'yfinance' preference.
2025-05-14 03:44:40,431 - root - INFO - Calculating initial normalization statistics for 27 RL technical indicators...
2025-05-14 03:44:40,431 - root - INFO - Starting normalization stats calculation for symbols: ['BTC-USD']
2025-05-14 03:44:40,431 - alt_crypto_data - INFO - Attempting to fetch data for BTC-USD via yfinance...
2025-05-14 03:44:40,431 - alt_crypto_data - INFO - Fetching price history for BTC-USD from yfinance (Start: 2025-02-13, End: 2025-05-14, Interval: 1h)...
2025-05-14 03:44:41,419 - alt_crypto_data - INFO - Successfully fetched 2161 data points for BTC-USD from yfinance.
2025-05-14 03:44:41,420 - alt_crypto_data - INFO - Successfully fetched data for BTC-USD via yfinance.
2025-05-14 03:44:41,995 - root - INFO - Successfully calculated normalization stats for BTC-USD using 2161 data points.
2025-05-14 03:44:41,995 - root - INFO - Finished calculating initial normalization statistics.
2025-05-14 03:44:41,995 - root - INFO - Normalization stats calculated for: ['BTC-USD']
2025-05-14 03:44:41,995 - root - INFO - Fetching initial holdings...
2025-05-14 03:44:41,995 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T08:44:41.995745+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_ATTEMPT", "message": "Attempting to fetch current holdings.", "severity": "INFO"}
2025-05-14 03:44:41,995 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 03:44:41,995 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 03:44:41,996 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 03:44:41,996 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 03:44:41,996 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': 'XYCpOPqU7EWHhXmSazBNXabeQjKhyjGpKGewzsZuunj324yJa1L3y3iUrpiOzXOi0wdx1KZAYluIV2k9EO49DQ==', 'x-timestamp': '1747212281', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 03:44:42,244 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 03:44:42,244 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 08:44:42 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': '5863e90c-3bb2-4a71-9639-7bc0a37d4907', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 d94048c82f133be2b27e307859c05590.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P12', 'X-Amz-Cf-Id': 'fuIcE-ui344Nx2lg6Y0jUwVnxD5hOLEsv_WBE4Y_9m66rLlb7huOBg=='}
2025-05-14 03:44:42,245 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 03:44:42,245 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 03:44:42,245 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T08:44:42.245847+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_SUCCESS", "message": "Successfully retrieved and processed 1 holdings.", "severity": "INFO", "details": {"holdings_count": 1, "assets_held": ["BTC"]}}
2025-05-14 03:44:42,245 - root - INFO - RobinhoodCryptoBot __init__ finished. Trading Enabled: True
2025-05-14 03:44:42,245 - root - INFO - Starting main bot run loop. Checking every 5 minutes.
2025-05-14 03:44:42,246 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T08:44:42.246031+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_START", "message": "Starting new trading cycle.", "severity": "INFO"}
2025-05-14 03:44:42,246 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T08:44:42.246113+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_ATTEMPT", "message": "Attempting to fetch current holdings.", "severity": "INFO"}
2025-05-14 03:44:42,246 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 03:44:42,246 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 03:44:42,246 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 03:44:42,246 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 03:44:42,246 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': 'RB9MYIA1DNwjdnaMfqOfaEFmlsNpbSBd8a4byCyWyVGE1k/EGnd1Zx3N9YGATFZtGnL/zv/uc1SatE3V1TjLCQ==', 'x-timestamp': '1747212282', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 03:44:42,442 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 03:44:42,442 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 08:44:42 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': '7db413e8-80ca-49e3-98ef-69bd36ee9e94', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 630029f02a626a1635ba05045c1a1e98.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P12', 'X-Amz-Cf-Id': 'xIS_yr6csesEAvlGwZvmFu2K_dgCsDFvOFDneddA9cPaA14AyKZhWw=='}
2025-05-14 03:44:42,443 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 03:44:42,443 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 03:44:42,444 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T08:44:42.444046+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_SUCCESS", "message": "Successfully retrieved and processed 1 holdings.", "severity": "INFO", "details": {"holdings_count": 1, "assets_held": ["BTC"]}}
2025-05-14 03:44:42,444 - alt_crypto_data - INFO - Attempting to fetch data for BTC-USD via yfinance...
2025-05-14 03:44:42,444 - alt_crypto_data - INFO - Fetching price history for BTC-USD from yfinance (Start: 2025-02-08, End: 2025-05-14, Interval: 1h)...
2025-05-14 03:44:42,646 - alt_crypto_data - INFO - Successfully fetched 2281 data points for BTC-USD from yfinance.
2025-05-14 03:44:42,646 - alt_crypto_data - INFO - Successfully fetched data for BTC-USD via yfinance.
2025-05-14 03:44:43,881 - crypto_bot_logger - ERROR - {"timestamp": "2025-05-14T08:44:43.881746+00:00", "source_component": "crypto_bot", "event_type": "FETCH_OR_SIGNAL_ERROR_IN_CYCLE", "message": "Error during data fetch or signal generation for BTC-USD: _log_structured_event() got an unexpected keyword argument 'symbol'", "severity": "ERROR", "details": {"symbol": "BTC-USD", "error_message": "_log_structured_event() got an unexpected keyword argument 'symbol'"}}
Traceback (most recent call last):
  File "/Users/activate/Dev/robinhood-crypto-bot/crypto_bot.py", line 633, in _get_signal
    _log_structured_event(
TypeError: _log_structured_event() got an unexpected keyword argument 'symbol'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/activate/Dev/robinhood-crypto-bot/crypto_bot.py", line 1067, in run_trading_cycle
    action_details['signal'] = self._get_signal(symbol, analysis_data)
  File "/Users/activate/Dev/robinhood-crypto-bot/crypto_bot.py", line 709, in _get_signal
    _log_structured_event(
TypeError: _log_structured_event() got an unexpected keyword argument 'symbol'
2025-05-14 03:44:43,882 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T08:44:43.882332+00:00", "source_component": "crypto_bot", "event_type": "TRADE_EXECUTION_PHASE_START", "message": "Starting trade execution phase based on signals.", "severity": "INFO"}
2025-05-14 03:44:43,882 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T08:44:43.882431+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_COMPLETE", "message": "Trading cycle finished in 1.64 seconds.", "severity": "INFO", "details": {"cycle_duration_seconds": 1.64, "signals_generated": {"BTC-USD": "hold"}, "trades_attempted": 0}}
2025-05-14 03:46:28,190 - root - INFO - Logging setup complete. Root logger level: INFO, File: crypto_bot.log
2025-05-14 03:46:28,190 - root - INFO - Experience logger setup complete. File: /Users/activate/Dev/robinhood-crypto-bot/logs/live_experience.log
2025-05-14 03:46:28,190 - root - INFO - Set 'brokers.robinhood_broker' level. Effective level now: 10
2025-05-14 03:46:28,190 - root - INFO - --- Initializing Crypto Bot (Revised Logging) --- 
2025-05-14 03:46:28,190 - root - INFO - Loading configuration...
2025-05-14 03:46:28,190 - root - INFO - DEFAULT_RL_ACTIONS_MAP from config: {0: 'hold', 1: 'buy', 2: 'sell'}
2025-05-14 03:46:28,191 - root - INFO - Initial self.action_map set to DEFAULT: {0: 'hold', 1: 'buy', 2: 'sell'}
2025-05-14 03:46:28,191 - root - INFO - Final self.action_map in __init__: {0: 'hold', 1: 'buy', 2: 'sell'}
2025-05-14 03:46:28,191 - root - INFO - Configuration loaded: Symbols=['BTC-USD'], Strategy=rl, Trading Enabled=True
2025-05-14 03:46:28,191 - root - INFO - RL strategy selected. Attempting to load model from: trained_models/BTC_USD_PPO_optimized_may3_50000steps.zip
2025-05-14 03:46:28,856 - root - INFO - RL Agent loaded successfully.
2025-05-14 03:46:28,856 - root - INFO - Initializing broker (Type: RobinhoodBroker)...
2025-05-14 03:46:28,857 - brokers.base_broker - INFO - Initializing RobinhoodBroker...
2025-05-14 03:46:28,857 - brokers.robinhood_broker - INFO - Initializing RobinhoodBroker with logger. Effective level: 10 (DEBUG=10)
2025-05-14 03:46:28,857 - brokers.robinhood_broker - INFO - RobinhoodBroker initialized for base URL: https://trading.robinhood.com
2025-05-14 03:46:28,857 - root - INFO - RobinhoodBroker initialized successfully.
2025-05-14 03:46:28,857 - root - INFO - Initializing data provider (Preference: yfinance)...
2025-05-14 03:46:28,857 - crypto_bot_logger - WARNING - {"timestamp": "2025-05-14T08:46:28.857414+00:00", "source_component": "crypto_bot", "event_type": "YFINANCE_PROVIDER_MISSING_FALLBACK_WARNING", "message": "DATA_PROVIDER_PREFERENCE is 'yfinance', but YFinanceDataProvider module is missing. Falling back to AltCryptoDataProvider.", "severity": "WARNING", "details": {"preference": "yfinance", "fallback_provider": "AltCryptoDataProvider"}}
2025-05-14 03:46:28,857 - alt_crypto_data - INFO - AltCryptoDataProvider initialized. Primary source: yfinance, Fallback: CoinGecko
2025-05-14 03:46:28,861 - alt_crypto_data - INFO - NewsApiClient initialized for sentiment analysis.
2025-05-14 03:46:28,861 - root - INFO - AltCryptoDataProvider initialized as fallback for 'yfinance' preference.
2025-05-14 03:46:28,861 - root - INFO - Calculating initial normalization statistics for 27 RL technical indicators...
2025-05-14 03:46:28,862 - root - INFO - Starting normalization stats calculation for symbols: ['BTC-USD']
2025-05-14 03:46:28,862 - alt_crypto_data - INFO - Attempting to fetch data for BTC-USD via yfinance...
2025-05-14 03:46:28,862 - alt_crypto_data - INFO - Fetching price history for BTC-USD from yfinance (Start: 2025-02-13, End: 2025-05-14, Interval: 1h)...
2025-05-14 03:46:29,746 - alt_crypto_data - INFO - Successfully fetched 2161 data points for BTC-USD from yfinance.
2025-05-14 03:46:29,747 - alt_crypto_data - INFO - Successfully fetched data for BTC-USD via yfinance.
2025-05-14 03:46:30,370 - root - INFO - Successfully calculated normalization stats for BTC-USD using 2161 data points.
2025-05-14 03:46:30,371 - root - INFO - Finished calculating initial normalization statistics.
2025-05-14 03:46:30,371 - root - INFO - Normalization stats calculated for: ['BTC-USD']
2025-05-14 03:46:30,371 - root - INFO - Fetching initial holdings...
2025-05-14 03:46:30,371 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T08:46:30.371173+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_ATTEMPT", "message": "Attempting to fetch current holdings.", "severity": "INFO"}
2025-05-14 03:46:30,371 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 03:46:30,371 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 03:46:30,371 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 03:46:30,371 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 03:46:30,371 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': 'j+0w9M9vICR6CtSN2IWGhiUwxs9c5Qg3n0DEjAjYiCGszPtCIuHnNi5XdtLTq1oAt590IKuLUmop/vE/EsqBCw==', 'x-timestamp': '1747212390', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 03:46:30,684 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 03:46:30,684 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 08:46:30 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': 'dc3a1a05-3a1f-4fcd-b671-376327aba7e8', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 ea19206f76c60a6bf2353901a487966a.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P12', 'X-Amz-Cf-Id': 'bRWPctQliS3anejC0sao2iw5J0DdUdJ5t_t91hFTHYvgV_daNcF53A=='}
2025-05-14 03:46:30,684 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 03:46:30,685 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 03:46:30,685 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T08:46:30.685807+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_SUCCESS", "message": "Successfully retrieved and processed 1 holdings.", "severity": "INFO", "details": {"holdings_count": 1, "assets_held": ["BTC"]}}
2025-05-14 03:46:30,685 - root - INFO - RobinhoodCryptoBot __init__ finished. Trading Enabled: True
2025-05-14 03:46:30,685 - root - INFO - Starting main bot run loop. Checking every 5 minutes.
2025-05-14 03:46:30,685 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T08:46:30.685981+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_START", "message": "Starting new trading cycle.", "severity": "INFO"}
2025-05-14 03:46:30,686 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T08:46:30.686058+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_ATTEMPT", "message": "Attempting to fetch current holdings.", "severity": "INFO"}
2025-05-14 03:46:30,686 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 03:46:30,686 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 03:46:30,686 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 03:46:30,686 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 03:46:30,686 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': 'j+0w9M9vICR6CtSN2IWGhiUwxs9c5Qg3n0DEjAjYiCGszPtCIuHnNi5XdtLTq1oAt590IKuLUmop/vE/EsqBCw==', 'x-timestamp': '1747212390', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 03:46:30,889 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 03:46:30,889 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 08:46:30 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': '8406f8e1-a1dc-403d-9fdf-747f6c585b56', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 2ab8d81143d0eff22704079091d87f82.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P12', 'X-Amz-Cf-Id': 'oxhf78Z8Zn9-BA0E79cQydVC7emELoXsk4A3RBH73e6_8ju1khYEpA=='}
2025-05-14 03:46:30,889 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 03:46:30,890 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 03:46:30,890 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T08:46:30.890521+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_SUCCESS", "message": "Successfully retrieved and processed 1 holdings.", "severity": "INFO", "details": {"holdings_count": 1, "assets_held": ["BTC"]}}
2025-05-14 03:46:30,890 - alt_crypto_data - INFO - Attempting to fetch data for BTC-USD via yfinance...
2025-05-14 03:46:30,890 - alt_crypto_data - INFO - Fetching price history for BTC-USD from yfinance (Start: 2025-02-08, End: 2025-05-14, Interval: 1h)...
2025-05-14 03:46:31,146 - alt_crypto_data - INFO - Successfully fetched 2281 data points for BTC-USD from yfinance.
2025-05-14 03:46:31,146 - alt_crypto_data - INFO - Successfully fetched data for BTC-USD via yfinance.
2025-05-14 03:46:31,734 - crypto_bot_logger - ERROR - {"timestamp": "2025-05-14T08:46:31.734026+00:00", "source_component": "crypto_bot", "event_type": "FETCH_OR_SIGNAL_ERROR_IN_CYCLE", "message": "Error during data fetch or signal generation for BTC-USD: _log_structured_event() got an unexpected keyword argument 'symbol'", "severity": "ERROR", "details": {"symbol": "BTC-USD", "error_message": "_log_structured_event() got an unexpected keyword argument 'symbol'"}}
Traceback (most recent call last):
  File "/Users/activate/Dev/robinhood-crypto-bot/crypto_bot.py", line 633, in _get_signal
    _log_structured_event(
TypeError: _log_structured_event() got an unexpected keyword argument 'symbol'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/activate/Dev/robinhood-crypto-bot/crypto_bot.py", line 1067, in run_trading_cycle
    action_details['signal'] = self._get_signal(symbol, analysis_data)
  File "/Users/activate/Dev/robinhood-crypto-bot/crypto_bot.py", line 709, in _get_signal
    _log_structured_event(
TypeError: _log_structured_event() got an unexpected keyword argument 'symbol'
2025-05-14 03:46:31,734 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T08:46:31.734314+00:00", "source_component": "crypto_bot", "event_type": "TRADE_EXECUTION_PHASE_START", "message": "Starting trade execution phase based on signals.", "severity": "INFO"}
2025-05-14 03:46:31,734 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T08:46:31.734417+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_COMPLETE", "message": "Trading cycle finished in 1.05 seconds.", "severity": "INFO", "details": {"cycle_duration_seconds": 1.05, "signals_generated": {"BTC-USD": "hold"}, "trades_attempted": 0}}
2025-05-14 03:46:43,986 - root - INFO - Starting new trading cycle...
2025-05-14 03:46:43,988 - root - INFO - Fetching current holdings via broker client...
2025-05-14 03:46:43,988 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 03:46:43,988 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 03:46:43,989 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 03:46:43,989 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 03:46:43,989 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': 'euhuuM7TzimDwb4lsOqEnSPeBiksAac1GdqCRQyzh1DKGh3MuBSB5qSiVzKdZyvob7zip6zz2PyGznHuzGnODQ==', 'x-timestamp': '1747212403', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 03:46:44,203 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 03:46:44,203 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 08:46:44 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': 'a639bc1a-ad7b-4e71-be36-813c1976eb81', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 e9eb0035bfe1f4607580837fdc95543e.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P12', 'X-Amz-Cf-Id': 'VQMEhntEy3iHRbk_4V91NCT_eLU28tCVnyR1mXrLkh_VbOIY8s4v-Q=='}
2025-05-14 03:46:44,203 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 03:46:44,204 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 03:46:44,204 - root - INFO - Successfully retrieved 1 holdings: ['BTC']
2025-05-14 03:46:44,204 - alt_crypto_data - INFO - Attempting to fetch data for BTC-USD via yfinance...
2025-05-14 03:46:44,204 - alt_crypto_data - INFO - Fetching price history for BTC-USD from yfinance (Start: 2025-02-08, End: 2025-05-14, Interval: 1h)...
2025-05-14 03:46:44,763 - alt_crypto_data - INFO - Successfully fetched 2281 data points for BTC-USD from yfinance.
2025-05-14 03:46:44,763 - alt_crypto_data - INFO - Successfully fetched data for BTC-USD via yfinance.
2025-05-14 03:46:45,572 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/accounts/
2025-05-14 03:46:45,572 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 03:46:45,572 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 03:46:45,572 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/accounts/
2025-05-14 03:46:45,572 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': 'Q/3Sazq7JoQZNa5Xs8WfxoOLTYXrVDoDXwd7/YbGTwYt5ABnQ8mN3IuCQGFYx0/V5TfGqwEknMGR+SoZk4+vCQ==', 'x-timestamp': '1747212405', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 03:46:45,951 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 03:46:45,951 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '106', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 08:46:45 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': '3f9b5946-c6d2-4574-9327-bdde2e477487', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 630029f02a626a1635ba05045c1a1e98.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P12', 'X-Amz-Cf-Id': 'ijr2ObeEmLphvybxBVW2zlhm-Z_RcFRu_BJWL_Nw_s-4-5Lu1f96KQ=='}
2025-05-14 03:46:45,951 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"account_number":"311081964512","status":"active","buying_power":"16.5500","buying_power_currency":"USD"}...
2025-05-14 03:46:45,952 - brokers.robinhood_broker - DEBUG - Raw response from _make_api_request in get_account_info: {'account_number': '311081964512', 'status': 'active', 'buying_power': '16.5500', 'buying_power_currency': 'USD'}
2025-05-14 03:46:45,952 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 03:46:45,952 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 03:46:45,952 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 03:46:45,952 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 03:46:45,952 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': 'zXNfPhZD9uK9fu9GT2J8tl7IYibqlcDf20K+fQygfaJZI+NKONx6InlffqErnwdqLL809K0vUEBlDzdQl1ehAw==', 'x-timestamp': '1747212405', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 03:46:46,145 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 03:46:46,146 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 08:46:46 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': '06f19517-9102-4c93-9702-b3f4116c02bd', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 b29d0ca70e4af4f7067923ad4a7ff550.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P12', 'X-Amz-Cf-Id': 'kzSko4UMpQ8Xuh54gfVtuUliNA_yF9RPncGImCMX4sJtVN6_6d7jhw=='}
2025-05-14 03:46:46,148 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 03:46:46,170 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 03:46:46,178 - root - INFO - [BTC-USD] RL agent signal: hold (action_int: 0)
2025-05-14 03:46:46,181 - root - INFO - Trading cycle finished. Signals: {'BTC-USD': 'hold'}
2025-05-14 03:48:48,859 - root - INFO - Logging setup complete. Root logger level: INFO, File: crypto_bot.log
2025-05-14 03:48:48,860 - root - INFO - Experience logger setup complete. File: /Users/activate/Dev/robinhood-crypto-bot/logs/live_experience.log
2025-05-14 03:48:48,860 - root - INFO - Set 'brokers.robinhood_broker' level. Effective level now: 10
2025-05-14 03:48:48,860 - root - INFO - --- Initializing Crypto Bot (Revised Logging) --- 
2025-05-14 03:48:48,860 - root - INFO - Loading configuration...
2025-05-14 03:48:48,860 - root - INFO - DEFAULT_RL_ACTIONS_MAP from config: {0: 'hold', 1: 'buy', 2: 'sell'}
2025-05-14 03:48:48,860 - root - INFO - Initial self.action_map set to DEFAULT: {0: 'hold', 1: 'buy', 2: 'sell'}
2025-05-14 03:48:48,860 - root - INFO - Final self.action_map in __init__: {0: 'hold', 1: 'buy', 2: 'sell'}
2025-05-14 03:48:48,860 - root - INFO - Configuration loaded: Symbols=['BTC-USD'], Strategy=rl, Trading Enabled=True
2025-05-14 03:48:48,860 - root - INFO - RL strategy selected. Attempting to load model from: trained_models/BTC_USD_PPO_optimized_may3_50000steps.zip
2025-05-14 03:48:49,549 - root - INFO - RL Agent loaded successfully.
2025-05-14 03:48:49,549 - root - INFO - Initializing broker (Type: RobinhoodBroker)...
2025-05-14 03:48:49,549 - brokers.base_broker - INFO - Initializing RobinhoodBroker...
2025-05-14 03:48:49,549 - brokers.robinhood_broker - INFO - Initializing RobinhoodBroker with logger. Effective level: 10 (DEBUG=10)
2025-05-14 03:48:49,549 - brokers.robinhood_broker - INFO - RobinhoodBroker initialized for base URL: https://trading.robinhood.com
2025-05-14 03:48:49,549 - root - INFO - RobinhoodBroker initialized successfully.
2025-05-14 03:48:49,549 - root - INFO - Initializing data provider (Preference: yfinance)...
2025-05-14 03:48:49,550 - crypto_bot_logger - WARNING - {"timestamp": "2025-05-14T08:48:49.550012+00:00", "source_component": "crypto_bot", "event_type": "YFINANCE_PROVIDER_MISSING_FALLBACK_WARNING", "message": "DATA_PROVIDER_PREFERENCE is 'yfinance', but YFinanceDataProvider module is missing. Falling back to AltCryptoDataProvider.", "severity": "WARNING", "details": {"preference": "yfinance", "fallback_provider": "AltCryptoDataProvider"}}
2025-05-14 03:48:49,550 - alt_crypto_data - INFO - AltCryptoDataProvider initialized. Primary source: yfinance, Fallback: CoinGecko
2025-05-14 03:48:49,554 - alt_crypto_data - INFO - NewsApiClient initialized for sentiment analysis.
2025-05-14 03:48:49,554 - root - INFO - AltCryptoDataProvider initialized as fallback for 'yfinance' preference.
2025-05-14 03:48:49,554 - root - INFO - Calculating initial normalization statistics for 27 RL technical indicators...
2025-05-14 03:48:49,554 - root - INFO - Starting normalization stats calculation for symbols: ['BTC-USD']
2025-05-14 03:48:49,554 - alt_crypto_data - INFO - Attempting to fetch data for BTC-USD via yfinance...
2025-05-14 03:48:49,554 - alt_crypto_data - INFO - Fetching price history for BTC-USD from yfinance (Start: 2025-02-13, End: 2025-05-14, Interval: 1h)...
2025-05-14 03:48:50,410 - alt_crypto_data - INFO - Successfully fetched 2161 data points for BTC-USD from yfinance.
2025-05-14 03:48:50,410 - alt_crypto_data - INFO - Successfully fetched data for BTC-USD via yfinance.
2025-05-14 03:48:50,961 - root - INFO - Successfully calculated normalization stats for BTC-USD using 2161 data points.
2025-05-14 03:48:50,961 - root - INFO - Finished calculating initial normalization statistics.
2025-05-14 03:48:50,961 - root - INFO - Normalization stats calculated for: ['BTC-USD']
2025-05-14 03:48:50,961 - root - INFO - Fetching initial holdings...
2025-05-14 03:48:50,961 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T08:48:50.961602+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_ATTEMPT", "message": "Attempting to fetch current holdings.", "severity": "INFO"}
2025-05-14 03:48:50,961 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 03:48:50,961 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 03:48:50,961 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 03:48:50,961 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 03:48:50,961 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': '5jwfNHZ3LmvD86CEf+bu7TnWBwPS93WHiiijDUoRSOd3B3Wb3IKQRCyALfVBRk8+bu1RxDD9+oTSdcMoqB9EAw==', 'x-timestamp': '1747212530', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 03:48:51,334 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 03:48:51,334 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 08:48:51 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': '461c7a9c-2e5b-436d-bc5c-233c96c4f273', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 b79f9040ea4bc6bf2a49fda4603142c2.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P12', 'X-Amz-Cf-Id': 'zm7I91I40OryXo3qZk2SWhbVt4YtwZlHJeYf2Fv2ZKyMMPDKn1BVwQ=='}
2025-05-14 03:48:51,334 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 03:48:51,335 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 03:48:51,335 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T08:48:51.335242+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_SUCCESS", "message": "Successfully retrieved and processed 1 holdings.", "severity": "INFO", "details": {"holdings_count": 1, "assets_held": ["BTC"]}}
2025-05-14 03:48:51,335 - root - INFO - RobinhoodCryptoBot __init__ finished. Trading Enabled: True
2025-05-14 03:48:51,335 - root - INFO - Starting main bot run loop. Checking every 5 minutes.
2025-05-14 03:48:51,335 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T08:48:51.335412+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_START", "message": "Starting new trading cycle.", "severity": "INFO"}
2025-05-14 03:48:51,335 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T08:48:51.335482+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_ATTEMPT", "message": "Attempting to fetch current holdings.", "severity": "INFO"}
2025-05-14 03:48:51,335 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 03:48:51,335 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 03:48:51,335 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 03:48:51,335 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 03:48:51,335 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': 'N4/tnxFmE3Hws7vqKc1RjB2czDzbeCim8ytq66IUh4NvV5wWDp6EnG8WKU3JzdZ6GE/3zRpxFAGQqnBGmtlsDQ==', 'x-timestamp': '1747212531', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 03:48:51,510 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 03:48:51,511 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 08:48:51 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': 'e9877718-7fce-4fbf-961f-34d25dfe1212', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 71b3f95cc76e27f7c4152c2c830d914a.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P12', 'X-Amz-Cf-Id': 'vHJio9qhkFSlzIUpSqq-bPS-khD0JCra_YZCGD5hMtsETSYVrD_k2Q=='}
2025-05-14 03:48:51,511 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 03:48:51,511 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 03:48:51,512 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T08:48:51.511992+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_SUCCESS", "message": "Successfully retrieved and processed 1 holdings.", "severity": "INFO", "details": {"holdings_count": 1, "assets_held": ["BTC"]}}
2025-05-14 03:48:51,512 - alt_crypto_data - INFO - Attempting to fetch data for BTC-USD via yfinance...
2025-05-14 03:48:51,512 - alt_crypto_data - INFO - Fetching price history for BTC-USD from yfinance (Start: 2025-02-08, End: 2025-05-14, Interval: 1h)...
2025-05-14 03:48:51,838 - alt_crypto_data - INFO - Successfully fetched 2281 data points for BTC-USD from yfinance.
2025-05-14 03:48:51,838 - alt_crypto_data - INFO - Successfully fetched data for BTC-USD via yfinance.
2025-05-14 03:48:52,371 - crypto_bot_logger - ERROR - {"timestamp": "2025-05-14T08:48:52.371894+00:00", "source_component": "crypto_bot", "event_type": "NORMALIZATION_STATS_MISSING", "message": "Normalization stats (mean/std) not found for BTC-USD. Defaulting to 'hold'.", "severity": "ERROR", "details": {"symbol": "BTC-USD", "available_stats_keys": ["means", "stds"]}}
2025-05-14 03:48:52,372 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T08:48:52.372120+00:00", "source_component": "crypto_bot", "event_type": "TRADE_EXECUTION_PHASE_START", "message": "Starting trade execution phase based on signals.", "severity": "INFO"}
2025-05-14 03:48:52,372 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T08:48:52.372191+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_COMPLETE", "message": "Trading cycle finished in 1.04 seconds.", "severity": "INFO", "details": {"cycle_duration_seconds": 1.04, "signals_generated": {"BTC-USD": "hold"}, "trades_attempted": 0}}
2025-05-14 03:49:43,911 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T08:49:43.910983+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_START", "message": "Starting new trading cycle.", "severity": "INFO"}
2025-05-14 03:49:43,912 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T08:49:43.912201+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_ATTEMPT", "message": "Attempting to fetch current holdings.", "severity": "INFO"}
2025-05-14 03:49:43,912 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 03:49:43,912 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 03:49:43,912 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 03:49:43,912 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 03:49:43,912 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': '5F7ca/403ZBbkIAUFJ8hLCQAvpjsZVvvfoX8Jd8dVt9tjqWKfz9cXa3TWFD33FqYLquOoD7384o8EJ+MVYq2AA==', 'x-timestamp': '1747212583', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 03:49:44,145 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 03:49:44,145 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 08:49:44 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': '03654ab8-0c3f-4283-a567-371cb1b5ec8f', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 41005d8d2dad4c8b316f03c237bcb42c.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P12', 'X-Amz-Cf-Id': 'qYKA6IXfBgHxidFnRHnacvoCXNayk6d5sbhyfYcer9NcXxQ3U9_nJw=='}
2025-05-14 03:49:44,145 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 03:49:44,146 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 03:49:44,146 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T08:49:44.146401+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_SUCCESS", "message": "Successfully retrieved and processed 1 holdings.", "severity": "INFO", "details": {"holdings_count": 1, "assets_held": ["BTC"]}}
2025-05-14 03:49:44,146 - alt_crypto_data - INFO - Attempting to fetch data for BTC-USD via yfinance...
2025-05-14 03:49:44,146 - alt_crypto_data - INFO - Fetching price history for BTC-USD from yfinance (Start: 2025-02-08, End: 2025-05-14, Interval: 1h)...
2025-05-14 03:49:44,679 - alt_crypto_data - INFO - Successfully fetched 2281 data points for BTC-USD from yfinance.
2025-05-14 03:49:44,679 - alt_crypto_data - INFO - Successfully fetched data for BTC-USD via yfinance.
2025-05-14 03:49:45,296 - crypto_bot_logger - ERROR - {"timestamp": "2025-05-14T08:49:45.296237+00:00", "source_component": "crypto_bot", "event_type": "FETCH_OR_SIGNAL_ERROR_IN_CYCLE", "message": "Error during data fetch or signal generation for BTC-USD: _log_structured_event() got an unexpected keyword argument 'symbol'", "severity": "ERROR", "details": {"symbol": "BTC-USD", "error_message": "_log_structured_event() got an unexpected keyword argument 'symbol'"}}
Traceback (most recent call last):
  File "/Users/activate/Dev/robinhood-crypto-bot/crypto_bot.py", line 633, in _get_signal
    _log_structured_event(
TypeError: _log_structured_event() got an unexpected keyword argument 'symbol'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/activate/Dev/robinhood-crypto-bot/crypto_bot.py", line 1067, in run_trading_cycle
    f"Error during data fetch or signal generation for {symbol}: {e_fetch_signal}",
  File "/Users/activate/Dev/robinhood-crypto-bot/crypto_bot.py", line 709, in _get_signal
    _log_structured_event(
TypeError: _log_structured_event() got an unexpected keyword argument 'symbol'
2025-05-14 03:49:45,296 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T08:49:45.296739+00:00", "source_component": "crypto_bot", "event_type": "TRADE_EXECUTION_PHASE_START", "message": "Starting trade execution phase based on signals.", "severity": "INFO"}
2025-05-14 03:49:45,296 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T08:49:45.296832+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_COMPLETE", "message": "Trading cycle finished in 1.38 seconds.", "severity": "INFO", "details": {"cycle_duration_seconds": 1.38, "signals_generated": {"BTC-USD": "hold"}, "trades_attempted": 0}}
2025-05-14 03:50:29,023 - root - INFO - Logging setup complete. Root logger level: INFO, File: crypto_bot.log
2025-05-14 03:50:29,023 - root - INFO - Experience logger setup complete. File: /Users/activate/Dev/robinhood-crypto-bot/logs/live_experience.log
2025-05-14 03:50:29,023 - root - INFO - Set 'brokers.robinhood_broker' level. Effective level now: 10
2025-05-14 03:50:29,023 - root - INFO - --- Initializing Crypto Bot (Revised Logging) --- 
2025-05-14 03:50:29,023 - root - INFO - Loading configuration...
2025-05-14 03:50:29,023 - root - INFO - DEFAULT_RL_ACTIONS_MAP from config: {0: 'hold', 1: 'buy', 2: 'sell'}
2025-05-14 03:50:29,023 - root - INFO - Initial self.action_map set to DEFAULT: {0: 'hold', 1: 'buy', 2: 'sell'}
2025-05-14 03:50:29,023 - root - INFO - Final self.action_map in __init__: {0: 'hold', 1: 'buy', 2: 'sell'}
2025-05-14 03:50:29,023 - root - INFO - Configuration loaded: Symbols=['BTC-USD'], Strategy=rl, Trading Enabled=True
2025-05-14 03:50:29,023 - root - INFO - RL strategy selected. Attempting to load model from: trained_models/BTC_USD_PPO_optimized_may3_50000steps.zip
2025-05-14 03:50:29,679 - root - INFO - RL Agent loaded successfully.
2025-05-14 03:50:29,679 - root - INFO - Initializing broker (Type: RobinhoodBroker)...
2025-05-14 03:50:29,679 - brokers.base_broker - INFO - Initializing RobinhoodBroker...
2025-05-14 03:50:29,679 - brokers.robinhood_broker - INFO - Initializing RobinhoodBroker with logger. Effective level: 10 (DEBUG=10)
2025-05-14 03:50:29,679 - brokers.robinhood_broker - INFO - RobinhoodBroker initialized for base URL: https://trading.robinhood.com
2025-05-14 03:50:29,679 - root - INFO - RobinhoodBroker initialized successfully.
2025-05-14 03:50:29,679 - root - INFO - Initializing data provider (Preference: yfinance)...
2025-05-14 03:50:29,680 - crypto_bot_logger - WARNING - {"timestamp": "2025-05-14T08:50:29.680096+00:00", "source_component": "crypto_bot", "event_type": "YFINANCE_PROVIDER_MISSING_FALLBACK_WARNING", "message": "DATA_PROVIDER_PREFERENCE is 'yfinance', but YFinanceDataProvider module is missing. Falling back to AltCryptoDataProvider.", "severity": "WARNING", "details": {"preference": "yfinance", "fallback_provider": "AltCryptoDataProvider"}}
2025-05-14 03:50:29,680 - alt_crypto_data - INFO - AltCryptoDataProvider initialized. Primary source: yfinance, Fallback: CoinGecko
2025-05-14 03:50:29,684 - alt_crypto_data - INFO - NewsApiClient initialized for sentiment analysis.
2025-05-14 03:50:29,684 - root - INFO - AltCryptoDataProvider initialized as fallback for 'yfinance' preference.
2025-05-14 03:50:29,684 - root - INFO - Calculating initial normalization statistics for 27 RL technical indicators...
2025-05-14 03:50:29,684 - root - INFO - Starting normalization stats calculation for symbols: ['BTC-USD']
2025-05-14 03:50:29,684 - alt_crypto_data - INFO - Attempting to fetch data for BTC-USD via yfinance...
2025-05-14 03:50:29,684 - alt_crypto_data - INFO - Fetching price history for BTC-USD from yfinance (Start: 2025-02-13, End: 2025-05-14, Interval: 1h)...
2025-05-14 03:50:30,438 - alt_crypto_data - INFO - Successfully fetched 2161 data points for BTC-USD from yfinance.
2025-05-14 03:50:30,439 - alt_crypto_data - INFO - Successfully fetched data for BTC-USD via yfinance.
2025-05-14 03:50:31,044 - root - INFO - Successfully calculated normalization stats for BTC-USD using 2161 data points.
2025-05-14 03:50:31,044 - root - INFO - Finished calculating initial normalization statistics.
2025-05-14 03:50:31,044 - root - INFO - Normalization stats calculated for: ['BTC-USD']
2025-05-14 03:50:31,044 - root - INFO - Fetching initial holdings...
2025-05-14 03:50:31,045 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T08:50:31.045007+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_ATTEMPT", "message": "Attempting to fetch current holdings.", "severity": "INFO"}
2025-05-14 03:50:31,045 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 03:50:31,045 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 03:50:31,045 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 03:50:31,045 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 03:50:31,045 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': 'eCLSBVKNb4scYnVX53aag8nfgp4w6vzkvD0JwdJoUh7fkh1qZ96CeY4W+z2QOpKAU+gkm2M0zUc4SlyAFzlfDA==', 'x-timestamp': '1747212631', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 03:50:31,386 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 03:50:31,386 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 08:50:31 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': 'ced61411-ad96-44e1-878f-26766d673353', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 2ab8d81143d0eff22704079091d87f82.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P12', 'X-Amz-Cf-Id': 'X2r7Ct365DUlOSmKFR-r_bq1LngW-z_O-SqGxfdoN36fdvm7hBW1og=='}
2025-05-14 03:50:31,386 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 03:50:31,387 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 03:50:31,387 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T08:50:31.387498+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_SUCCESS", "message": "Successfully retrieved and processed 1 holdings.", "severity": "INFO", "details": {"holdings_count": 1, "assets_held": ["BTC"]}}
2025-05-14 03:50:31,387 - root - INFO - RobinhoodCryptoBot __init__ finished. Trading Enabled: True
2025-05-14 03:50:31,387 - root - INFO - Starting main bot run loop. Checking every 5 minutes.
2025-05-14 03:50:31,387 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T08:50:31.387664+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_START", "message": "Starting new trading cycle.", "severity": "INFO"}
2025-05-14 03:50:31,387 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T08:50:31.387734+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_ATTEMPT", "message": "Attempting to fetch current holdings.", "severity": "INFO"}
2025-05-14 03:50:31,387 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 03:50:31,387 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 03:50:31,387 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 03:50:31,387 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 03:50:31,388 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': 'eCLSBVKNb4scYnVX53aag8nfgp4w6vzkvD0JwdJoUh7fkh1qZ96CeY4W+z2QOpKAU+gkm2M0zUc4SlyAFzlfDA==', 'x-timestamp': '1747212631', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 03:50:31,637 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 03:50:31,638 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 08:50:31 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': 'ae65a866-e032-4d7a-854a-2cb7d2efe495', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 08c82ab3383dabe3fa524280760ed8d0.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P12', 'X-Amz-Cf-Id': '42o9t39fSSHsIzLxFiAlCsW_vhQ5kgXx5BZwWDaF0eBznoKj2i117g=='}
2025-05-14 03:50:31,638 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 03:50:31,638 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 03:50:31,639 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T08:50:31.638962+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_SUCCESS", "message": "Successfully retrieved and processed 1 holdings.", "severity": "INFO", "details": {"holdings_count": 1, "assets_held": ["BTC"]}}
2025-05-14 03:50:31,639 - alt_crypto_data - INFO - Attempting to fetch data for BTC-USD via yfinance...
2025-05-14 03:50:31,639 - alt_crypto_data - INFO - Fetching price history for BTC-USD from yfinance (Start: 2025-02-08, End: 2025-05-14, Interval: 1h)...
2025-05-14 03:50:31,832 - alt_crypto_data - INFO - Successfully fetched 2281 data points for BTC-USD from yfinance.
2025-05-14 03:50:31,832 - alt_crypto_data - INFO - Successfully fetched data for BTC-USD via yfinance.
2025-05-14 03:50:32,431 - crypto_bot_logger - ERROR - {"timestamp": "2025-05-14T08:50:32.431923+00:00", "source_component": "crypto_bot", "event_type": "FEATURE_GENERATION_ERROR", "message": "Error during feature generation for RL agent for BTC-USD: 'RobinhoodCryptoBot' object has no attribute 'current_balance'", "severity": "ERROR", "details": {"symbol": "BTC-USD", "error_message": "'RobinhoodCryptoBot' object has no attribute 'current_balance'", "exc_info": true}}
2025-05-14 03:50:32,432 - crypto_bot_logger - WARNING - {"timestamp": "2025-05-14T08:50:32.432153+00:00", "source_component": "crypto_bot", "event_type": "FEATURE_GENERATION_FAILED", "message": "Could not generate normalized features for BTC-USD. Defaulting to 'hold'.", "severity": "WARNING", "details": {"symbol": "BTC-USD"}}
2025-05-14 03:50:32,432 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T08:50:32.432352+00:00", "source_component": "crypto_bot", "event_type": "TRADE_EXECUTION_PHASE_START", "message": "Starting trade execution phase based on signals.", "severity": "INFO"}
2025-05-14 03:50:32,432 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T08:50:32.432429+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_COMPLETE", "message": "Trading cycle finished in 1.04 seconds.", "severity": "INFO", "details": {"cycle_duration_seconds": 1.04, "signals_generated": {"BTC-USD": "hold"}, "trades_attempted": 0}}
2025-05-14 03:51:31,742 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T08:51:31.742841+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_START", "message": "Starting new trading cycle.", "severity": "INFO"}
2025-05-14 03:51:31,744 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T08:51:31.744066+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_ATTEMPT", "message": "Attempting to fetch current holdings.", "severity": "INFO"}
2025-05-14 03:51:31,744 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 03:51:31,744 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 03:51:31,744 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 03:51:31,744 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 03:51:31,744 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': '6BfQoMmALq98KZaeqRp+UUP5vufWiTbJdEJVokwwFN3rOeIJ4Q0vEQYYJQlKH1xlCHRiZUx5IQ2fA0iSaDFhBA==', 'x-timestamp': '1747212691', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 03:51:32,267 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 03:51:32,267 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 08:51:32 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': '04bae2fc-f72a-467b-9abd-7ada5832606e', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 98508232f4fc1b95b1f399d6d66e45c6.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P12', 'X-Amz-Cf-Id': 'CXA90JdfqJvdMhvSfXjgxJS0XdOxY992OyTfIVQL_hmKS-uY0QmoQw=='}
2025-05-14 03:51:32,267 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 03:51:32,268 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 03:51:32,268 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T08:51:32.268698+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_SUCCESS", "message": "Successfully retrieved and processed 1 holdings.", "severity": "INFO", "details": {"holdings_count": 1, "assets_held": ["BTC"]}}
2025-05-14 03:51:32,268 - alt_crypto_data - INFO - Attempting to fetch data for BTC-USD via yfinance...
2025-05-14 03:51:32,268 - alt_crypto_data - INFO - Fetching price history for BTC-USD from yfinance (Start: 2025-02-08, End: 2025-05-14, Interval: 1h)...
2025-05-14 03:51:32,725 - alt_crypto_data - INFO - Successfully fetched 2281 data points for BTC-USD from yfinance.
2025-05-14 03:51:32,725 - alt_crypto_data - INFO - Successfully fetched data for BTC-USD via yfinance.
2025-05-14 03:51:33,357 - crypto_bot_logger - ERROR - {"timestamp": "2025-05-14T08:51:33.357412+00:00", "source_component": "crypto_bot", "event_type": "FETCH_OR_SIGNAL_ERROR_IN_CYCLE", "message": "Error during data fetch or signal generation for BTC-USD: _log_structured_event() got an unexpected keyword argument 'symbol'", "severity": "ERROR", "details": {"symbol": "BTC-USD", "error_message": "_log_structured_event() got an unexpected keyword argument 'symbol'"}}
Traceback (most recent call last):
  File "/Users/activate/Dev/robinhood-crypto-bot/crypto_bot.py", line 633, in _get_signal
    _log_structured_event(
TypeError: _log_structured_event() got an unexpected keyword argument 'symbol'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/activate/Dev/robinhood-crypto-bot/crypto_bot.py", line 1067, in run_trading_cycle
    f"Error during data fetch or signal generation for {symbol}: {e_fetch_signal}",
  File "/Users/activate/Dev/robinhood-crypto-bot/crypto_bot.py", line 709, in _get_signal
    _log_structured_event(
TypeError: _log_structured_event() got an unexpected keyword argument 'symbol'
2025-05-14 03:51:33,357 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T08:51:33.357886+00:00", "source_component": "crypto_bot", "event_type": "TRADE_EXECUTION_PHASE_START", "message": "Starting trade execution phase based on signals.", "severity": "INFO"}
2025-05-14 03:51:33,357 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T08:51:33.357977+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_COMPLETE", "message": "Trading cycle finished in 1.61 seconds.", "severity": "INFO", "details": {"cycle_duration_seconds": 1.61, "signals_generated": {"BTC-USD": "hold"}, "trades_attempted": 0}}
2025-05-14 03:51:47,144 - root - INFO - Starting new trading cycle...
2025-05-14 03:51:47,146 - root - INFO - Fetching current holdings via broker client...
2025-05-14 03:51:47,146 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 03:51:47,146 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 03:51:47,146 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 03:51:47,146 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 03:51:47,146 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': 'UJr/KkuPqHGYmeiOMGOLcwGwG/yaWvyAamcgFiO/xyVWRYFAImbB+E28el8K1pXHFATregZA4XAdjooJG89TBw==', 'x-timestamp': '1747212707', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 03:51:47,401 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 03:51:47,401 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 08:51:47 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': '70e7cdb7-a662-40ee-a71a-b33418d94cc6', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 c2b6220b5406aa0012ec9caaf592be16.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P12', 'X-Amz-Cf-Id': 'P9B0b6sKjsq1UDGsV_STW4sgZxtA6yKWwhHo5qC6o96T6B-WNZPF6A=='}
2025-05-14 03:51:47,401 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 03:51:47,402 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 03:51:47,402 - root - INFO - Successfully retrieved 1 holdings: ['BTC']
2025-05-14 03:51:47,402 - alt_crypto_data - INFO - Attempting to fetch data for BTC-USD via yfinance...
2025-05-14 03:51:47,402 - alt_crypto_data - INFO - Fetching price history for BTC-USD from yfinance (Start: 2025-02-08, End: 2025-05-14, Interval: 1h)...
2025-05-14 03:51:47,966 - alt_crypto_data - INFO - Successfully fetched 2281 data points for BTC-USD from yfinance.
2025-05-14 03:51:47,967 - alt_crypto_data - INFO - Successfully fetched data for BTC-USD via yfinance.
2025-05-14 03:51:48,961 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/accounts/
2025-05-14 03:51:48,961 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 03:51:48,961 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 03:51:48,961 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/accounts/
2025-05-14 03:51:48,962 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': 'D4AUJ1Jw8l3K3DWaD4Q98uKGWBPpzuX5g99KxmSPN2LnYFjwgc1YiBePnxMsnvZVzQcMOPY5lbWEfze2whNWDQ==', 'x-timestamp': '1747212708', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 03:51:49,331 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 03:51:49,331 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '106', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 08:51:49 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': 'd7940848-74d1-4f00-a2a3-968f7cc1d521', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 630029f02a626a1635ba05045c1a1e98.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P12', 'X-Amz-Cf-Id': '2-4QrqVroS81AagQoaqdPYz6-kgS3TYghJ1qaQ2_0GuD-UeKCjcL7w=='}
2025-05-14 03:51:49,331 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"account_number":"311081964512","status":"active","buying_power":"16.5500","buying_power_currency":"USD"}...
2025-05-14 03:51:49,336 - brokers.robinhood_broker - DEBUG - Raw response from _make_api_request in get_account_info: {'account_number': '311081964512', 'status': 'active', 'buying_power': '16.5500', 'buying_power_currency': 'USD'}
2025-05-14 03:51:49,336 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 03:51:49,336 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 03:51:49,336 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 03:51:49,336 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 03:51:49,336 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': 'AyWJa7+yscwHuj7Lc97E6CSz7SxkrqswpIs9tb7MJWwROQgCDW1bZy5kg+JqlCYiqj6IbBe1iU3X78LSLK68BA==', 'x-timestamp': '1747212709', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 03:51:49,539 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 03:51:49,539 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 08:51:49 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': 'b5e1977a-ea1f-4107-8087-38a17e67755b', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 4c2b94975ad50ec2ad09e8476cdea25c.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P12', 'X-Amz-Cf-Id': 'KqK_5Q24q7hvxC4g_j_PUFRtCjvZ3J08cupjRy9QHzw9tEdCrEeuQA=='}
2025-05-14 03:51:49,539 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 03:51:49,540 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 03:51:49,541 - root - INFO - [BTC-USD] RL agent signal: hold (action_int: 0)
2025-05-14 03:51:49,542 - root - INFO - Trading cycle finished. Signals: {'BTC-USD': 'hold'}
2025-05-14 03:53:52,510 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T08:53:52.508447+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_START", "message": "Starting new trading cycle.", "severity": "INFO"}
2025-05-14 03:53:52,513 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T08:53:52.513313+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_ATTEMPT", "message": "Attempting to fetch current holdings.", "severity": "INFO"}
2025-05-14 03:53:52,513 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 03:53:52,514 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 03:53:52,515 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 03:53:52,515 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 03:53:52,515 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': 'PKPrf6KuS4gyeBkzwynFE7k9e42CdkIq8dOfaQQ+nkfTE2yDWrSc5Bep7cdN5dadbMHhQdN+iX/Z/0EvR2hCDg==', 'x-timestamp': '1747212832', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 03:53:52,842 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 03:53:52,842 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 08:53:52 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': '29b59061-0e40-410d-ac78-bb61f820ac5c', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 65ee5def609f0f11c7b1a63009b98386.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P12', 'X-Amz-Cf-Id': 'eNbQXCd-NjUexmv_8wGz0EP3azXRJ8TktlGtPmHGQWEPYx_8UhcaZg=='}
2025-05-14 03:53:52,843 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 03:53:52,843 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 03:53:52,844 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T08:53:52.843946+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_SUCCESS", "message": "Successfully retrieved and processed 1 holdings.", "severity": "INFO", "details": {"holdings_count": 1, "assets_held": ["BTC"]}}
2025-05-14 03:53:52,844 - alt_crypto_data - INFO - Attempting to fetch data for BTC-USD via yfinance...
2025-05-14 03:53:52,844 - alt_crypto_data - INFO - Fetching price history for BTC-USD from yfinance (Start: 2025-02-08, End: 2025-05-14, Interval: 1h)...
2025-05-14 03:53:53,344 - alt_crypto_data - INFO - Successfully fetched 2281 data points for BTC-USD from yfinance.
2025-05-14 03:53:53,344 - alt_crypto_data - INFO - Successfully fetched data for BTC-USD via yfinance.
2025-05-14 03:53:54,432 - crypto_bot_logger - ERROR - {"timestamp": "2025-05-14T08:53:54.432618+00:00", "source_component": "crypto_bot", "event_type": "NORMALIZATION_STATS_MISSING", "message": "Normalization stats (mean/std) not found for BTC-USD. Defaulting to 'hold'.", "severity": "ERROR", "details": {"symbol": "BTC-USD", "available_stats_keys": ["means", "stds"]}}
2025-05-14 03:53:54,432 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T08:53:54.432882+00:00", "source_component": "crypto_bot", "event_type": "TRADE_EXECUTION_PHASE_START", "message": "Starting trade execution phase based on signals.", "severity": "INFO"}
2025-05-14 03:53:54,432 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T08:53:54.432960+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_COMPLETE", "message": "Trading cycle finished in 1.92 seconds.", "severity": "INFO", "details": {"cycle_duration_seconds": 1.92, "signals_generated": {"BTC-USD": "hold"}, "trades_attempted": 0}}
2025-05-14 03:54:45,583 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T08:54:45.581096+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_START", "message": "Starting new trading cycle.", "severity": "INFO"}
2025-05-14 03:54:45,586 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T08:54:45.586417+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_ATTEMPT", "message": "Attempting to fetch current holdings.", "severity": "INFO"}
2025-05-14 03:54:45,586 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 03:54:45,587 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 03:54:45,587 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 03:54:45,588 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 03:54:45,588 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': 'b7z7vHOv8TOLjxn4D9eA0TR0PxBnXPRWEd+80TFP3J7Dj7960Eq1Y7VSeNPBtJ/o56WvgeNiEE+41sR3TZNpAA==', 'x-timestamp': '1747212885', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 03:54:45,863 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 03:54:45,864 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 08:54:45 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': '3164e108-10ec-48a9-83b0-c57b26b6034a', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 ece6d66b6f8dabfbcae2e81c12fea44e.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P12', 'X-Amz-Cf-Id': 'qn0V5KZhS7JODz236VP0q4c_LfHXoqN2BPjCeY4aVBMIyK2a39_raQ=='}
2025-05-14 03:54:45,864 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 03:54:45,866 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 03:54:45,867 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T08:54:45.867053+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_SUCCESS", "message": "Successfully retrieved and processed 1 holdings.", "severity": "INFO", "details": {"holdings_count": 1, "assets_held": ["BTC"]}}
2025-05-14 03:54:45,867 - alt_crypto_data - INFO - Attempting to fetch data for BTC-USD via yfinance...
2025-05-14 03:54:45,867 - alt_crypto_data - INFO - Fetching price history for BTC-USD from yfinance (Start: 2025-02-08, End: 2025-05-14, Interval: 1h)...
2025-05-14 03:54:46,432 - alt_crypto_data - INFO - Successfully fetched 2281 data points for BTC-USD from yfinance.
2025-05-14 03:54:46,433 - alt_crypto_data - INFO - Successfully fetched data for BTC-USD via yfinance.
2025-05-14 03:54:47,040 - crypto_bot_logger - ERROR - {"timestamp": "2025-05-14T08:54:47.040275+00:00", "source_component": "crypto_bot", "event_type": "FETCH_OR_SIGNAL_ERROR_IN_CYCLE", "message": "Error during data fetch or signal generation for BTC-USD: _log_structured_event() got an unexpected keyword argument 'symbol'", "severity": "ERROR", "details": {"symbol": "BTC-USD", "error_message": "_log_structured_event() got an unexpected keyword argument 'symbol'"}}
Traceback (most recent call last):
  File "/Users/activate/Dev/robinhood-crypto-bot/crypto_bot.py", line 633, in _get_signal
    if symbol not in self.norm_stats or not all(k in self.norm_stats[symbol] for k in ['means', 'stds']):
TypeError: _log_structured_event() got an unexpected keyword argument 'symbol'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/activate/Dev/robinhood-crypto-bot/crypto_bot.py", line 1067, in run_trading_cycle
    _log_structured_event(logging.ERROR, "FETCH_OR_SIGNAL_ERROR_IN_CYCLE",
  File "/Users/activate/Dev/robinhood-crypto-bot/crypto_bot.py", line 709, in _get_signal
    except Exception as e_feature_gen:
TypeError: _log_structured_event() got an unexpected keyword argument 'symbol'
2025-05-14 03:54:47,040 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T08:54:47.040789+00:00", "source_component": "crypto_bot", "event_type": "TRADE_EXECUTION_PHASE_START", "message": "Starting trade execution phase based on signals.", "severity": "INFO"}
2025-05-14 03:54:47,040 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T08:54:47.040889+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_COMPLETE", "message": "Trading cycle finished in 1.45 seconds.", "severity": "INFO", "details": {"cycle_duration_seconds": 1.45, "signals_generated": {"BTC-USD": "hold"}, "trades_attempted": 0}}
2025-05-14 03:55:32,910 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T08:55:32.908733+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_START", "message": "Starting new trading cycle.", "severity": "INFO"}
2025-05-14 03:55:32,912 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T08:55:32.912243+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_ATTEMPT", "message": "Attempting to fetch current holdings.", "severity": "INFO"}
2025-05-14 03:55:32,912 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 03:55:32,912 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 03:55:32,913 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 03:55:32,913 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 03:55:32,914 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': 'jGQqZ2YIR/pypwGb5CZB6euxKdl83AZUQZ6IFmR94XzYDt3oxFl8Ja2tesosQLJpaQGhOJ4K3Wtn2ROgzl4hCQ==', 'x-timestamp': '1747212932', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 03:55:33,263 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 03:55:33,263 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 08:55:33 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': '11c0e07a-edfa-4e82-8a41-4da954dcc7ab', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 ea19206f76c60a6bf2353901a487966a.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P12', 'X-Amz-Cf-Id': 'AybcuaRKzJWfZ4f8an7E8YR4vTxVVjRru6kwBuKGO7EUqojdyHlrAw=='}
2025-05-14 03:55:33,263 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 03:55:33,264 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 03:55:33,264 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T08:55:33.264634+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_SUCCESS", "message": "Successfully retrieved and processed 1 holdings.", "severity": "INFO", "details": {"holdings_count": 1, "assets_held": ["BTC"]}}
2025-05-14 03:55:33,264 - alt_crypto_data - INFO - Attempting to fetch data for BTC-USD via yfinance...
2025-05-14 03:55:33,264 - alt_crypto_data - INFO - Fetching price history for BTC-USD from yfinance (Start: 2025-02-08, End: 2025-05-14, Interval: 1h)...
2025-05-14 03:55:33,831 - alt_crypto_data - INFO - Successfully fetched 2281 data points for BTC-USD from yfinance.
2025-05-14 03:55:33,831 - alt_crypto_data - INFO - Successfully fetched data for BTC-USD via yfinance.
2025-05-14 03:55:34,770 - crypto_bot_logger - ERROR - {"timestamp": "2025-05-14T08:55:34.770043+00:00", "source_component": "crypto_bot", "event_type": "FEATURE_GENERATION_ERROR", "message": "Error during feature generation for RL agent for BTC-USD: 'RobinhoodCryptoBot' object has no attribute 'current_balance'", "severity": "ERROR", "details": {"symbol": "BTC-USD", "error_message": "'RobinhoodCryptoBot' object has no attribute 'current_balance'", "exc_info": true}}
2025-05-14 03:55:34,770 - crypto_bot_logger - WARNING - {"timestamp": "2025-05-14T08:55:34.770220+00:00", "source_component": "crypto_bot", "event_type": "FEATURE_GENERATION_FAILED", "message": "Could not generate normalized features for BTC-USD. Defaulting to 'hold'.", "severity": "WARNING", "details": {"symbol": "BTC-USD"}}
2025-05-14 03:55:34,770 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T08:55:34.770393+00:00", "source_component": "crypto_bot", "event_type": "TRADE_EXECUTION_PHASE_START", "message": "Starting trade execution phase based on signals.", "severity": "INFO"}
2025-05-14 03:55:34,770 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T08:55:34.770451+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_COMPLETE", "message": "Trading cycle finished in 1.86 seconds.", "severity": "INFO", "details": {"cycle_duration_seconds": 1.86, "signals_generated": {"BTC-USD": "hold"}, "trades_attempted": 0}}
2025-05-14 03:56:34,081 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T08:56:34.079883+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_START", "message": "Starting new trading cycle.", "severity": "INFO"}
2025-05-14 03:56:34,084 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T08:56:34.084028+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_ATTEMPT", "message": "Attempting to fetch current holdings.", "severity": "INFO"}
2025-05-14 03:56:34,084 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 03:56:34,084 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 03:56:34,085 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 03:56:34,086 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 03:56:34,086 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': 'Up9ADULo/Cuvu7U1EqpULgsUzg7Cp8+p5hxPedimqbyhlAK+M785gUea1hQxeJQNlxMhjSn/Hm1z4eH20IBiDw==', 'x-timestamp': '1747212994', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 03:56:34,372 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 03:56:34,372 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 08:56:34 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': '66bbda8d-d1f9-42a3-9c1d-027a86adef25', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 313a4ea394487c18fc7b1192a4bd4804.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P12', 'X-Amz-Cf-Id': 'vLGWS4Lok0Zzo7B2TkNWeWXqWP9yTASUtG_MLY-974V8zZtcc6FNBw=='}
2025-05-14 03:56:34,372 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 03:56:34,373 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 03:56:34,373 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T08:56:34.373539+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_SUCCESS", "message": "Successfully retrieved and processed 1 holdings.", "severity": "INFO", "details": {"holdings_count": 1, "assets_held": ["BTC"]}}
2025-05-14 03:56:34,373 - alt_crypto_data - INFO - Attempting to fetch data for BTC-USD via yfinance...
2025-05-14 03:56:34,374 - alt_crypto_data - INFO - Fetching price history for BTC-USD from yfinance (Start: 2025-02-08, End: 2025-05-14, Interval: 1h)...
2025-05-14 03:56:34,858 - alt_crypto_data - INFO - Successfully fetched 2281 data points for BTC-USD from yfinance.
2025-05-14 03:56:34,858 - alt_crypto_data - INFO - Successfully fetched data for BTC-USD via yfinance.
2025-05-14 03:56:35,456 - crypto_bot_logger - ERROR - {"timestamp": "2025-05-14T08:56:35.456402+00:00", "source_component": "crypto_bot", "event_type": "FETCH_OR_SIGNAL_ERROR_IN_CYCLE", "message": "Error during data fetch or signal generation for BTC-USD: _log_structured_event() got an unexpected keyword argument 'symbol'", "severity": "ERROR", "details": {"symbol": "BTC-USD", "error_message": "_log_structured_event() got an unexpected keyword argument 'symbol'"}}
Traceback (most recent call last):
  File "/Users/activate/Dev/robinhood-crypto-bot/crypto_bot.py", line 633, in _get_signal
    if symbol not in self.norm_stats or not all(k in self.norm_stats[symbol] for k in ['means', 'stds']):
TypeError: _log_structured_event() got an unexpected keyword argument 'symbol'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/activate/Dev/robinhood-crypto-bot/crypto_bot.py", line 1067, in run_trading_cycle
    _log_structured_event(logging.ERROR, "FETCH_OR_SIGNAL_ERROR_IN_CYCLE",
  File "/Users/activate/Dev/robinhood-crypto-bot/crypto_bot.py", line 709, in _get_signal
    except Exception as e_feature_gen:
TypeError: _log_structured_event() got an unexpected keyword argument 'symbol'
2025-05-14 03:56:35,456 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T08:56:35.456927+00:00", "source_component": "crypto_bot", "event_type": "TRADE_EXECUTION_PHASE_START", "message": "Starting trade execution phase based on signals.", "severity": "INFO"}
2025-05-14 03:56:35,457 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T08:56:35.457017+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_COMPLETE", "message": "Trading cycle finished in 1.37 seconds.", "severity": "INFO", "details": {"cycle_duration_seconds": 1.37, "signals_generated": {"BTC-USD": "hold"}, "trades_attempted": 0}}
2025-05-14 03:56:50,317 - root - INFO - Starting new trading cycle...
2025-05-14 03:56:50,319 - root - INFO - Fetching current holdings via broker client...
2025-05-14 03:56:50,319 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 03:56:50,320 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 03:56:50,321 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 03:56:50,321 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 03:56:50,321 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': 'OcVTcEO+LUkXqSX7ReMaMqEa2mJvNNoC8+zpcy6Deb3yeC6XVyOAQbTIJqAGXzxY0JBXNQDhr7O5QRlVXdgMAg==', 'x-timestamp': '1747213010', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 03:56:50,611 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 03:56:50,611 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 08:56:50 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': 'eef8532f-ef19-4fb0-8455-107159b6b071', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 2ab8d81143d0eff22704079091d87f82.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P12', 'X-Amz-Cf-Id': 'WUrL7Y7TaI32Cbf9GiQXF0C_6IZAf1aByjjgsB2_jYeINiRVFchVUw=='}
2025-05-14 03:56:50,612 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 03:56:50,613 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 03:56:50,613 - root - INFO - Successfully retrieved 1 holdings: ['BTC']
2025-05-14 03:56:50,613 - alt_crypto_data - INFO - Attempting to fetch data for BTC-USD via yfinance...
2025-05-14 03:56:50,613 - alt_crypto_data - INFO - Fetching price history for BTC-USD from yfinance (Start: 2025-02-08, End: 2025-05-14, Interval: 1h)...
2025-05-14 03:56:51,079 - alt_crypto_data - INFO - Successfully fetched 2281 data points for BTC-USD from yfinance.
2025-05-14 03:56:51,080 - alt_crypto_data - INFO - Successfully fetched data for BTC-USD via yfinance.
2025-05-14 03:56:52,027 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/accounts/
2025-05-14 03:56:52,027 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 03:56:52,027 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 03:56:52,027 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/accounts/
2025-05-14 03:56:52,027 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': 'ilffgQH4BVN00ZWILGBGKEMsHTmFSHXiUghw6IDlhwU+J9kdMAvrKxAh0gbCqTIz58x/2n+/K/a3rumDWOphBA==', 'x-timestamp': '1747213012', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 03:56:52,365 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 03:56:52,366 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '106', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 08:56:52 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': 'bd181975-7c89-4281-bc19-15302ee480c3', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 ece6d66b6f8dabfbcae2e81c12fea44e.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P12', 'X-Amz-Cf-Id': 'bWEy5poGobNP8q_DAPQmUD297bnNACyf5YP1T-VXecc6iFnlBLH2JA=='}
2025-05-14 03:56:52,366 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"account_number":"311081964512","status":"active","buying_power":"16.5500","buying_power_currency":"USD"}...
2025-05-14 03:56:52,368 - brokers.robinhood_broker - DEBUG - Raw response from _make_api_request in get_account_info: {'account_number': '311081964512', 'status': 'active', 'buying_power': '16.5500', 'buying_power_currency': 'USD'}
2025-05-14 03:56:52,368 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 03:56:52,368 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 03:56:52,368 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 03:56:52,368 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 03:56:52,368 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': 'dqWr6ovVnBcJZ5jpiwVKy5O0OAGRnqw2VjAl5KUQFGFAUCEmZeGArzhN8c3h5lUB7MOYGfxz5m2bJmh8UlIIAQ==', 'x-timestamp': '1747213012', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 03:56:52,571 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 03:56:52,571 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 08:56:52 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': 'b4c209e5-34d5-413f-b249-c6eb88c11b49', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 48ae30b385d6a5d01d175d0518196f70.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P12', 'X-Amz-Cf-Id': '2P9FCrYjhKfm9wlpmLCHUrFgNl7PG5sYp-grrcLRUWvbz4AOZPUW0Q=='}
2025-05-14 03:56:52,571 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 03:56:52,572 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 03:56:52,573 - root - INFO - [BTC-USD] RL agent signal: hold (action_int: 0)
2025-05-14 03:56:52,575 - root - INFO - Trading cycle finished. Signals: {'BTC-USD': 'hold'}
2025-05-14 03:58:55,346 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T08:58:55.345570+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_START", "message": "Starting new trading cycle.", "severity": "INFO"}
2025-05-14 03:58:55,349 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T08:58:55.349856+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_ATTEMPT", "message": "Attempting to fetch current holdings.", "severity": "INFO"}
2025-05-14 03:58:55,350 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 03:58:55,350 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 03:58:55,351 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 03:58:55,351 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 03:58:55,352 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': 'Fbbtg3r6/zMkMjFQF4K+ZbhwbQVrA6DTv8/dQua/DtQwYU+z8HcdEDGSR2kx7zyP5/AErpHDPW2YCQYeWLZSAg==', 'x-timestamp': '1747213135', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 03:58:55,686 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 03:58:55,686 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 08:58:55 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': '1aef4549-1969-4277-b793-96afcef5da8b', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 2ab8d81143d0eff22704079091d87f82.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P12', 'X-Amz-Cf-Id': 'qIoVLOGDn7ytmjXj9_qeqMfigFq8YWANuHxZdX0ko4Q6aPAJjtGq2g=='}
2025-05-14 03:58:55,686 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 03:58:55,687 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 03:58:55,687 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T08:58:55.687799+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_SUCCESS", "message": "Successfully retrieved and processed 1 holdings.", "severity": "INFO", "details": {"holdings_count": 1, "assets_held": ["BTC"]}}
2025-05-14 03:58:55,687 - alt_crypto_data - INFO - Attempting to fetch data for BTC-USD via yfinance...
2025-05-14 03:58:55,688 - alt_crypto_data - INFO - Fetching price history for BTC-USD from yfinance (Start: 2025-02-08, End: 2025-05-14, Interval: 1h)...
2025-05-14 03:58:56,376 - alt_crypto_data - INFO - Successfully fetched 2281 data points for BTC-USD from yfinance.
2025-05-14 03:58:56,376 - alt_crypto_data - INFO - Successfully fetched data for BTC-USD via yfinance.
2025-05-14 03:58:57,891 - crypto_bot_logger - ERROR - {"timestamp": "2025-05-14T08:58:57.891153+00:00", "source_component": "crypto_bot", "event_type": "NORMALIZATION_STATS_MISSING", "message": "Normalization stats (mean/std) not found for BTC-USD. Defaulting to 'hold'.", "severity": "ERROR", "details": {"symbol": "BTC-USD", "available_stats_keys": ["means", "stds"]}}
2025-05-14 03:58:57,891 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T08:58:57.891401+00:00", "source_component": "crypto_bot", "event_type": "TRADE_EXECUTION_PHASE_START", "message": "Starting trade execution phase based on signals.", "severity": "INFO"}
2025-05-14 03:58:57,891 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T08:58:57.891488+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_COMPLETE", "message": "Trading cycle finished in 2.54 seconds.", "severity": "INFO", "details": {"cycle_duration_seconds": 2.54, "signals_generated": {"BTC-USD": "hold"}, "trades_attempted": 0}}
2025-05-14 03:59:47,878 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T08:59:47.877004+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_START", "message": "Starting new trading cycle.", "severity": "INFO"}
2025-05-14 03:59:47,880 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T08:59:47.880385+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_ATTEMPT", "message": "Attempting to fetch current holdings.", "severity": "INFO"}
2025-05-14 03:59:47,880 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 03:59:47,880 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 03:59:47,881 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 03:59:47,881 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 03:59:47,882 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': 'ZqWubvB419NtBzVOMoFmsvwxLK3mxeGfH2B0YX/PxR+YiOSnk0ZR2XyH5A937rNWUFNznJ0fcaaG4HNEdsSmAA==', 'x-timestamp': '1747213187', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 03:59:48,126 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 03:59:48,133 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 08:59:48 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': 'a7a5c7df-d398-4a98-8c15-b2157e3f8bd1', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 0ead8174df18f4d332aa848aebd34024.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P12', 'X-Amz-Cf-Id': 'xJO3b3hDgojjLoPZTKfDTIOrPmILK4DSsgUxHDSCGGwLAWcziFFsWA=='}
2025-05-14 03:59:48,133 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 03:59:48,167 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 03:59:48,168 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T08:59:48.168319+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_SUCCESS", "message": "Successfully retrieved and processed 1 holdings.", "severity": "INFO", "details": {"holdings_count": 1, "assets_held": ["BTC"]}}
2025-05-14 03:59:48,168 - alt_crypto_data - INFO - Attempting to fetch data for BTC-USD via yfinance...
2025-05-14 03:59:48,168 - alt_crypto_data - INFO - Fetching price history for BTC-USD from yfinance (Start: 2025-02-08, End: 2025-05-14, Interval: 1h)...
2025-05-14 03:59:48,537 - alt_crypto_data - INFO - Successfully fetched 2280 data points for BTC-USD from yfinance.
2025-05-14 03:59:48,538 - alt_crypto_data - INFO - Successfully fetched data for BTC-USD via yfinance.
2025-05-14 03:59:49,697 - crypto_bot_logger - ERROR - {"timestamp": "2025-05-14T08:59:49.697028+00:00", "source_component": "crypto_bot", "event_type": "FETCH_OR_SIGNAL_ERROR_IN_CYCLE", "message": "Error during data fetch or signal generation for BTC-USD: _log_structured_event() got an unexpected keyword argument 'symbol'", "severity": "ERROR", "details": {"symbol": "BTC-USD", "error_message": "_log_structured_event() got an unexpected keyword argument 'symbol'"}}
Traceback (most recent call last):
  File "/Users/activate/Dev/robinhood-crypto-bot/crypto_bot.py", line 633, in _get_signal
    if symbol not in self.norm_stats or not all(k in self.norm_stats[symbol] for k in ['means', 'stds']):
TypeError: _log_structured_event() got an unexpected keyword argument 'symbol'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/activate/Dev/robinhood-crypto-bot/crypto_bot.py", line 1067, in run_trading_cycle
    _log_structured_event(logging.ERROR, "FETCH_OR_SIGNAL_ERROR_IN_CYCLE",
  File "/Users/activate/Dev/robinhood-crypto-bot/crypto_bot.py", line 709, in _get_signal
    except Exception as e_feature_gen:
TypeError: _log_structured_event() got an unexpected keyword argument 'symbol'
2025-05-14 03:59:49,697 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T08:59:49.697528+00:00", "source_component": "crypto_bot", "event_type": "TRADE_EXECUTION_PHASE_START", "message": "Starting trade execution phase based on signals.", "severity": "INFO"}
2025-05-14 03:59:49,697 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T08:59:49.697634+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_COMPLETE", "message": "Trading cycle finished in 1.82 seconds.", "severity": "INFO", "details": {"cycle_duration_seconds": 1.82, "signals_generated": {"BTC-USD": "hold"}, "trades_attempted": 0}}
2025-05-14 04:00:35,614 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:00:35.613583+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_START", "message": "Starting new trading cycle.", "severity": "INFO"}
2025-05-14 04:00:35,615 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:00:35.615593+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_ATTEMPT", "message": "Attempting to fetch current holdings.", "severity": "INFO"}
2025-05-14 04:00:35,615 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 04:00:35,616 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 04:00:35,616 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 04:00:35,616 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 04:00:35,617 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': 'EZPhwCoEd0Sb2n0trYV3AaV6RarrZq7evq9SS1C8AshOxJ3xIEBXcMa8XykhYPbsmmSuTeGTEqvGY4Ph8PpsBg==', 'x-timestamp': '1747213235', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 04:00:35,948 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 04:00:35,948 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 09:00:35 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': '2117819e-47d4-4b15-a5f6-7e6cd5c829ef', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 b387ad1a45e33d1134d371ee1cfe2158.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P12', 'X-Amz-Cf-Id': 'vLq9zZfceWO4zY-Z1ba1TniVndFXvjzr3XYg1bB-pSUQpaiHtbmvSw=='}
2025-05-14 04:00:35,948 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 04:00:35,949 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 04:00:35,949 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:00:35.949599+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_SUCCESS", "message": "Successfully retrieved and processed 1 holdings.", "severity": "INFO", "details": {"holdings_count": 1, "assets_held": ["BTC"]}}
2025-05-14 04:00:35,949 - alt_crypto_data - INFO - Attempting to fetch data for BTC-USD via yfinance...
2025-05-14 04:00:35,949 - alt_crypto_data - INFO - Fetching price history for BTC-USD from yfinance (Start: 2025-02-08, End: 2025-05-14, Interval: 1h)...
2025-05-14 04:00:36,497 - alt_crypto_data - INFO - Successfully fetched 2280 data points for BTC-USD from yfinance.
2025-05-14 04:00:36,497 - alt_crypto_data - INFO - Successfully fetched data for BTC-USD via yfinance.
2025-05-14 04:00:38,080 - crypto_bot_logger - ERROR - {"timestamp": "2025-05-14T09:00:38.079994+00:00", "source_component": "crypto_bot", "event_type": "FEATURE_GENERATION_ERROR", "message": "Error during feature generation for RL agent for BTC-USD: 'RobinhoodCryptoBot' object has no attribute 'current_balance'", "severity": "ERROR", "details": {"symbol": "BTC-USD", "error_message": "'RobinhoodCryptoBot' object has no attribute 'current_balance'", "exc_info": true}}
2025-05-14 04:00:38,080 - crypto_bot_logger - WARNING - {"timestamp": "2025-05-14T09:00:38.080174+00:00", "source_component": "crypto_bot", "event_type": "FEATURE_GENERATION_FAILED", "message": "Could not generate normalized features for BTC-USD. Defaulting to 'hold'.", "severity": "WARNING", "details": {"symbol": "BTC-USD"}}
2025-05-14 04:00:38,080 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:00:38.080333+00:00", "source_component": "crypto_bot", "event_type": "TRADE_EXECUTION_PHASE_START", "message": "Starting trade execution phase based on signals.", "severity": "INFO"}
2025-05-14 04:00:38,080 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:00:38.080434+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_COMPLETE", "message": "Trading cycle finished in 2.46 seconds.", "severity": "INFO", "details": {"cycle_duration_seconds": 2.46, "signals_generated": {"BTC-USD": "hold"}, "trades_attempted": 0}}
2025-05-14 04:01:36,383 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:01:36.382929+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_START", "message": "Starting new trading cycle.", "severity": "INFO"}
2025-05-14 04:01:36,384 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:01:36.384160+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_ATTEMPT", "message": "Attempting to fetch current holdings.", "severity": "INFO"}
2025-05-14 04:01:36,384 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 04:01:36,384 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 04:01:36,384 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 04:01:36,384 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 04:01:36,384 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': 'gT/LBNFcLLKn/mxdBhkNZSMTbHkPjTSHD3ECE5jSVmA7FCMtaxjKWjbFY1tgxHal9I3Zfp7JbJVu2MI/sBr8Cg==', 'x-timestamp': '1747213296', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 04:01:36,600 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 04:01:36,600 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 09:01:36 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': '15dca420-76de-4747-af5c-77310f973b92', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 b79f9040ea4bc6bf2a49fda4603142c2.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P12', 'X-Amz-Cf-Id': 'T8WQO5cyHGVl9SYiL1jLJeu3rBz-pJ8RpGh1SnlMzj7o6McSFr8C9A=='}
2025-05-14 04:01:36,600 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 04:01:36,601 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 04:01:36,602 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:01:36.601893+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_SUCCESS", "message": "Successfully retrieved and processed 1 holdings.", "severity": "INFO", "details": {"holdings_count": 1, "assets_held": ["BTC"]}}
2025-05-14 04:01:36,602 - alt_crypto_data - INFO - Attempting to fetch data for BTC-USD via yfinance...
2025-05-14 04:01:36,602 - alt_crypto_data - INFO - Fetching price history for BTC-USD from yfinance (Start: 2025-02-08, End: 2025-05-14, Interval: 1h)...
2025-05-14 04:01:37,083 - alt_crypto_data - INFO - Successfully fetched 2280 data points for BTC-USD from yfinance.
2025-05-14 04:01:37,086 - alt_crypto_data - INFO - Successfully fetched data for BTC-USD via yfinance.
2025-05-14 04:01:37,917 - crypto_bot_logger - ERROR - {"timestamp": "2025-05-14T09:01:37.917485+00:00", "source_component": "crypto_bot", "event_type": "FETCH_OR_SIGNAL_ERROR_IN_CYCLE", "message": "Error during data fetch or signal generation for BTC-USD: _log_structured_event() got an unexpected keyword argument 'symbol'", "severity": "ERROR", "details": {"symbol": "BTC-USD", "error_message": "_log_structured_event() got an unexpected keyword argument 'symbol'"}}
Traceback (most recent call last):
  File "/Users/activate/Dev/robinhood-crypto-bot/crypto_bot.py", line 633, in _get_signal
    if symbol not in self.norm_stats or not all(k in self.norm_stats[symbol] for k in ['means', 'stds']):
TypeError: _log_structured_event() got an unexpected keyword argument 'symbol'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/activate/Dev/robinhood-crypto-bot/crypto_bot.py", line 1067, in run_trading_cycle
    _log_structured_event(logging.ERROR, "FETCH_OR_SIGNAL_ERROR_IN_CYCLE",
  File "/Users/activate/Dev/robinhood-crypto-bot/crypto_bot.py", line 709, in _get_signal
    except Exception as e_feature_gen:
TypeError: _log_structured_event() got an unexpected keyword argument 'symbol'
2025-05-14 04:01:37,918 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:01:37.918015+00:00", "source_component": "crypto_bot", "event_type": "TRADE_EXECUTION_PHASE_START", "message": "Starting trade execution phase based on signals.", "severity": "INFO"}
2025-05-14 04:01:37,918 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:01:37.918817+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_COMPLETE", "message": "Trading cycle finished in 1.53 seconds.", "severity": "INFO", "details": {"cycle_duration_seconds": 1.53, "signals_generated": {"BTC-USD": "hold"}, "trades_attempted": 0}}
2025-05-14 04:01:53,424 - root - INFO - Starting new trading cycle...
2025-05-14 04:01:53,425 - root - INFO - Fetching current holdings via broker client...
2025-05-14 04:01:53,426 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 04:01:53,426 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 04:01:53,427 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 04:01:53,427 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 04:01:53,427 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': 'yD/BjSpejEcMdwOXnHHIytU1hKlFFjE4N/zIX35VBP3NhrRNJwyz7lm7wcQj39KqmNy7ecFheCGacgJJnYYzBA==', 'x-timestamp': '1747213313', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 04:01:53,708 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 04:01:53,708 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 09:01:53 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': '561a433e-c5a2-47b7-abd2-a6fb2dea2b9e', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 7ebc316dbc5d3e4bd970d5c5f5f4a680.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P12', 'X-Amz-Cf-Id': 'ygqaneySGPdbg5HK2mPkBGdaueKzjPgFUiOXnfC3e9xkAmXXqXFBnA=='}
2025-05-14 04:01:53,709 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 04:01:53,709 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 04:01:53,709 - root - INFO - Successfully retrieved 1 holdings: ['BTC']
2025-05-14 04:01:53,709 - alt_crypto_data - INFO - Attempting to fetch data for BTC-USD via yfinance...
2025-05-14 04:01:53,710 - alt_crypto_data - INFO - Fetching price history for BTC-USD from yfinance (Start: 2025-02-08, End: 2025-05-14, Interval: 1h)...
2025-05-14 04:01:54,360 - alt_crypto_data - INFO - Successfully fetched 2281 data points for BTC-USD from yfinance.
2025-05-14 04:01:54,361 - alt_crypto_data - INFO - Successfully fetched data for BTC-USD via yfinance.
2025-05-14 04:01:55,983 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/accounts/
2025-05-14 04:01:55,983 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 04:01:55,984 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 04:01:55,984 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/accounts/
2025-05-14 04:01:55,984 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': 'hnbFeBP6ytWnSclja1HHpNqpEB2QGa7d/hFL+LSu+pFpB+CLOXC9klIedVIEzLe7YSe8GcvM799c53DBDe0MDQ==', 'x-timestamp': '1747213315', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 04:01:56,295 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 04:01:56,296 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '106', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 09:01:56 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': '2a1358fb-2aa5-4bef-a73f-c90ced5a39fc', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 4c2b94975ad50ec2ad09e8476cdea25c.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P12', 'X-Amz-Cf-Id': 'Aomxta3UDcFnph1RpH4dFEIgwuspSYI4tUgRIpRh1mFei7ZyUzz4fw=='}
2025-05-14 04:01:56,296 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"account_number":"311081964512","status":"active","buying_power":"16.5500","buying_power_currency":"USD"}...
2025-05-14 04:01:56,297 - brokers.robinhood_broker - DEBUG - Raw response from _make_api_request in get_account_info: {'account_number': '311081964512', 'status': 'active', 'buying_power': '16.5500', 'buying_power_currency': 'USD'}
2025-05-14 04:01:56,297 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 04:01:56,297 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 04:01:56,297 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 04:01:56,297 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 04:01:56,297 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': 'Q/3IqFSeYlgcAcz+iTOvauTSkrCYwlM650+/P7QQdSak8KCBu04xEHIkKjIuubTeYEN6anMNWDolUIct7NvhDw==', 'x-timestamp': '1747213316', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 04:01:56,496 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 04:01:56,496 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 09:01:56 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': '22b6a514-cf4f-4162-9d2b-2b49f32e006f', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 7ebc316dbc5d3e4bd970d5c5f5f4a680.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P12', 'X-Amz-Cf-Id': 'ODMyW6uqPCfQr1wP8Ze7aWCj_o37UeXJCk62RGd6WvyFUJWDvhVbeQ=='}
2025-05-14 04:01:56,496 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 04:01:56,497 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 04:01:56,498 - root - INFO - [BTC-USD] RL agent signal: hold (action_int: 0)
2025-05-14 04:01:56,499 - root - INFO - Trading cycle finished. Signals: {'BTC-USD': 'hold'}
2025-05-14 04:03:58,702 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:03:58.702744+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_START", "message": "Starting new trading cycle.", "severity": "INFO"}
2025-05-14 04:03:58,703 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:03:58.703810+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_ATTEMPT", "message": "Attempting to fetch current holdings.", "severity": "INFO"}
2025-05-14 04:03:58,703 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 04:03:58,703 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 04:03:58,704 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 04:03:58,704 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 04:03:58,704 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': '/m7hdogHjN+ebDu4L4VDtyH8E5b+muQXlQwaqxh3HTvYuoEVo5f6t63hUmY4DnRj5Z0+6jVvhPHOWkpn+/E/Ag==', 'x-timestamp': '1747213438', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 04:03:59,088 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 04:03:59,088 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 09:03:59 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': '638e02ab-8396-4ba0-93e5-63975b0c4ea4', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 98508232f4fc1b95b1f399d6d66e45c6.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P12', 'X-Amz-Cf-Id': 'pMqHRwQANBdvnGXuDL6ECPF3SkLkemYlOlV6eAdwhrmLHiNuLXa4hw=='}
2025-05-14 04:03:59,088 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 04:03:59,092 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 04:03:59,093 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:03:59.093121+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_SUCCESS", "message": "Successfully retrieved and processed 1 holdings.", "severity": "INFO", "details": {"holdings_count": 1, "assets_held": ["BTC"]}}
2025-05-14 04:03:59,093 - alt_crypto_data - INFO - Attempting to fetch data for BTC-USD via yfinance...
2025-05-14 04:03:59,093 - alt_crypto_data - INFO - Fetching price history for BTC-USD from yfinance (Start: 2025-02-08, End: 2025-05-14, Interval: 1h)...
2025-05-14 04:03:59,688 - alt_crypto_data - INFO - Successfully fetched 2281 data points for BTC-USD from yfinance.
2025-05-14 04:03:59,688 - alt_crypto_data - INFO - Successfully fetched data for BTC-USD via yfinance.
2025-05-14 04:04:01,846 - crypto_bot_logger - ERROR - {"timestamp": "2025-05-14T09:04:01.846043+00:00", "source_component": "crypto_bot", "event_type": "NORMALIZATION_STATS_MISSING", "message": "Normalization stats (mean/std) not found for BTC-USD. Defaulting to 'hold'.", "severity": "ERROR", "details": {"symbol": "BTC-USD", "available_stats_keys": ["means", "stds"]}}
2025-05-14 04:04:01,846 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:04:01.846292+00:00", "source_component": "crypto_bot", "event_type": "TRADE_EXECUTION_PHASE_START", "message": "Starting trade execution phase based on signals.", "severity": "INFO"}
2025-05-14 04:04:01,846 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:04:01.846364+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_COMPLETE", "message": "Trading cycle finished in 3.14 seconds.", "severity": "INFO", "details": {"cycle_duration_seconds": 3.14, "signals_generated": {"BTC-USD": "hold"}, "trades_attempted": 0}}
2025-05-14 04:04:50,621 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:04:50.621566+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_START", "message": "Starting new trading cycle.", "severity": "INFO"}
2025-05-14 04:04:50,622 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:04:50.622451+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_ATTEMPT", "message": "Attempting to fetch current holdings.", "severity": "INFO"}
2025-05-14 04:04:50,622 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 04:04:50,623 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 04:04:50,623 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 04:04:50,624 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 04:04:50,624 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': '4RNHzmt+Id3GlyYkY3WdUOblxCXS0BV26QUzv6ZrXOM05vqsxeT0oEi7dM832Cbf4J4cks4TI1xxL31qWddZAw==', 'x-timestamp': '1747213490', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 04:04:50,889 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 04:04:50,892 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 09:04:50 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': '0299c166-863e-4747-931f-27e8d53c3a7d', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 f920edb4e5d27ee4048d42d253473dda.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P12', 'X-Amz-Cf-Id': 'vn-OB0EkbYDTQ18GkmlyeUh07wfCEdqYTzBPFcFP22-ACArIl_uJbw=='}
2025-05-14 04:04:50,892 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 04:04:50,893 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 04:04:50,893 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:04:50.893767+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_SUCCESS", "message": "Successfully retrieved and processed 1 holdings.", "severity": "INFO", "details": {"holdings_count": 1, "assets_held": ["BTC"]}}
2025-05-14 04:04:50,893 - alt_crypto_data - INFO - Attempting to fetch data for BTC-USD via yfinance...
2025-05-14 04:04:50,894 - alt_crypto_data - INFO - Fetching price history for BTC-USD from yfinance (Start: 2025-02-08, End: 2025-05-14, Interval: 1h)...
2025-05-14 04:04:51,419 - alt_crypto_data - INFO - Successfully fetched 2281 data points for BTC-USD from yfinance.
2025-05-14 04:04:51,419 - alt_crypto_data - INFO - Successfully fetched data for BTC-USD via yfinance.
2025-05-14 04:04:52,825 - crypto_bot_logger - ERROR - {"timestamp": "2025-05-14T09:04:52.825110+00:00", "source_component": "crypto_bot", "event_type": "FETCH_OR_SIGNAL_ERROR_IN_CYCLE", "message": "Error during data fetch or signal generation for BTC-USD: _log_structured_event() got an unexpected keyword argument 'symbol'", "severity": "ERROR", "details": {"symbol": "BTC-USD", "error_message": "_log_structured_event() got an unexpected keyword argument 'symbol'"}}
Traceback (most recent call last):
  File "/Users/activate/Dev/robinhood-crypto-bot/crypto_bot.py", line 633, in _get_signal
    if symbol not in self.norm_stats or not all(k in self.norm_stats[symbol] for k in ['means', 'stds']):
TypeError: _log_structured_event() got an unexpected keyword argument 'symbol'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/activate/Dev/robinhood-crypto-bot/crypto_bot.py", line 1067, in run_trading_cycle
    _log_structured_event(logging.ERROR, "FETCH_OR_SIGNAL_ERROR_IN_CYCLE",
  File "/Users/activate/Dev/robinhood-crypto-bot/crypto_bot.py", line 709, in _get_signal
    except Exception as e_feature_gen:
TypeError: _log_structured_event() got an unexpected keyword argument 'symbol'
2025-05-14 04:04:52,825 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:04:52.825463+00:00", "source_component": "crypto_bot", "event_type": "TRADE_EXECUTION_PHASE_START", "message": "Starting trade execution phase based on signals.", "severity": "INFO"}
2025-05-14 04:04:52,825 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:04:52.825553+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_COMPLETE", "message": "Trading cycle finished in 2.20 seconds.", "severity": "INFO", "details": {"cycle_duration_seconds": 2.2, "signals_generated": {"BTC-USD": "hold"}, "trades_attempted": 0}}
2025-05-14 04:05:39,029 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:05:39.028584+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_START", "message": "Starting new trading cycle.", "severity": "INFO"}
2025-05-14 04:05:39,031 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:05:39.031105+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_ATTEMPT", "message": "Attempting to fetch current holdings.", "severity": "INFO"}
2025-05-14 04:05:39,031 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 04:05:39,031 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 04:05:39,032 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 04:05:39,033 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 04:05:39,033 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': 'KLiL3HkPR8YVX3I07MwYouAq64JfrVPhBNMiR1S052m0HCByMF24hQc5YDVJqcvTuI0KlX8zuq3jHU1fqWDyDg==', 'x-timestamp': '1747213539', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 04:05:39,368 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 04:05:39,369 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 09:05:39 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': '2f1539c5-8f3f-40ae-8e54-bc63afeccd66', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 2ab8d81143d0eff22704079091d87f82.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P12', 'X-Amz-Cf-Id': 'd1Wnm1X_F8vjMuUV83fd0UVdIFazsDiIwNAvH3SGfILTcVvaY99z3w=='}
2025-05-14 04:05:39,369 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 04:05:39,370 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 04:05:39,371 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:05:39.371118+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_SUCCESS", "message": "Successfully retrieved and processed 1 holdings.", "severity": "INFO", "details": {"holdings_count": 1, "assets_held": ["BTC"]}}
2025-05-14 04:05:39,371 - alt_crypto_data - INFO - Attempting to fetch data for BTC-USD via yfinance...
2025-05-14 04:05:39,371 - alt_crypto_data - INFO - Fetching price history for BTC-USD from yfinance (Start: 2025-02-08, End: 2025-05-14, Interval: 1h)...
2025-05-14 04:05:40,012 - alt_crypto_data - INFO - Successfully fetched 2281 data points for BTC-USD from yfinance.
2025-05-14 04:05:40,012 - alt_crypto_data - INFO - Successfully fetched data for BTC-USD via yfinance.
2025-05-14 04:05:42,253 - crypto_bot_logger - ERROR - {"timestamp": "2025-05-14T09:05:42.253129+00:00", "source_component": "crypto_bot", "event_type": "FEATURE_GENERATION_ERROR", "message": "Error during feature generation for RL agent for BTC-USD: 'RobinhoodCryptoBot' object has no attribute 'current_balance'", "severity": "ERROR", "details": {"symbol": "BTC-USD", "error_message": "'RobinhoodCryptoBot' object has no attribute 'current_balance'", "exc_info": true}}
2025-05-14 04:05:42,253 - crypto_bot_logger - WARNING - {"timestamp": "2025-05-14T09:05:42.253294+00:00", "source_component": "crypto_bot", "event_type": "FEATURE_GENERATION_FAILED", "message": "Could not generate normalized features for BTC-USD. Defaulting to 'hold'.", "severity": "WARNING", "details": {"symbol": "BTC-USD"}}
2025-05-14 04:05:42,253 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:05:42.253460+00:00", "source_component": "crypto_bot", "event_type": "TRADE_EXECUTION_PHASE_START", "message": "Starting trade execution phase based on signals.", "severity": "INFO"}
2025-05-14 04:05:42,253 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:05:42.253547+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_COMPLETE", "message": "Trading cycle finished in 3.22 seconds.", "severity": "INFO", "details": {"cycle_duration_seconds": 3.22, "signals_generated": {"BTC-USD": "hold"}, "trades_attempted": 0}}
2025-05-14 04:06:38,900 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:06:38.900444+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_START", "message": "Starting new trading cycle.", "severity": "INFO"}
2025-05-14 04:06:38,903 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:06:38.903160+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_ATTEMPT", "message": "Attempting to fetch current holdings.", "severity": "INFO"}
2025-05-14 04:06:38,903 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 04:06:38,904 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 04:06:38,905 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 04:06:38,906 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 04:06:38,906 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': 'RJLqgUVgeBpC57nzZgUw9hYKXUXUX+3S8C8MxRangTuryMtJjam7MzDzmK08WCpASbdv97+XIjFmggZW5Qj7AQ==', 'x-timestamp': '1747213598', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 04:06:39,160 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 04:06:39,160 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 09:06:39 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': '38a7f962-7712-4d83-8910-b4ade1dc7ea6', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 ea19206f76c60a6bf2353901a487966a.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P12', 'X-Amz-Cf-Id': '5aSzrycxlaeG23CUiwUboDvUkVMevWTgEG5r-Rf0-ovVSp3W3a1Bfw=='}
2025-05-14 04:06:39,160 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 04:06:39,166 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 04:06:39,167 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:06:39.166428+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_SUCCESS", "message": "Successfully retrieved and processed 1 holdings.", "severity": "INFO", "details": {"holdings_count": 1, "assets_held": ["BTC"]}}
2025-05-14 04:06:39,168 - alt_crypto_data - INFO - Attempting to fetch data for BTC-USD via yfinance...
2025-05-14 04:06:39,169 - alt_crypto_data - INFO - Fetching price history for BTC-USD from yfinance (Start: 2025-02-08, End: 2025-05-14, Interval: 1h)...
2025-05-14 04:06:39,562 - alt_crypto_data - INFO - Successfully fetched 2281 data points for BTC-USD from yfinance.
2025-05-14 04:06:39,562 - alt_crypto_data - INFO - Successfully fetched data for BTC-USD via yfinance.
2025-05-14 04:06:41,037 - crypto_bot_logger - ERROR - {"timestamp": "2025-05-14T09:06:41.037319+00:00", "source_component": "crypto_bot", "event_type": "FETCH_OR_SIGNAL_ERROR_IN_CYCLE", "message": "Error during data fetch or signal generation for BTC-USD: _log_structured_event() got an unexpected keyword argument 'symbol'", "severity": "ERROR", "details": {"symbol": "BTC-USD", "error_message": "_log_structured_event() got an unexpected keyword argument 'symbol'"}}
Traceback (most recent call last):
  File "/Users/activate/Dev/robinhood-crypto-bot/crypto_bot.py", line 633, in _get_signal
    if symbol not in self.norm_stats or not all(k in self.norm_stats[symbol] for k in ['means', 'stds']):
TypeError: _log_structured_event() got an unexpected keyword argument 'symbol'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/activate/Dev/robinhood-crypto-bot/crypto_bot.py", line 1067, in run_trading_cycle
    _log_structured_event(logging.ERROR, "FETCH_OR_SIGNAL_ERROR_IN_CYCLE",
  File "/Users/activate/Dev/robinhood-crypto-bot/crypto_bot.py", line 709, in _get_signal
    except Exception as e_feature_gen:
TypeError: _log_structured_event() got an unexpected keyword argument 'symbol'
2025-05-14 04:06:41,037 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:06:41.037650+00:00", "source_component": "crypto_bot", "event_type": "TRADE_EXECUTION_PHASE_START", "message": "Starting trade execution phase based on signals.", "severity": "INFO"}
2025-05-14 04:06:41,037 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:06:41.037749+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_COMPLETE", "message": "Trading cycle finished in 2.13 seconds.", "severity": "INFO", "details": {"cycle_duration_seconds": 2.13, "signals_generated": {"BTC-USD": "hold"}, "trades_attempted": 0}}
2025-05-14 04:06:57,251 - root - INFO - Starting new trading cycle...
2025-05-14 04:06:57,253 - root - INFO - Fetching current holdings via broker client...
2025-05-14 04:06:57,253 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 04:06:57,254 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 04:06:57,254 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 04:06:57,254 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 04:06:57,255 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': 'dCVtk21xsKe/JXuJBt6kLGfZsmPaHvOEhO7qy/Z8Zj/kOyHP5WEh7FMb8QH4HYtraEWk/ifWeH0/TLhEQ1A3Aw==', 'x-timestamp': '1747213617', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 04:06:57,549 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 04:06:57,549 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 09:06:57 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': '7386061c-2dfe-4d25-9f2d-a328368d2d13', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 80b948cbcf1caaca30b9744e8b51b204.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P12', 'X-Amz-Cf-Id': 'XoHvx_W_ymaAkue2yxABSZ0r2IfDqwX6B-mwZIU42Wx133QGNqv3Ug=='}
2025-05-14 04:06:57,549 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 04:06:57,550 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 04:06:57,550 - root - INFO - Successfully retrieved 1 holdings: ['BTC']
2025-05-14 04:06:57,550 - alt_crypto_data - INFO - Attempting to fetch data for BTC-USD via yfinance...
2025-05-14 04:06:57,550 - alt_crypto_data - INFO - Fetching price history for BTC-USD from yfinance (Start: 2025-02-08, End: 2025-05-14, Interval: 1h)...
2025-05-14 04:06:58,124 - alt_crypto_data - INFO - Successfully fetched 2281 data points for BTC-USD from yfinance.
2025-05-14 04:06:58,124 - alt_crypto_data - INFO - Successfully fetched data for BTC-USD via yfinance.
2025-05-14 04:07:00,668 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/accounts/
2025-05-14 04:07:00,669 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 04:07:00,669 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 04:07:00,669 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/accounts/
2025-05-14 04:07:00,669 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': '2OnZ1LQYGV6/JNHWemqCB0JsjHvpobLLERcxHEFn9Af6Z+fhXdZCElE4GM6b/R9ymm8ynx5Qtk3OOp+ur79/CQ==', 'x-timestamp': '1747213620', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 04:07:01,008 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 04:07:01,008 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '106', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 09:07:00 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': 'b9c4fff5-942a-4fd9-8d40-161c958b1e1f', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 fbc291b5e08eb032127391564e49fac6.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P12', 'X-Amz-Cf-Id': 'VTzjT-Gg6s_uVjiJl8keojYk8fb6tq4Q1RHr6-8h2c30kmVlVTwt0g=='}
2025-05-14 04:07:01,008 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"account_number":"311081964512","status":"active","buying_power":"16.5500","buying_power_currency":"USD"}...
2025-05-14 04:07:01,009 - brokers.robinhood_broker - DEBUG - Raw response from _make_api_request in get_account_info: {'account_number': '311081964512', 'status': 'active', 'buying_power': '16.5500', 'buying_power_currency': 'USD'}
2025-05-14 04:07:01,009 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 04:07:01,009 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 04:07:01,009 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 04:07:01,009 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 04:07:01,013 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': 'jhDUq+Ao77S5EbshI+3nI5BIUelXtmGwbGbNTb0olZDspIp9unK6sxAqzOWZKF9TgzMkH+zOQNDC2NYwZ32BBw==', 'x-timestamp': '1747213621', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 04:07:01,250 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 04:07:01,250 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 09:07:01 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': '225410b7-4923-401a-ba83-3c7c272f826f', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 2f77273e883ce94eb536f2b017dc618c.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P12', 'X-Amz-Cf-Id': 'Z9TDUymrqGF7TcP5RZm8sImjj89u6uqt-EjjQ9F4MagsgxOcIpEthg=='}
2025-05-14 04:07:01,250 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 04:07:01,251 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 04:07:01,252 - root - INFO - [BTC-USD] RL agent signal: hold (action_int: 0)
2025-05-14 04:07:01,256 - root - INFO - Trading cycle finished. Signals: {'BTC-USD': 'hold'}
2025-05-14 04:09:02,777 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:09:02.775153+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_START", "message": "Starting new trading cycle.", "severity": "INFO"}
2025-05-14 04:09:02,780 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:09:02.780753+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_ATTEMPT", "message": "Attempting to fetch current holdings.", "severity": "INFO"}
2025-05-14 04:09:02,781 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 04:09:02,781 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 04:09:02,782 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 04:09:02,782 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 04:09:02,782 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': 'uXYxDB++WBNQTlLNyEuV66zyhiOjmEGhanICc3xOs7kyaT5LUIx578ULhY8DkINwOwmDPNji8g3mCT1G9BuWCw==', 'x-timestamp': '1747213742', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 04:09:03,140 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 04:09:03,148 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 09:09:03 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': '9e5cbffd-cab3-419f-bd29-9ed6858989c1', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 925dca724534b9e2ea0c989957321ad0.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P12', 'X-Amz-Cf-Id': 'KjLRhQY2e2En5-qDADLiW_WPTKf6WMulwY1TwjLXd6ocSnnxEe2Sww=='}
2025-05-14 04:09:03,149 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 04:09:03,160 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 04:09:03,162 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:09:03.162019+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_SUCCESS", "message": "Successfully retrieved and processed 1 holdings.", "severity": "INFO", "details": {"holdings_count": 1, "assets_held": ["BTC"]}}
2025-05-14 04:09:03,163 - alt_crypto_data - INFO - Attempting to fetch data for BTC-USD via yfinance...
2025-05-14 04:09:03,164 - alt_crypto_data - INFO - Fetching price history for BTC-USD from yfinance (Start: 2025-02-08, End: 2025-05-14, Interval: 1h)...
2025-05-14 04:09:04,147 - alt_crypto_data - INFO - Successfully fetched 2281 data points for BTC-USD from yfinance.
2025-05-14 04:09:04,148 - alt_crypto_data - INFO - Successfully fetched data for BTC-USD via yfinance.
2025-05-14 04:09:07,041 - crypto_bot_logger - ERROR - {"timestamp": "2025-05-14T09:09:07.041160+00:00", "source_component": "crypto_bot", "event_type": "NORMALIZATION_STATS_MISSING", "message": "Normalization stats (mean/std) not found for BTC-USD. Defaulting to 'hold'.", "severity": "ERROR", "details": {"symbol": "BTC-USD", "available_stats_keys": ["means", "stds"]}}
2025-05-14 04:09:07,041 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:09:07.041420+00:00", "source_component": "crypto_bot", "event_type": "TRADE_EXECUTION_PHASE_START", "message": "Starting trade execution phase based on signals.", "severity": "INFO"}
2025-05-14 04:09:07,041 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:09:07.041499+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_COMPLETE", "message": "Trading cycle finished in 4.26 seconds.", "severity": "INFO", "details": {"cycle_duration_seconds": 4.26, "signals_generated": {"BTC-USD": "hold"}, "trades_attempted": 0}}
2025-05-14 04:09:53,687 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:09:53.685663+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_START", "message": "Starting new trading cycle.", "severity": "INFO"}
2025-05-14 04:09:53,690 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:09:53.690399+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_ATTEMPT", "message": "Attempting to fetch current holdings.", "severity": "INFO"}
2025-05-14 04:09:53,690 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 04:09:53,691 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 04:09:53,691 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 04:09:53,692 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 04:09:53,692 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': 'pFrpsIRKeIsi5Mmgz2v4Kber0jzGkpaaandtSaz96irKlNN49aG9f9pXWkznFAhcyuQgv7b4VtOOD8rtfAXDBg==', 'x-timestamp': '1747213793', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 04:09:53,958 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 04:09:53,958 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 09:09:53 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': '09ec91a6-8c5d-4abe-a4e2-dde375fcd916', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 bacbe7a52f8acdb4274f5d045952e82e.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P12', 'X-Amz-Cf-Id': 'QG8abd_4vINajPx8ZQv8qXD98IVKfE82dSSXnmUteVwDgmNrExsMfA=='}
2025-05-14 04:09:53,958 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 04:09:53,959 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 04:09:53,959 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:09:53.959320+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_SUCCESS", "message": "Successfully retrieved and processed 1 holdings.", "severity": "INFO", "details": {"holdings_count": 1, "assets_held": ["BTC"]}}
2025-05-14 04:09:53,959 - alt_crypto_data - INFO - Attempting to fetch data for BTC-USD via yfinance...
2025-05-14 04:09:53,959 - alt_crypto_data - INFO - Fetching price history for BTC-USD from yfinance (Start: 2025-02-08, End: 2025-05-14, Interval: 1h)...
2025-05-14 04:09:54,316 - alt_crypto_data - INFO - Successfully fetched 2281 data points for BTC-USD from yfinance.
2025-05-14 04:09:54,317 - alt_crypto_data - INFO - Successfully fetched data for BTC-USD via yfinance.
2025-05-14 04:09:57,213 - crypto_bot_logger - ERROR - {"timestamp": "2025-05-14T09:09:57.213339+00:00", "source_component": "crypto_bot", "event_type": "FETCH_OR_SIGNAL_ERROR_IN_CYCLE", "message": "Error during data fetch or signal generation for BTC-USD: _log_structured_event() got an unexpected keyword argument 'symbol'", "severity": "ERROR", "details": {"symbol": "BTC-USD", "error_message": "_log_structured_event() got an unexpected keyword argument 'symbol'"}}
Traceback (most recent call last):
  File "/Users/activate/Dev/robinhood-crypto-bot/crypto_bot.py", line 633, in _get_signal
    if symbol not in self.norm_stats or not all(k in self.norm_stats[symbol] for k in ['means', 'stds']):
TypeError: _log_structured_event() got an unexpected keyword argument 'symbol'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/activate/Dev/robinhood-crypto-bot/crypto_bot.py", line 1067, in run_trading_cycle
    _log_structured_event(logging.ERROR, "FETCH_OR_SIGNAL_ERROR_IN_CYCLE",
  File "/Users/activate/Dev/robinhood-crypto-bot/crypto_bot.py", line 709, in _get_signal
    except Exception as e_feature_gen:
TypeError: _log_structured_event() got an unexpected keyword argument 'symbol'
2025-05-14 04:09:57,213 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:09:57.213670+00:00", "source_component": "crypto_bot", "event_type": "TRADE_EXECUTION_PHASE_START", "message": "Starting trade execution phase based on signals.", "severity": "INFO"}
2025-05-14 04:09:57,213 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:09:57.213758+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_COMPLETE", "message": "Trading cycle finished in 3.52 seconds.", "severity": "INFO", "details": {"cycle_duration_seconds": 3.52, "signals_generated": {"BTC-USD": "hold"}, "trades_attempted": 0}}
2025-05-14 04:10:43,163 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:10:43.162340+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_START", "message": "Starting new trading cycle.", "severity": "INFO"}
2025-05-14 04:10:43,166 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:10:43.166329+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_ATTEMPT", "message": "Attempting to fetch current holdings.", "severity": "INFO"}
2025-05-14 04:10:43,166 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 04:10:43,166 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 04:10:43,167 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 04:10:43,168 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 04:10:43,168 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': '1ICzlGp1DwNehoVb/LkRC+3dooKx1XQn9awkQ9/qwPfEhHGhfZPLnndr32lhLnx2nnM00m7jhuoh2V/RlT34AQ==', 'x-timestamp': '1747213843', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 04:10:43,565 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 04:10:43,565 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 09:10:43 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': '4702f409-baed-455e-9a40-e3fec21f29a8', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 35867fa8c378214cba0d2fd4a69ef2b4.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P12', 'X-Amz-Cf-Id': 'WYf5iXJ--Tm36-Z84THX7KWvygLmAOgrdt3SDJpoAPIfbPKFdNxOYA=='}
2025-05-14 04:10:43,565 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 04:10:43,566 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 04:10:43,566 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:10:43.566758+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_SUCCESS", "message": "Successfully retrieved and processed 1 holdings.", "severity": "INFO", "details": {"holdings_count": 1, "assets_held": ["BTC"]}}
2025-05-14 04:10:43,566 - alt_crypto_data - INFO - Attempting to fetch data for BTC-USD via yfinance...
2025-05-14 04:10:43,567 - alt_crypto_data - INFO - Fetching price history for BTC-USD from yfinance (Start: 2025-02-08, End: 2025-05-14, Interval: 1h)...
2025-05-14 04:10:44,125 - alt_crypto_data - INFO - Successfully fetched 2281 data points for BTC-USD from yfinance.
2025-05-14 04:10:44,125 - alt_crypto_data - INFO - Successfully fetched data for BTC-USD via yfinance.
2025-05-14 04:10:47,304 - crypto_bot_logger - ERROR - {"timestamp": "2025-05-14T09:10:47.304909+00:00", "source_component": "crypto_bot", "event_type": "FEATURE_GENERATION_ERROR", "message": "Error during feature generation for RL agent for BTC-USD: 'RobinhoodCryptoBot' object has no attribute 'current_balance'", "severity": "ERROR", "details": {"symbol": "BTC-USD", "error_message": "'RobinhoodCryptoBot' object has no attribute 'current_balance'", "exc_info": true}}
2025-05-14 04:10:47,305 - crypto_bot_logger - WARNING - {"timestamp": "2025-05-14T09:10:47.305098+00:00", "source_component": "crypto_bot", "event_type": "FEATURE_GENERATION_FAILED", "message": "Could not generate normalized features for BTC-USD. Defaulting to 'hold'.", "severity": "WARNING", "details": {"symbol": "BTC-USD"}}
2025-05-14 04:10:47,305 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:10:47.305256+00:00", "source_component": "crypto_bot", "event_type": "TRADE_EXECUTION_PHASE_START", "message": "Starting trade execution phase based on signals.", "severity": "INFO"}
2025-05-14 04:10:47,305 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:10:47.305318+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_COMPLETE", "message": "Trading cycle finished in 4.14 seconds.", "severity": "INFO", "details": {"cycle_duration_seconds": 4.14, "signals_generated": {"BTC-USD": "hold"}, "trades_attempted": 0}}
2025-05-14 04:11:41,895 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:11:41.893047+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_START", "message": "Starting new trading cycle.", "severity": "INFO"}
2025-05-14 04:11:41,898 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:11:41.898269+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_ATTEMPT", "message": "Attempting to fetch current holdings.", "severity": "INFO"}
2025-05-14 04:11:41,898 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 04:11:41,898 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 04:11:41,899 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 04:11:41,900 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 04:11:41,900 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': 'u36pFAQI3STg85ry1k9mRECwcGhydEYyXDKStOJpWlgYUypz8eXqcdU3+meaeNk/vaxvr+juTttEndtrwQB0AA==', 'x-timestamp': '1747213901', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 04:11:42,180 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 04:11:42,180 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 09:11:42 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': 'fbc65e23-202b-4fa5-bad9-a6886497fbf9', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 7ebc316dbc5d3e4bd970d5c5f5f4a680.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P12', 'X-Amz-Cf-Id': 'hAHilc3d_ipY7tL-JzWgUBFNrH-EzqtI05RtgIexN07o-A6LpeXHcA=='}
2025-05-14 04:11:42,180 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 04:11:42,181 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 04:11:42,181 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:11:42.181654+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_SUCCESS", "message": "Successfully retrieved and processed 1 holdings.", "severity": "INFO", "details": {"holdings_count": 1, "assets_held": ["BTC"]}}
2025-05-14 04:11:42,181 - alt_crypto_data - INFO - Attempting to fetch data for BTC-USD via yfinance...
2025-05-14 04:11:42,182 - alt_crypto_data - INFO - Fetching price history for BTC-USD from yfinance (Start: 2025-02-08, End: 2025-05-14, Interval: 1h)...
2025-05-14 04:11:42,616 - alt_crypto_data - INFO - Successfully fetched 2281 data points for BTC-USD from yfinance.
2025-05-14 04:11:42,616 - alt_crypto_data - INFO - Successfully fetched data for BTC-USD via yfinance.
2025-05-14 04:11:44,199 - crypto_bot_logger - ERROR - {"timestamp": "2025-05-14T09:11:44.199835+00:00", "source_component": "crypto_bot", "event_type": "FETCH_OR_SIGNAL_ERROR_IN_CYCLE", "message": "Error during data fetch or signal generation for BTC-USD: _log_structured_event() got an unexpected keyword argument 'symbol'", "severity": "ERROR", "details": {"symbol": "BTC-USD", "error_message": "_log_structured_event() got an unexpected keyword argument 'symbol'"}}
Traceback (most recent call last):
  File "/Users/activate/Dev/robinhood-crypto-bot/crypto_bot.py", line 633, in _get_signal
    if symbol not in self.norm_stats or not all(k in self.norm_stats[symbol] for k in ['means', 'stds']):
TypeError: _log_structured_event() got an unexpected keyword argument 'symbol'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/activate/Dev/robinhood-crypto-bot/crypto_bot.py", line 1067, in run_trading_cycle
    _log_structured_event(logging.ERROR, "FETCH_OR_SIGNAL_ERROR_IN_CYCLE",
  File "/Users/activate/Dev/robinhood-crypto-bot/crypto_bot.py", line 709, in _get_signal
    except Exception as e_feature_gen:
TypeError: _log_structured_event() got an unexpected keyword argument 'symbol'
2025-05-14 04:11:44,200 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:11:44.200134+00:00", "source_component": "crypto_bot", "event_type": "TRADE_EXECUTION_PHASE_START", "message": "Starting trade execution phase based on signals.", "severity": "INFO"}
2025-05-14 04:11:44,200 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:11:44.200289+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_COMPLETE", "message": "Trading cycle finished in 2.30 seconds.", "severity": "INFO", "details": {"cycle_duration_seconds": 2.3, "signals_generated": {"BTC-USD": "hold"}, "trades_attempted": 0}}
2025-05-14 04:12:02,211 - root - INFO - Starting new trading cycle...
2025-05-14 04:12:02,215 - root - INFO - Fetching current holdings via broker client...
2025-05-14 04:12:02,215 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 04:12:02,215 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 04:12:02,216 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 04:12:02,217 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 04:12:02,217 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': 'TyxT0XCtKRzsMR7CG8Cc9Wp5UTYsLuKSilyWRphLkRA+wdQCuYEya23x/y8fEdBMu3mN1WdInMijTEBss7uVDg==', 'x-timestamp': '1747213922', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 04:12:02,544 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 04:12:02,544 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 09:12:02 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': 'bfc461f9-35e8-43b6-88d1-9b92beaba69a', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 c2b6220b5406aa0012ec9caaf592be16.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P12', 'X-Amz-Cf-Id': 'cZx1dco_FOLlONq_IQ4egKxns_Ncu1Vz-LLmY8ISPtj5XJBQQgjwtA=='}
2025-05-14 04:12:02,544 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 04:12:02,545 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 04:12:02,545 - root - INFO - Successfully retrieved 1 holdings: ['BTC']
2025-05-14 04:12:02,545 - alt_crypto_data - INFO - Attempting to fetch data for BTC-USD via yfinance...
2025-05-14 04:12:02,545 - alt_crypto_data - INFO - Fetching price history for BTC-USD from yfinance (Start: 2025-02-08, End: 2025-05-14, Interval: 1h)...
2025-05-14 04:12:03,078 - alt_crypto_data - INFO - Successfully fetched 2281 data points for BTC-USD from yfinance.
2025-05-14 04:12:03,079 - alt_crypto_data - INFO - Successfully fetched data for BTC-USD via yfinance.
2025-05-14 04:12:06,946 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/accounts/
2025-05-14 04:12:06,946 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 04:12:06,946 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 04:12:06,946 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/accounts/
2025-05-14 04:12:06,946 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': 'I+aKNhqbSGYiQ3CGlPA0PJ17W6abZQvGpA+MQ67uzx/MIr0LGUR/F7jEkYm0K7Xb7HUlQP5J0FhOgL3hrOtZAQ==', 'x-timestamp': '1747213926', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 04:12:07,480 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 04:12:07,480 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '106', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 09:12:07 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': '31e94dc3-d272-43ab-ab17-ddcb9edc6050', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 71b3f95cc76e27f7c4152c2c830d914a.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P12', 'X-Amz-Cf-Id': 'xYLh8BboZkHT85aEc5nYvgvwGjg07XDEMbEoxuWANBRAPaogPUXMEw=='}
2025-05-14 04:12:07,480 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"account_number":"311081964512","status":"active","buying_power":"16.5500","buying_power_currency":"USD"}...
2025-05-14 04:12:07,481 - brokers.robinhood_broker - DEBUG - Raw response from _make_api_request in get_account_info: {'account_number': '311081964512', 'status': 'active', 'buying_power': '16.5500', 'buying_power_currency': 'USD'}
2025-05-14 04:12:07,481 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 04:12:07,481 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 04:12:07,481 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 04:12:07,481 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 04:12:07,481 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': '0u85IrxOpcbF3bLrBL6w6LNaT3qCEvTD2xdOZpxZKPJQi8MTmJXd7hPW8Llu29yNU5shCMXrEZN7TUu5XN2rBA==', 'x-timestamp': '1747213927', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 04:12:07,727 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 04:12:07,728 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 09:12:07 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': '26723536-a909-484f-818f-a63be2546774', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 e9eb0035bfe1f4607580837fdc95543e.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P12', 'X-Amz-Cf-Id': '2BDMedXs_pxVkUSaqTsK6HPGRvNZWff-s0Exkg91a7V16OMlzVgb1Q=='}
2025-05-14 04:12:07,728 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 04:12:07,729 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 04:12:07,731 - root - INFO - [BTC-USD] RL agent signal: hold (action_int: 0)
2025-05-14 04:12:07,732 - root - INFO - Trading cycle finished. Signals: {'BTC-USD': 'hold'}
2025-05-14 04:14:07,875 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:14:07.873454+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_START", "message": "Starting new trading cycle.", "severity": "INFO"}
2025-05-14 04:14:07,879 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:14:07.879768+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_ATTEMPT", "message": "Attempting to fetch current holdings.", "severity": "INFO"}
2025-05-14 04:14:07,880 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 04:14:07,880 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 04:14:07,881 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 04:14:07,881 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 04:14:07,881 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': 'xwaAHCK9rfUnBGm9bw242NxordF0jd7vYHU6qNwN6+CPWajYpAWr2JSMH2osHb36vI5gvqsLIx0LBRjpIKhXAg==', 'x-timestamp': '1747214047', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 04:14:08,340 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 04:14:08,340 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 09:14:08 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': '1c867fd2-9f6a-4a9a-967a-f9aa5394228c', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 18e3be7d90c576cf0f6cf2603d4987c8.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P12', 'X-Amz-Cf-Id': 'i-R_7JeCP1QEo3YMzLwBgXEG_mjlkqNSpSiMC3KcsuS6HFad-aMo5Q=='}
2025-05-14 04:14:08,340 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 04:14:08,341 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 04:14:08,341 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:14:08.341932+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_SUCCESS", "message": "Successfully retrieved and processed 1 holdings.", "severity": "INFO", "details": {"holdings_count": 1, "assets_held": ["BTC"]}}
2025-05-14 04:14:08,342 - alt_crypto_data - INFO - Attempting to fetch data for BTC-USD via yfinance...
2025-05-14 04:14:08,342 - alt_crypto_data - INFO - Fetching price history for BTC-USD from yfinance (Start: 2025-02-08, End: 2025-05-14, Interval: 1h)...
2025-05-14 04:14:09,075 - alt_crypto_data - INFO - Successfully fetched 2281 data points for BTC-USD from yfinance.
2025-05-14 04:14:09,075 - alt_crypto_data - INFO - Successfully fetched data for BTC-USD via yfinance.
2025-05-14 04:14:12,867 - crypto_bot_logger - ERROR - {"timestamp": "2025-05-14T09:14:12.867546+00:00", "source_component": "crypto_bot", "event_type": "NORMALIZATION_STATS_MISSING", "message": "Normalization stats (mean/std) not found for BTC-USD. Defaulting to 'hold'.", "severity": "ERROR", "details": {"symbol": "BTC-USD", "available_stats_keys": ["means", "stds"]}}
2025-05-14 04:14:12,867 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:14:12.867774+00:00", "source_component": "crypto_bot", "event_type": "TRADE_EXECUTION_PHASE_START", "message": "Starting trade execution phase based on signals.", "severity": "INFO"}
2025-05-14 04:14:12,867 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:14:12.867858+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_COMPLETE", "message": "Trading cycle finished in 4.99 seconds.", "severity": "INFO", "details": {"cycle_duration_seconds": 4.99, "signals_generated": {"BTC-USD": "hold"}, "trades_attempted": 0}}
2025-05-14 04:14:58,037 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:14:58.035245+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_START", "message": "Starting new trading cycle.", "severity": "INFO"}
2025-05-14 04:14:58,042 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:14:58.042356+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_ATTEMPT", "message": "Attempting to fetch current holdings.", "severity": "INFO"}
2025-05-14 04:14:58,042 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 04:14:58,043 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 04:14:58,044 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 04:14:58,044 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 04:14:58,044 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': 'HL8vbtN5KE5mmUGwJ01H46lG2s+MMiy48ZFRZCRL6Ko0tBuwuVqF3KO0X49jPOCrUDgo1RCfGFtf4sc8W4zrBA==', 'x-timestamp': '1747214098', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 04:14:58,460 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 04:14:58,474 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 09:14:58 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': '3b146dda-6b56-4ada-a9fa-b7f6d46e6781', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 313a4ea394487c18fc7b1192a4bd4804.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P12', 'X-Amz-Cf-Id': 'MTaeS9xf5TLAXIf1daOK2vUlRwPy4_289yy7sCwoDLAiFyrfCy6PQg=='}
2025-05-14 04:14:58,486 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 04:14:58,493 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 04:14:58,493 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:14:58.493150+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_SUCCESS", "message": "Successfully retrieved and processed 1 holdings.", "severity": "INFO", "details": {"holdings_count": 1, "assets_held": ["BTC"]}}
2025-05-14 04:14:58,493 - alt_crypto_data - INFO - Attempting to fetch data for BTC-USD via yfinance...
2025-05-14 04:14:58,493 - alt_crypto_data - INFO - Fetching price history for BTC-USD from yfinance (Start: 2025-02-08, End: 2025-05-14, Interval: 1h)...
2025-05-14 04:14:58,921 - alt_crypto_data - INFO - Successfully fetched 2281 data points for BTC-USD from yfinance.
2025-05-14 04:14:58,921 - alt_crypto_data - INFO - Successfully fetched data for BTC-USD via yfinance.
2025-05-14 04:15:00,292 - crypto_bot_logger - ERROR - {"timestamp": "2025-05-14T09:15:00.292382+00:00", "source_component": "crypto_bot", "event_type": "FETCH_OR_SIGNAL_ERROR_IN_CYCLE", "message": "Error during data fetch or signal generation for BTC-USD: _log_structured_event() got an unexpected keyword argument 'symbol'", "severity": "ERROR", "details": {"symbol": "BTC-USD", "error_message": "_log_structured_event() got an unexpected keyword argument 'symbol'"}}
Traceback (most recent call last):
  File "/Users/activate/Dev/robinhood-crypto-bot/crypto_bot.py", line 633, in _get_signal
    if symbol not in self.norm_stats or not all(k in self.norm_stats[symbol] for k in ['means', 'stds']):
TypeError: _log_structured_event() got an unexpected keyword argument 'symbol'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/activate/Dev/robinhood-crypto-bot/crypto_bot.py", line 1067, in run_trading_cycle
    _log_structured_event(logging.ERROR, "FETCH_OR_SIGNAL_ERROR_IN_CYCLE",
  File "/Users/activate/Dev/robinhood-crypto-bot/crypto_bot.py", line 709, in _get_signal
    except Exception as e_feature_gen:
TypeError: _log_structured_event() got an unexpected keyword argument 'symbol'
2025-05-14 04:15:00,292 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:15:00.292720+00:00", "source_component": "crypto_bot", "event_type": "TRADE_EXECUTION_PHASE_START", "message": "Starting trade execution phase based on signals.", "severity": "INFO"}
2025-05-14 04:15:00,292 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:15:00.292816+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_COMPLETE", "message": "Trading cycle finished in 2.25 seconds.", "severity": "INFO", "details": {"cycle_duration_seconds": 2.25, "signals_generated": {"BTC-USD": "hold"}, "trades_attempted": 0}}
2025-05-14 04:15:48,182 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:15:48.181027+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_START", "message": "Starting new trading cycle.", "severity": "INFO"}
2025-05-14 04:15:48,185 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:15:48.185614+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_ATTEMPT", "message": "Attempting to fetch current holdings.", "severity": "INFO"}
2025-05-14 04:15:48,185 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 04:15:48,186 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 04:15:48,186 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 04:15:48,187 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 04:15:48,187 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': '3gP3VXedUaxRt8sSjgD8paZbs+zTzNhygv35TzM+7ngySTA2SGso11ALJOgIVxRXRuq6wFR2Yl+e++2XsKcvDw==', 'x-timestamp': '1747214148', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 04:15:48,604 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 04:15:48,604 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 09:15:48 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': '42297193-32bf-4cf9-838d-09b21de4acda', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 80b948cbcf1caaca30b9744e8b51b204.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P12', 'X-Amz-Cf-Id': '7RLNPGgwgW0fkor62utAK6xFktGQwhgbPhJ_QVOUFgjKekqY-kvrBA=='}
2025-05-14 04:15:48,604 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 04:15:48,605 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 04:15:48,605 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:15:48.605706+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_SUCCESS", "message": "Successfully retrieved and processed 1 holdings.", "severity": "INFO", "details": {"holdings_count": 1, "assets_held": ["BTC"]}}
2025-05-14 04:15:48,605 - alt_crypto_data - INFO - Attempting to fetch data for BTC-USD via yfinance...
2025-05-14 04:15:48,606 - alt_crypto_data - INFO - Fetching price history for BTC-USD from yfinance (Start: 2025-02-08, End: 2025-05-14, Interval: 1h)...
2025-05-14 04:15:49,191 - alt_crypto_data - INFO - Successfully fetched 2281 data points for BTC-USD from yfinance.
2025-05-14 04:15:49,191 - alt_crypto_data - INFO - Successfully fetched data for BTC-USD via yfinance.
2025-05-14 04:15:52,875 - crypto_bot_logger - ERROR - {"timestamp": "2025-05-14T09:15:52.875349+00:00", "source_component": "crypto_bot", "event_type": "FEATURE_GENERATION_ERROR", "message": "Error during feature generation for RL agent for BTC-USD: 'RobinhoodCryptoBot' object has no attribute 'current_balance'", "severity": "ERROR", "details": {"symbol": "BTC-USD", "error_message": "'RobinhoodCryptoBot' object has no attribute 'current_balance'", "exc_info": true}}
2025-05-14 04:15:52,875 - crypto_bot_logger - WARNING - {"timestamp": "2025-05-14T09:15:52.875550+00:00", "source_component": "crypto_bot", "event_type": "FEATURE_GENERATION_FAILED", "message": "Could not generate normalized features for BTC-USD. Defaulting to 'hold'.", "severity": "WARNING", "details": {"symbol": "BTC-USD"}}
2025-05-14 04:15:52,875 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:15:52.875703+00:00", "source_component": "crypto_bot", "event_type": "TRADE_EXECUTION_PHASE_START", "message": "Starting trade execution phase based on signals.", "severity": "INFO"}
2025-05-14 04:15:52,875 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:15:52.875763+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_COMPLETE", "message": "Trading cycle finished in 4.69 seconds.", "severity": "INFO", "details": {"cycle_duration_seconds": 4.69, "signals_generated": {"BTC-USD": "hold"}, "trades_attempted": 0}}
2025-05-14 04:16:45,158 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:16:45.157519+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_START", "message": "Starting new trading cycle.", "severity": "INFO"}
2025-05-14 04:16:45,159 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:16:45.159948+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_ATTEMPT", "message": "Attempting to fetch current holdings.", "severity": "INFO"}
2025-05-14 04:16:45,160 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 04:16:45,160 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 04:16:45,160 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 04:16:45,160 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 04:16:45,161 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': 'Mc5pTw4qahQCat3yQlMS26cqkDJcsxtSlYRRyvRFqQFS2Yo8AZPjZwAGCzidyoyZ1lL+hzr0A05BzFjnHEGBCw==', 'x-timestamp': '1747214205', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 04:16:45,456 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 04:16:45,457 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 09:16:45 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': 'a777875d-70e1-44e7-887d-d504924a3b6e', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 6ac2d46e7b30474336cca1ec90f38fd8.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P12', 'X-Amz-Cf-Id': 'qbcyClkWZ2CFAZPvQLggm6XPUSsoa8o5z1srG2HSPFDAYiBd0Sw6eA=='}
2025-05-14 04:16:45,457 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 04:16:45,458 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 04:16:45,458 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:16:45.458580+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_SUCCESS", "message": "Successfully retrieved and processed 1 holdings.", "severity": "INFO", "details": {"holdings_count": 1, "assets_held": ["BTC"]}}
2025-05-14 04:16:45,458 - alt_crypto_data - INFO - Attempting to fetch data for BTC-USD via yfinance...
2025-05-14 04:16:45,459 - alt_crypto_data - INFO - Fetching price history for BTC-USD from yfinance (Start: 2025-02-08, End: 2025-05-14, Interval: 1h)...
2025-05-14 04:16:45,998 - alt_crypto_data - INFO - Successfully fetched 2281 data points for BTC-USD from yfinance.
2025-05-14 04:16:45,998 - alt_crypto_data - INFO - Successfully fetched data for BTC-USD via yfinance.
2025-05-14 04:16:48,632 - crypto_bot_logger - ERROR - {"timestamp": "2025-05-14T09:16:48.632698+00:00", "source_component": "crypto_bot", "event_type": "FETCH_OR_SIGNAL_ERROR_IN_CYCLE", "message": "Error during data fetch or signal generation for BTC-USD: _log_structured_event() got an unexpected keyword argument 'symbol'", "severity": "ERROR", "details": {"symbol": "BTC-USD", "error_message": "_log_structured_event() got an unexpected keyword argument 'symbol'"}}
Traceback (most recent call last):
  File "/Users/activate/Dev/robinhood-crypto-bot/crypto_bot.py", line 633, in _get_signal
    if symbol not in self.norm_stats or not all(k in self.norm_stats[symbol] for k in ['means', 'stds']):
TypeError: _log_structured_event() got an unexpected keyword argument 'symbol'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/activate/Dev/robinhood-crypto-bot/crypto_bot.py", line 1067, in run_trading_cycle
    _log_structured_event(logging.ERROR, "FETCH_OR_SIGNAL_ERROR_IN_CYCLE",
  File "/Users/activate/Dev/robinhood-crypto-bot/crypto_bot.py", line 709, in _get_signal
    except Exception as e_feature_gen:
TypeError: _log_structured_event() got an unexpected keyword argument 'symbol'
2025-05-14 04:16:48,634 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:16:48.634131+00:00", "source_component": "crypto_bot", "event_type": "TRADE_EXECUTION_PHASE_START", "message": "Starting trade execution phase based on signals.", "severity": "INFO"}
2025-05-14 04:16:48,634 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:16:48.634225+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_COMPLETE", "message": "Trading cycle finished in 3.47 seconds.", "severity": "INFO", "details": {"cycle_duration_seconds": 3.47, "signals_generated": {"BTC-USD": "hold"}, "trades_attempted": 0}}
2025-05-14 04:17:08,592 - root - INFO - Starting new trading cycle...
2025-05-14 04:17:08,599 - root - INFO - Fetching current holdings via broker client...
2025-05-14 04:17:08,599 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 04:17:08,599 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 04:17:08,600 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 04:17:08,600 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 04:17:08,600 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': 'AV3l9Ib80pTKySH83aw2DTgzM3lQTrZXoL8BTPaYPnctbSoXEoB14rGA6Y2/uLaf3q9eNauYiauEUkMJsldGAg==', 'x-timestamp': '1747214228', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 04:17:08,922 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 04:17:08,922 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 09:17:08 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': '3d13826e-a903-4ae7-9d39-e41d481b411d', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 d94048c82f133be2b27e307859c05590.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P12', 'X-Amz-Cf-Id': 'Eh9BQTll4KIcfHb4QD_LKJvvophKLLFOy5YmOwCV39q5hIb060vcpA=='}
2025-05-14 04:17:08,922 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 04:17:08,923 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 04:17:08,923 - root - INFO - Successfully retrieved 1 holdings: ['BTC']
2025-05-14 04:17:08,923 - alt_crypto_data - INFO - Attempting to fetch data for BTC-USD via yfinance...
2025-05-14 04:17:08,923 - alt_crypto_data - INFO - Fetching price history for BTC-USD from yfinance (Start: 2025-02-08, End: 2025-05-14, Interval: 1h)...
2025-05-14 04:17:09,575 - alt_crypto_data - INFO - Successfully fetched 2281 data points for BTC-USD from yfinance.
2025-05-14 04:17:09,575 - alt_crypto_data - INFO - Successfully fetched data for BTC-USD via yfinance.
2025-05-14 04:17:15,318 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/accounts/
2025-05-14 04:17:15,318 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 04:17:15,318 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 04:17:15,318 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/accounts/
2025-05-14 04:17:15,318 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': 'V+4cMvXxaD6Bb0M/DLaw7r9J3WfWGGhaxEyg+gW+R74Ou9DsL0WeR8+mdfK1VigcOTvbuFA5xfAkSKMZXxXODg==', 'x-timestamp': '1747214235', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 04:17:15,810 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 04:17:15,810 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '106', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 09:17:15 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': '1965e803-0259-4833-95d1-64e6f26bb192', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 0ead8174df18f4d332aa848aebd34024.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P12', 'X-Amz-Cf-Id': 'V8tv9aHFa14W3rk7DoICX7N6B3Flpeor776LgGywAI51W-veBDzBCw=='}
2025-05-14 04:17:15,810 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"account_number":"311081964512","status":"active","buying_power":"16.5500","buying_power_currency":"USD"}...
2025-05-14 04:17:15,811 - brokers.robinhood_broker - DEBUG - Raw response from _make_api_request in get_account_info: {'account_number': '311081964512', 'status': 'active', 'buying_power': '16.5500', 'buying_power_currency': 'USD'}
2025-05-14 04:17:15,811 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 04:17:15,811 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 04:17:15,812 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 04:17:15,812 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 04:17:15,812 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': 'x/SffT6q0Bf4CF6MqZ8iSKDgHjZ9dJbSDFeBKPjWCJIhO5Mc9LdctHIOcTIwZ2rxkOuP8Ig+GBCTUTvswdJlAw==', 'x-timestamp': '1747214235', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 04:17:16,017 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 04:17:16,017 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 09:17:16 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': 'bf451189-4dbb-468b-a0cf-d2f476d3e8f3', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 502ed275ee0309555dba7f645a26bd34.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P12', 'X-Amz-Cf-Id': 'mseXCqOGA6jJ1nSEimAb3P1DCcdg93nIQ3Zt_1sVcGM_QHhT9dffig=='}
2025-05-14 04:17:16,017 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 04:17:16,018 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 04:17:16,032 - root - INFO - [BTC-USD] RL agent signal: hold (action_int: 0)
2025-05-14 04:17:16,033 - root - INFO - Trading cycle finished. Signals: {'BTC-USD': 'hold'}
2025-05-14 04:19:13,809 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:19:13.807444+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_START", "message": "Starting new trading cycle.", "severity": "INFO"}
2025-05-14 04:19:13,812 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:19:13.812692+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_ATTEMPT", "message": "Attempting to fetch current holdings.", "severity": "INFO"}
2025-05-14 04:19:13,813 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 04:19:13,813 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 04:19:13,814 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 04:19:13,814 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 04:19:13,814 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': 'rlHKUyrsjQ8rcbx08WZkqbiBRGWEeKp4ZZf/yUNBHIPfjZLgkJ+0Nejg+UG1oF5rk8ytqhKjx8bGDbMRXVvcDw==', 'x-timestamp': '1747214353', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 04:19:14,148 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 04:19:14,148 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 09:19:14 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': 'bc69fdd2-c3c1-4eb9-b400-a522b16fd276', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 2ab8d81143d0eff22704079091d87f82.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P12', 'X-Amz-Cf-Id': '1yYoJGh68CGvaafMYoFBliLih6o4O6A3sucFmyqtBPnjdUNkDkqV0A=='}
2025-05-14 04:19:14,149 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 04:19:14,150 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 04:19:14,150 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:19:14.150231+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_SUCCESS", "message": "Successfully retrieved and processed 1 holdings.", "severity": "INFO", "details": {"holdings_count": 1, "assets_held": ["BTC"]}}
2025-05-14 04:19:14,150 - alt_crypto_data - INFO - Attempting to fetch data for BTC-USD via yfinance...
2025-05-14 04:19:14,150 - alt_crypto_data - INFO - Fetching price history for BTC-USD from yfinance (Start: 2025-02-08, End: 2025-05-14, Interval: 1h)...
2025-05-14 04:19:14,974 - alt_crypto_data - INFO - Successfully fetched 2281 data points for BTC-USD from yfinance.
2025-05-14 04:19:14,975 - alt_crypto_data - INFO - Successfully fetched data for BTC-USD via yfinance.
2025-05-14 04:19:20,929 - crypto_bot_logger - ERROR - {"timestamp": "2025-05-14T09:19:20.929001+00:00", "source_component": "crypto_bot", "event_type": "NORMALIZATION_STATS_MISSING", "message": "Normalization stats (mean/std) not found for BTC-USD. Defaulting to 'hold'.", "severity": "ERROR", "details": {"symbol": "BTC-USD", "available_stats_keys": ["means", "stds"]}}
2025-05-14 04:19:20,929 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:19:20.929295+00:00", "source_component": "crypto_bot", "event_type": "TRADE_EXECUTION_PHASE_START", "message": "Starting trade execution phase based on signals.", "severity": "INFO"}
2025-05-14 04:19:20,929 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:19:20.929372+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_COMPLETE", "message": "Trading cycle finished in 7.12 seconds.", "severity": "INFO", "details": {"cycle_duration_seconds": 7.12, "signals_generated": {"BTC-USD": "hold"}, "trades_attempted": 0}}
2025-05-14 04:20:01,184 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:20:01.184187+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_START", "message": "Starting new trading cycle.", "severity": "INFO"}
2025-05-14 04:20:01,185 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:20:01.185921+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_ATTEMPT", "message": "Attempting to fetch current holdings.", "severity": "INFO"}
2025-05-14 04:20:01,186 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 04:20:01,186 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 04:20:01,186 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 04:20:01,187 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 04:20:01,187 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': 'ipuh9/U3mcjf5QiY+VWJZ40CFHd+dyyz5gwYTwXuLZnaK62IZzff7Y1RtxVGiDirUVGu9IC4HVu0/eBT5TgOBA==', 'x-timestamp': '1747214401', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 04:20:01,458 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 04:20:01,458 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 09:20:01 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': '7fef6c86-27bc-4e63-9e88-148fdf16b4ae', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 b7c7e443af7b0e6c8efd785c7d7c0838.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P12', 'X-Amz-Cf-Id': 'C_XXAhE-a-Gx8emLm2i9B-p2Ji3Lol0w7mRG_iKNoLt_dMwjPuKe9w=='}
2025-05-14 04:20:01,458 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 04:20:01,459 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 04:20:01,459 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:20:01.459721+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_SUCCESS", "message": "Successfully retrieved and processed 1 holdings.", "severity": "INFO", "details": {"holdings_count": 1, "assets_held": ["BTC"]}}
2025-05-14 04:20:01,459 - alt_crypto_data - INFO - Attempting to fetch data for BTC-USD via yfinance...
2025-05-14 04:20:01,460 - alt_crypto_data - INFO - Fetching price history for BTC-USD from yfinance (Start: 2025-02-08, End: 2025-05-14, Interval: 1h)...
2025-05-14 04:20:01,893 - alt_crypto_data - INFO - Successfully fetched 2281 data points for BTC-USD from yfinance.
2025-05-14 04:20:01,894 - alt_crypto_data - INFO - Successfully fetched data for BTC-USD via yfinance.
2025-05-14 04:20:06,566 - crypto_bot_logger - ERROR - {"timestamp": "2025-05-14T09:20:06.566785+00:00", "source_component": "crypto_bot", "event_type": "FETCH_OR_SIGNAL_ERROR_IN_CYCLE", "message": "Error during data fetch or signal generation for BTC-USD: _log_structured_event() got an unexpected keyword argument 'symbol'", "severity": "ERROR", "details": {"symbol": "BTC-USD", "error_message": "_log_structured_event() got an unexpected keyword argument 'symbol'"}}
Traceback (most recent call last):
  File "/Users/activate/Dev/robinhood-crypto-bot/crypto_bot.py", line 633, in _get_signal
    if symbol not in self.norm_stats or not all(k in self.norm_stats[symbol] for k in ['means', 'stds']):
TypeError: _log_structured_event() got an unexpected keyword argument 'symbol'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/activate/Dev/robinhood-crypto-bot/crypto_bot.py", line 1067, in run_trading_cycle
    _log_structured_event(logging.ERROR, "FETCH_OR_SIGNAL_ERROR_IN_CYCLE",
  File "/Users/activate/Dev/robinhood-crypto-bot/crypto_bot.py", line 709, in _get_signal
    except Exception as e_feature_gen:
TypeError: _log_structured_event() got an unexpected keyword argument 'symbol'
2025-05-14 04:20:06,567 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:20:06.567533+00:00", "source_component": "crypto_bot", "event_type": "TRADE_EXECUTION_PHASE_START", "message": "Starting trade execution phase based on signals.", "severity": "INFO"}
2025-05-14 04:20:06,567 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:20:06.567685+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_COMPLETE", "message": "Trading cycle finished in 5.38 seconds.", "severity": "INFO", "details": {"cycle_duration_seconds": 5.38, "signals_generated": {"BTC-USD": "hold"}, "trades_attempted": 0}}
2025-05-14 04:20:53,805 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:20:53.804330+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_START", "message": "Starting new trading cycle.", "severity": "INFO"}
2025-05-14 04:20:53,806 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:20:53.806929+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_ATTEMPT", "message": "Attempting to fetch current holdings.", "severity": "INFO"}
2025-05-14 04:20:53,807 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 04:20:53,807 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 04:20:53,807 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 04:20:53,808 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 04:20:53,808 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': 'Inwwc9Cm1+mlP5/0Lr28FHKLKU/RxP7OiG3EGp5M8LZZqz5sCfuucSd4Tje30pG5OepeYvuq8fR54ymOWD7JBA==', 'x-timestamp': '1747214453', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 04:20:54,160 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 04:20:54,161 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 09:20:54 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': 'c61c39d5-cd5c-4cf2-94e7-c2419cb97511', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 7ebc316dbc5d3e4bd970d5c5f5f4a680.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P12', 'X-Amz-Cf-Id': 'VrNUwuEKJfx702a-vWXaYmjnpUDWq2O0PyXFeeFhWssoMc6o9GrxsQ=='}
2025-05-14 04:20:54,161 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 04:20:54,162 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 04:20:54,162 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:20:54.162262+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_SUCCESS", "message": "Successfully retrieved and processed 1 holdings.", "severity": "INFO", "details": {"holdings_count": 1, "assets_held": ["BTC"]}}
2025-05-14 04:20:54,162 - alt_crypto_data - INFO - Attempting to fetch data for BTC-USD via yfinance...
2025-05-14 04:20:54,162 - alt_crypto_data - INFO - Fetching price history for BTC-USD from yfinance (Start: 2025-02-08, End: 2025-05-14, Interval: 1h)...
2025-05-14 04:20:54,798 - alt_crypto_data - INFO - Successfully fetched 2281 data points for BTC-USD from yfinance.
2025-05-14 04:20:54,799 - alt_crypto_data - INFO - Successfully fetched data for BTC-USD via yfinance.
2025-05-14 04:21:15,372 - crypto_bot_logger - ERROR - {"timestamp": "2025-05-14T09:21:15.372539+00:00", "source_component": "crypto_bot", "event_type": "FEATURE_GENERATION_ERROR", "message": "Error during feature generation for RL agent for BTC-USD: 'RobinhoodCryptoBot' object has no attribute 'current_balance'", "severity": "ERROR", "details": {"symbol": "BTC-USD", "error_message": "'RobinhoodCryptoBot' object has no attribute 'current_balance'", "exc_info": true}}
2025-05-14 04:21:15,373 - crypto_bot_logger - WARNING - {"timestamp": "2025-05-14T09:21:15.373818+00:00", "source_component": "crypto_bot", "event_type": "FEATURE_GENERATION_FAILED", "message": "Could not generate normalized features for BTC-USD. Defaulting to 'hold'.", "severity": "WARNING", "details": {"symbol": "BTC-USD"}}
2025-05-14 04:21:15,374 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:21:15.374007+00:00", "source_component": "crypto_bot", "event_type": "TRADE_EXECUTION_PHASE_START", "message": "Starting trade execution phase based on signals.", "severity": "INFO"}
2025-05-14 04:21:15,374 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:21:15.374070+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_COMPLETE", "message": "Trading cycle finished in 21.57 seconds.", "severity": "INFO", "details": {"cycle_duration_seconds": 21.57, "signals_generated": {"BTC-USD": "hold"}, "trades_attempted": 0}}
2025-05-14 04:21:49,599 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:21:49.597727+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_START", "message": "Starting new trading cycle.", "severity": "INFO"}
2025-05-14 04:21:49,604 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:21:49.604012+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_ATTEMPT", "message": "Attempting to fetch current holdings.", "severity": "INFO"}
2025-05-14 04:21:49,604 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 04:21:49,604 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 04:21:49,605 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 04:21:49,606 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 04:21:49,606 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': 'bi7RAMLDI81ySv8Rrbtwci3p/ctbq8KXWfo1t9MAjBLJOKK29xHJ+fX4kV6krI7o3pWSOeoGHF9C9x1kfUM/Cw==', 'x-timestamp': '1747214509', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 04:21:49,887 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 04:21:49,887 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 09:21:49 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': '92739b42-87d3-4bac-a463-64197d0b0075', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 c2b6220b5406aa0012ec9caaf592be16.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P12', 'X-Amz-Cf-Id': 'ush56fpMY-t-YNbZkEf1hHTS225ppUnndIYH1kYwS6if1drzJ0ay_A=='}
2025-05-14 04:21:49,888 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 04:21:49,889 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 04:21:49,889 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:21:49.889279+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_SUCCESS", "message": "Successfully retrieved and processed 1 holdings.", "severity": "INFO", "details": {"holdings_count": 1, "assets_held": ["BTC"]}}
2025-05-14 04:21:49,889 - alt_crypto_data - INFO - Attempting to fetch data for BTC-USD via yfinance...
2025-05-14 04:21:49,890 - alt_crypto_data - INFO - Fetching price history for BTC-USD from yfinance (Start: 2025-02-08, End: 2025-05-14, Interval: 1h)...
2025-05-14 04:21:50,551 - alt_crypto_data - INFO - Successfully fetched 2281 data points for BTC-USD from yfinance.
2025-05-14 04:21:50,552 - alt_crypto_data - INFO - Successfully fetched data for BTC-USD via yfinance.
2025-05-14 04:21:53,590 - crypto_bot_logger - ERROR - {"timestamp": "2025-05-14T09:21:53.590826+00:00", "source_component": "crypto_bot", "event_type": "FETCH_OR_SIGNAL_ERROR_IN_CYCLE", "message": "Error during data fetch or signal generation for BTC-USD: _log_structured_event() got an unexpected keyword argument 'symbol'", "severity": "ERROR", "details": {"symbol": "BTC-USD", "error_message": "_log_structured_event() got an unexpected keyword argument 'symbol'"}}
Traceback (most recent call last):
  File "/Users/activate/Dev/robinhood-crypto-bot/crypto_bot.py", line 633, in _get_signal
    if symbol not in self.norm_stats or not all(k in self.norm_stats[symbol] for k in ['means', 'stds']):
TypeError: _log_structured_event() got an unexpected keyword argument 'symbol'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/activate/Dev/robinhood-crypto-bot/crypto_bot.py", line 1067, in run_trading_cycle
    _log_structured_event(logging.ERROR, "FETCH_OR_SIGNAL_ERROR_IN_CYCLE",
  File "/Users/activate/Dev/robinhood-crypto-bot/crypto_bot.py", line 709, in _get_signal
    except Exception as e_feature_gen:
TypeError: _log_structured_event() got an unexpected keyword argument 'symbol'
2025-05-14 04:21:53,591 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:21:53.591155+00:00", "source_component": "crypto_bot", "event_type": "TRADE_EXECUTION_PHASE_START", "message": "Starting trade execution phase based on signals.", "severity": "INFO"}
2025-05-14 04:21:53,591 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:21:53.591280+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_COMPLETE", "message": "Trading cycle finished in 3.99 seconds.", "severity": "INFO", "details": {"cycle_duration_seconds": 3.99, "signals_generated": {"BTC-USD": "hold"}, "trades_attempted": 0}}
2025-05-14 04:22:16,920 - root - INFO - Starting new trading cycle...
2025-05-14 04:22:16,923 - root - INFO - Fetching current holdings via broker client...
2025-05-14 04:22:16,924 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 04:22:16,924 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 04:22:16,925 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 04:22:16,925 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 04:22:16,925 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': 'cmDrQGHU8WRHZ5u+8QCHnLSM2weSTXQcggt4iI0sE+m4QJhwjvDnuYr20UF5oZHvwO8pyHsej3XcRfyjf9qrBA==', 'x-timestamp': '1747214536', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 04:22:17,193 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 04:22:17,193 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 09:22:17 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': 'c0401204-58f9-4f4a-8a05-8df25de70fc1', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 502ed275ee0309555dba7f645a26bd34.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P12', 'X-Amz-Cf-Id': 'O3thj3yobFad7uM5rLz452kfXa6QE4pHUXLvPZYAVSMfLEOJ3j3Isg=='}
2025-05-14 04:22:17,193 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 04:22:17,194 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 04:22:17,194 - root - INFO - Successfully retrieved 1 holdings: ['BTC']
2025-05-14 04:22:17,194 - alt_crypto_data - INFO - Attempting to fetch data for BTC-USD via yfinance...
2025-05-14 04:22:17,194 - alt_crypto_data - INFO - Fetching price history for BTC-USD from yfinance (Start: 2025-02-08, End: 2025-05-14, Interval: 1h)...
2025-05-14 04:22:17,786 - alt_crypto_data - INFO - Successfully fetched 2281 data points for BTC-USD from yfinance.
2025-05-14 04:22:17,787 - alt_crypto_data - INFO - Successfully fetched data for BTC-USD via yfinance.
2025-05-14 04:22:23,503 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/accounts/
2025-05-14 04:22:23,504 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 04:22:23,504 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 04:22:23,504 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/accounts/
2025-05-14 04:22:23,504 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': '7PQhXVKScjTF5ACanrQqBgqT3x4YrOZNP0mkK5xbpvKDReSB9ingDtKQrnkRVQ2t+/+keB5EWFQXGg7+LFnZCg==', 'x-timestamp': '1747214543', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 04:22:23,902 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 04:22:23,902 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '106', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 09:22:23 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': '0f46224e-30cd-41e0-801d-aaed698092b7', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 fbc291b5e08eb032127391564e49fac6.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P12', 'X-Amz-Cf-Id': '0l5oG3WfZDmn33HJVrkQVrnR2iNSOXT7ZuyNHw1JV2hReYjxdXVl8g=='}
2025-05-14 04:22:23,902 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"account_number":"311081964512","status":"active","buying_power":"16.5500","buying_power_currency":"USD"}...
2025-05-14 04:22:23,903 - brokers.robinhood_broker - DEBUG - Raw response from _make_api_request in get_account_info: {'account_number': '311081964512', 'status': 'active', 'buying_power': '16.5500', 'buying_power_currency': 'USD'}
2025-05-14 04:22:23,903 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 04:22:23,903 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 04:22:23,903 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 04:22:23,903 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 04:22:23,903 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': 'uP+qD//9QcYi7K+GrWE8o5tG2lWPl68DCH/XIa9JIBvhJmSYlfN7fpi/TE5eGsvzVlhxjRjBv01g8Ic0OhJiAA==', 'x-timestamp': '1747214543', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 04:22:24,112 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 04:22:24,112 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 09:22:24 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': '1f6b2c06-849b-4f79-bcd9-b7ec6dd2cb7b', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 b29d0ca70e4af4f7067923ad4a7ff550.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P12', 'X-Amz-Cf-Id': '-aQH8Qlm18V8fakgzDJpgql92gk3BTTtiGgmeVF2h1wUOs7xYseguw=='}
2025-05-14 04:22:24,113 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 04:22:24,113 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 04:22:24,115 - root - INFO - [BTC-USD] RL agent signal: hold (action_int: 0)
2025-05-14 04:22:24,116 - root - INFO - Trading cycle finished. Signals: {'BTC-USD': 'hold'}
2025-05-14 04:24:21,834 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:24:21.832407+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_START", "message": "Starting new trading cycle.", "severity": "INFO"}
2025-05-14 04:24:21,837 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:24:21.837424+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_ATTEMPT", "message": "Attempting to fetch current holdings.", "severity": "INFO"}
2025-05-14 04:24:21,837 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 04:24:21,838 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 04:24:21,839 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 04:24:21,839 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 04:24:21,839 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': 'Ap80CLezniRwKhbSEPRZfJAuGQ/A76ANolk3zYWikU/4DWYbpZRjhpCf0Xho4dNXqkHT+wr9XXaRaA62dC+eBQ==', 'x-timestamp': '1747214661', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 04:24:22,169 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 04:24:22,169 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 09:24:22 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': '83598cee-b5ea-4ecd-9ace-c46e1932beba', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 313a4ea394487c18fc7b1192a4bd4804.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P12', 'X-Amz-Cf-Id': '6y5bfVWnYShmi_ZLLrM3e8fV0acFe52lvtMDOI_cEd7gPn34J9DOrw=='}
2025-05-14 04:24:22,169 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 04:24:22,170 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 04:24:22,170 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:24:22.170835+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_SUCCESS", "message": "Successfully retrieved and processed 1 holdings.", "severity": "INFO", "details": {"holdings_count": 1, "assets_held": ["BTC"]}}
2025-05-14 04:24:22,171 - alt_crypto_data - INFO - Attempting to fetch data for BTC-USD via yfinance...
2025-05-14 04:24:22,171 - alt_crypto_data - INFO - Fetching price history for BTC-USD from yfinance (Start: 2025-02-08, End: 2025-05-14, Interval: 1h)...
2025-05-14 04:24:22,784 - alt_crypto_data - INFO - Successfully fetched 2281 data points for BTC-USD from yfinance.
2025-05-14 04:24:22,784 - alt_crypto_data - INFO - Successfully fetched data for BTC-USD via yfinance.
2025-05-14 04:24:29,310 - crypto_bot_logger - ERROR - {"timestamp": "2025-05-14T09:24:29.310896+00:00", "source_component": "crypto_bot", "event_type": "NORMALIZATION_STATS_MISSING", "message": "Normalization stats (mean/std) not found for BTC-USD. Defaulting to 'hold'.", "severity": "ERROR", "details": {"symbol": "BTC-USD", "available_stats_keys": ["means", "stds"]}}
2025-05-14 04:24:29,312 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:24:29.312010+00:00", "source_component": "crypto_bot", "event_type": "TRADE_EXECUTION_PHASE_START", "message": "Starting trade execution phase based on signals.", "severity": "INFO"}
2025-05-14 04:24:29,312 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:24:29.312092+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_COMPLETE", "message": "Trading cycle finished in 7.47 seconds.", "severity": "INFO", "details": {"cycle_duration_seconds": 7.47, "signals_generated": {"BTC-USD": "hold"}, "trades_attempted": 0}}
2025-05-14 04:25:07,542 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:25:07.540928+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_START", "message": "Starting new trading cycle.", "severity": "INFO"}
2025-05-14 04:25:07,547 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:25:07.547646+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_ATTEMPT", "message": "Attempting to fetch current holdings.", "severity": "INFO"}
2025-05-14 04:25:07,548 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 04:25:07,548 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 04:25:07,549 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 04:25:07,550 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 04:25:07,551 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': 'QvxNrFpjs9k0+H3lfx294cmWywMSxo0HWW6tZm4+n09Kbb8M44L0QoItAnZ8ZamQKlrjY23JdT3GjE8BfujiCw==', 'x-timestamp': '1747214707', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 04:25:07,799 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 04:25:07,799 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 09:25:07 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': 'c53e4ed8-2be4-4562-b7fe-b2d556e4f4b8', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 630029f02a626a1635ba05045c1a1e98.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P12', 'X-Amz-Cf-Id': '-BQMRQ9A6oURWjxZH6C2D1yfX4AI-NKYo1SXqsC-OnakyUBzw7Ycbg=='}
2025-05-14 04:25:07,799 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 04:25:07,803 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 04:25:07,804 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:25:07.804578+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_SUCCESS", "message": "Successfully retrieved and processed 1 holdings.", "severity": "INFO", "details": {"holdings_count": 1, "assets_held": ["BTC"]}}
2025-05-14 04:25:07,804 - alt_crypto_data - INFO - Attempting to fetch data for BTC-USD via yfinance...
2025-05-14 04:25:07,805 - alt_crypto_data - INFO - Fetching price history for BTC-USD from yfinance (Start: 2025-02-08, End: 2025-05-14, Interval: 1h)...
2025-05-14 04:25:08,640 - alt_crypto_data - INFO - Successfully fetched 2281 data points for BTC-USD from yfinance.
2025-05-14 04:25:08,640 - alt_crypto_data - INFO - Successfully fetched data for BTC-USD via yfinance.
2025-05-14 04:25:11,174 - crypto_bot_logger - ERROR - {"timestamp": "2025-05-14T09:25:11.174537+00:00", "source_component": "crypto_bot", "event_type": "FETCH_OR_SIGNAL_ERROR_IN_CYCLE", "message": "Error during data fetch or signal generation for BTC-USD: _log_structured_event() got an unexpected keyword argument 'symbol'", "severity": "ERROR", "details": {"symbol": "BTC-USD", "error_message": "_log_structured_event() got an unexpected keyword argument 'symbol'"}}
Traceback (most recent call last):
  File "/Users/activate/Dev/robinhood-crypto-bot/crypto_bot.py", line 633, in _get_signal
    if symbol not in self.norm_stats or not all(k in self.norm_stats[symbol] for k in ['means', 'stds']):
TypeError: _log_structured_event() got an unexpected keyword argument 'symbol'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/activate/Dev/robinhood-crypto-bot/crypto_bot.py", line 1067, in run_trading_cycle
    _log_structured_event(logging.ERROR, "FETCH_OR_SIGNAL_ERROR_IN_CYCLE",
  File "/Users/activate/Dev/robinhood-crypto-bot/crypto_bot.py", line 709, in _get_signal
    except Exception as e_feature_gen:
TypeError: _log_structured_event() got an unexpected keyword argument 'symbol'
2025-05-14 04:25:11,174 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:25:11.174866+00:00", "source_component": "crypto_bot", "event_type": "TRADE_EXECUTION_PHASE_START", "message": "Starting trade execution phase based on signals.", "severity": "INFO"}
2025-05-14 04:25:11,174 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:25:11.174955+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_COMPLETE", "message": "Trading cycle finished in 3.63 seconds.", "severity": "INFO", "details": {"cycle_duration_seconds": 3.63, "signals_generated": {"BTC-USD": "hold"}, "trades_attempted": 0}}
2025-05-14 04:26:16,254 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:26:16.251785+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_START", "message": "Starting new trading cycle.", "severity": "INFO"}
2025-05-14 04:26:16,257 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:26:16.257471+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_ATTEMPT", "message": "Attempting to fetch current holdings.", "severity": "INFO"}
2025-05-14 04:26:16,257 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 04:26:16,258 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 04:26:16,258 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 04:26:16,258 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 04:26:16,259 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': 'i5PplXwpjeSrUXTGS2lFH4NmXm3DjmJRMOqNvEIOvOqLOsvNikrBae4xy7a0wTLDzDca8SwOqYf9XEGpUUTFAA==', 'x-timestamp': '1747214776', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 04:26:16,549 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 04:26:16,549 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 09:26:16 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': 'b5efe68b-969e-43a8-bf0b-e33c18a26ff3', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 313a4ea394487c18fc7b1192a4bd4804.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P12', 'X-Amz-Cf-Id': 'v-krdeue8DmCrdsnsEB_iHcoYvdteQVjDEr0nEgprW4Jl_LT60UumQ=='}
2025-05-14 04:26:16,549 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 04:26:16,550 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 04:26:16,550 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:26:16.550702+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_SUCCESS", "message": "Successfully retrieved and processed 1 holdings.", "severity": "INFO", "details": {"holdings_count": 1, "assets_held": ["BTC"]}}
2025-05-14 04:26:16,550 - alt_crypto_data - INFO - Attempting to fetch data for BTC-USD via yfinance...
2025-05-14 04:26:16,551 - alt_crypto_data - INFO - Fetching price history for BTC-USD from yfinance (Start: 2025-02-08, End: 2025-05-14, Interval: 1h)...
2025-05-14 04:26:17,441 - alt_crypto_data - INFO - Successfully fetched 2281 data points for BTC-USD from yfinance.
2025-05-14 04:26:17,442 - alt_crypto_data - INFO - Successfully fetched data for BTC-USD via yfinance.
2025-05-14 04:26:28,814 - crypto_bot_logger - ERROR - {"timestamp": "2025-05-14T09:26:28.813917+00:00", "source_component": "crypto_bot", "event_type": "FEATURE_GENERATION_ERROR", "message": "Error during feature generation for RL agent for BTC-USD: 'RobinhoodCryptoBot' object has no attribute 'current_balance'", "severity": "ERROR", "details": {"symbol": "BTC-USD", "error_message": "'RobinhoodCryptoBot' object has no attribute 'current_balance'", "exc_info": true}}
2025-05-14 04:26:28,815 - crypto_bot_logger - WARNING - {"timestamp": "2025-05-14T09:26:28.815290+00:00", "source_component": "crypto_bot", "event_type": "FEATURE_GENERATION_FAILED", "message": "Could not generate normalized features for BTC-USD. Defaulting to 'hold'.", "severity": "WARNING", "details": {"symbol": "BTC-USD"}}
2025-05-14 04:26:28,815 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:26:28.815501+00:00", "source_component": "crypto_bot", "event_type": "TRADE_EXECUTION_PHASE_START", "message": "Starting trade execution phase based on signals.", "severity": "INFO"}
2025-05-14 04:26:28,815 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:26:28.815576+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_COMPLETE", "message": "Trading cycle finished in 12.56 seconds.", "severity": "INFO", "details": {"cycle_duration_seconds": 12.56, "signals_generated": {"BTC-USD": "hold"}, "trades_attempted": 0}}
2025-05-14 04:26:54,461 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:26:54.459012+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_START", "message": "Starting new trading cycle.", "severity": "INFO"}
2025-05-14 04:26:54,464 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:26:54.464868+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_ATTEMPT", "message": "Attempting to fetch current holdings.", "severity": "INFO"}
2025-05-14 04:26:54,465 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 04:26:54,465 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 04:26:54,466 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 04:26:54,466 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 04:26:54,466 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': 'vyco9zvgJxd18GHKimXi1fWcbJzg4dgEthYXJmLe8yWtFbZEbSf5kLKzxC8v/45fqMbgE3Vx1fkmrJGG1D7VBg==', 'x-timestamp': '1747214814', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 04:26:54,725 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 04:26:54,725 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 09:26:54 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': '4639d17e-fa10-4923-aa74-68f3b50395ae', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 98508232f4fc1b95b1f399d6d66e45c6.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P12', 'X-Amz-Cf-Id': 'aee9OlnKr3xVEKfJjSVAw77l8_pHNs4SesAam5zeuMBEUlf07xSUFA=='}
2025-05-14 04:26:54,725 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 04:26:54,726 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 04:26:54,726 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:26:54.726650+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_SUCCESS", "message": "Successfully retrieved and processed 1 holdings.", "severity": "INFO", "details": {"holdings_count": 1, "assets_held": ["BTC"]}}
2025-05-14 04:26:54,726 - alt_crypto_data - INFO - Attempting to fetch data for BTC-USD via yfinance...
2025-05-14 04:26:54,727 - alt_crypto_data - INFO - Fetching price history for BTC-USD from yfinance (Start: 2025-02-08, End: 2025-05-14, Interval: 1h)...
2025-05-14 04:26:55,128 - alt_crypto_data - INFO - Successfully fetched 2281 data points for BTC-USD from yfinance.
2025-05-14 04:26:55,129 - alt_crypto_data - INFO - Successfully fetched data for BTC-USD via yfinance.
2025-05-14 04:26:58,115 - crypto_bot_logger - ERROR - {"timestamp": "2025-05-14T09:26:58.114975+00:00", "source_component": "crypto_bot", "event_type": "FETCH_OR_SIGNAL_ERROR_IN_CYCLE", "message": "Error during data fetch or signal generation for BTC-USD: _log_structured_event() got an unexpected keyword argument 'symbol'", "severity": "ERROR", "details": {"symbol": "BTC-USD", "error_message": "_log_structured_event() got an unexpected keyword argument 'symbol'"}}
Traceback (most recent call last):
  File "/Users/activate/Dev/robinhood-crypto-bot/crypto_bot.py", line 633, in _get_signal
    if symbol not in self.norm_stats or not all(k in self.norm_stats[symbol] for k in ['means', 'stds']):
TypeError: _log_structured_event() got an unexpected keyword argument 'symbol'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/activate/Dev/robinhood-crypto-bot/crypto_bot.py", line 1067, in run_trading_cycle
    _log_structured_event(logging.ERROR, "FETCH_OR_SIGNAL_ERROR_IN_CYCLE",
  File "/Users/activate/Dev/robinhood-crypto-bot/crypto_bot.py", line 709, in _get_signal
    except Exception as e_feature_gen:
TypeError: _log_structured_event() got an unexpected keyword argument 'symbol'
2025-05-14 04:26:58,117 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:26:58.117613+00:00", "source_component": "crypto_bot", "event_type": "TRADE_EXECUTION_PHASE_START", "message": "Starting trade execution phase based on signals.", "severity": "INFO"}
2025-05-14 04:26:58,117 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:26:58.117703+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_COMPLETE", "message": "Trading cycle finished in 3.65 seconds.", "severity": "INFO", "details": {"cycle_duration_seconds": 3.65, "signals_generated": {"BTC-USD": "hold"}, "trades_attempted": 0}}
2025-05-14 04:27:24,986 - root - INFO - Starting new trading cycle...
2025-05-14 04:27:24,990 - root - INFO - Fetching current holdings via broker client...
2025-05-14 04:27:24,990 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 04:27:24,990 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 04:27:24,991 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 04:27:24,992 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 04:27:24,992 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': 'A5hXhnpaOEPYjdudWCG4Zn2Rj2mIQNsg5XN04KxxmKrsN/9XX5CJIAbTF78snU6j6iysJDHWE9e6GBPyhgh1Cw==', 'x-timestamp': '1747214844', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 04:27:25,332 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 04:27:25,332 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 09:27:25 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': '20f4027d-176f-4343-b914-9ba1414c263d', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 08c82ab3383dabe3fa524280760ed8d0.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P12', 'X-Amz-Cf-Id': '4U-288f9d08OQ-qSGrOx7Nt0SCMKOhIyy9bvozMLUXu80uUWkWjYrw=='}
2025-05-14 04:27:25,332 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 04:27:25,333 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 04:27:25,333 - root - INFO - Successfully retrieved 1 holdings: ['BTC']
2025-05-14 04:27:25,333 - alt_crypto_data - INFO - Attempting to fetch data for BTC-USD via yfinance...
2025-05-14 04:27:25,333 - alt_crypto_data - INFO - Fetching price history for BTC-USD from yfinance (Start: 2025-02-08, End: 2025-05-14, Interval: 1h)...
2025-05-14 04:27:25,692 - alt_crypto_data - INFO - Successfully fetched 2281 data points for BTC-USD from yfinance.
2025-05-14 04:27:25,692 - alt_crypto_data - INFO - Successfully fetched data for BTC-USD via yfinance.
2025-05-14 04:27:38,579 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/accounts/
2025-05-14 04:27:38,580 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 04:27:38,580 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 04:27:38,580 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/accounts/
2025-05-14 04:27:38,581 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': 'tuWTa52ZmOVRsUGnw7DHMG09jBJUz87nJqS0D4UwEVKeaVW9wJD51ywjyafzbOFRYlnrojgozIyTCHiMO0wqBA==', 'x-timestamp': '1747214858', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 04:27:39,059 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 04:27:39,059 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '106', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 09:27:38 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': 'e83cae9a-7785-445e-b640-a763ec2eeb98', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 bacbe7a52f8acdb4274f5d045952e82e.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P12', 'X-Amz-Cf-Id': '8qw4tVk65DGtv5jF7Tu0Nmy0KHda_YAfxJaqv9NcVv5mCENyHW8Z2A=='}
2025-05-14 04:27:39,059 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"account_number":"311081964512","status":"active","buying_power":"16.5500","buying_power_currency":"USD"}...
2025-05-14 04:27:39,060 - brokers.robinhood_broker - DEBUG - Raw response from _make_api_request in get_account_info: {'account_number': '311081964512', 'status': 'active', 'buying_power': '16.5500', 'buying_power_currency': 'USD'}
2025-05-14 04:27:39,060 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 04:27:39,060 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 04:27:39,060 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 04:27:39,060 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 04:27:39,060 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': '8P9d/YfTPg9wKc8TmzSq4m8Wk4HNLuwuWylBpJXx0d0F3SyhoPZu2jOY4BEalviaKk6e+IdP3deJz7xEWlFwCw==', 'x-timestamp': '1747214859', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 04:27:39,250 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 04:27:39,250 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 09:27:39 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': '39703493-7116-46ce-8b72-19140729563c', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 dd44529843c992ef646db97930e9e9fe.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P12', 'X-Amz-Cf-Id': 'shIXqsuyWXr0v7MTSKzu73eyB_qd9FOD3dTVUNbMrUxVU4CNG7rTsQ=='}
2025-05-14 04:27:39,250 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 04:27:39,251 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 04:27:39,255 - root - INFO - [BTC-USD] RL agent signal: hold (action_int: 0)
2025-05-14 04:27:39,257 - root - INFO - Trading cycle finished. Signals: {'BTC-USD': 'hold'}
2025-05-14 04:29:30,268 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:29:30.266857+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_START", "message": "Starting new trading cycle.", "severity": "INFO"}
2025-05-14 04:29:30,269 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:29:30.269929+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_ATTEMPT", "message": "Attempting to fetch current holdings.", "severity": "INFO"}
2025-05-14 04:29:30,270 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 04:29:30,270 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 04:29:30,271 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 04:29:30,271 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 04:29:30,271 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': 'ZGf32V33Qo63gIr8NwIiy+rR9cDnk3rDkalgXOTDZ2RVurlWxDl0QJpBniCgu9tZncHCmuLQfG7V2gjVM1CvBg==', 'x-timestamp': '1747214970', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 04:29:30,617 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 04:29:30,618 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 09:29:30 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': '26215bef-8b7a-4f14-b7e1-55fa65baa7cd', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 10c9d0c11c5ba300f67eb0e68bc8a952.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P12', 'X-Amz-Cf-Id': 'qu85h0Fn5XHE0PHklj0JGiiEdEFzea7FR21kzjrvlX11RO7ZbXshkg=='}
2025-05-14 04:29:30,618 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 04:29:30,619 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 04:29:30,619 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:29:30.619395+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_SUCCESS", "message": "Successfully retrieved and processed 1 holdings.", "severity": "INFO", "details": {"holdings_count": 1, "assets_held": ["BTC"]}}
2025-05-14 04:29:30,619 - alt_crypto_data - INFO - Attempting to fetch data for BTC-USD via yfinance...
2025-05-14 04:29:30,620 - alt_crypto_data - INFO - Fetching price history for BTC-USD from yfinance (Start: 2025-02-08, End: 2025-05-14, Interval: 1h)...
2025-05-14 04:29:31,346 - alt_crypto_data - INFO - Successfully fetched 2281 data points for BTC-USD from yfinance.
2025-05-14 04:29:31,346 - alt_crypto_data - INFO - Successfully fetched data for BTC-USD via yfinance.
2025-05-14 04:29:45,420 - crypto_bot_logger - ERROR - {"timestamp": "2025-05-14T09:29:45.420387+00:00", "source_component": "crypto_bot", "event_type": "NORMALIZATION_STATS_MISSING", "message": "Normalization stats (mean/std) not found for BTC-USD. Defaulting to 'hold'.", "severity": "ERROR", "details": {"symbol": "BTC-USD", "available_stats_keys": ["means", "stds"]}}
2025-05-14 04:29:45,421 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:29:45.421899+00:00", "source_component": "crypto_bot", "event_type": "TRADE_EXECUTION_PHASE_START", "message": "Starting trade execution phase based on signals.", "severity": "INFO"}
2025-05-14 04:29:45,422 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:29:45.422002+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_COMPLETE", "message": "Trading cycle finished in 15.15 seconds.", "severity": "INFO", "details": {"cycle_duration_seconds": 15.15, "signals_generated": {"BTC-USD": "hold"}, "trades_attempted": 0}}
2025-05-14 04:30:12,019 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:30:12.017139+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_START", "message": "Starting new trading cycle.", "severity": "INFO"}
2025-05-14 04:30:12,020 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:30:12.020866+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_ATTEMPT", "message": "Attempting to fetch current holdings.", "severity": "INFO"}
2025-05-14 04:30:12,021 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 04:30:12,021 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 04:30:12,022 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 04:30:12,022 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 04:30:12,022 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': '4ATEX1i16d8CEU2XZOO/2HGEXH+/epVEKVGrlgg/4PE0K2ni45xWoWCYVzXCHjiAD5MiAJwxgrKbgn6Ay1IJAg==', 'x-timestamp': '1747215012', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 04:30:12,289 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 04:30:12,289 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 09:30:12 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': 'd70aa02c-6acf-4b9c-8ab9-607bff2fad1d', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 05b57dd43f685617583775902086122c.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P12', 'X-Amz-Cf-Id': 'CGGmQeCBK2DvBxWmHIZuH4HyQPQyqvpmxIOOhtrIhd1xm4RtswzDCg=='}
2025-05-14 04:30:12,289 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 04:30:12,290 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 04:30:12,290 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:30:12.290481+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_SUCCESS", "message": "Successfully retrieved and processed 1 holdings.", "severity": "INFO", "details": {"holdings_count": 1, "assets_held": ["BTC"]}}
2025-05-14 04:30:12,290 - alt_crypto_data - INFO - Attempting to fetch data for BTC-USD via yfinance...
2025-05-14 04:30:12,290 - alt_crypto_data - INFO - Fetching price history for BTC-USD from yfinance (Start: 2025-02-08, End: 2025-05-14, Interval: 1h)...
2025-05-14 04:30:12,762 - alt_crypto_data - INFO - Successfully fetched 2281 data points for BTC-USD from yfinance.
2025-05-14 04:30:12,762 - alt_crypto_data - INFO - Successfully fetched data for BTC-USD via yfinance.
2025-05-14 04:30:23,561 - crypto_bot_logger - ERROR - {"timestamp": "2025-05-14T09:30:23.561025+00:00", "source_component": "crypto_bot", "event_type": "FETCH_OR_SIGNAL_ERROR_IN_CYCLE", "message": "Error during data fetch or signal generation for BTC-USD: _log_structured_event() got an unexpected keyword argument 'symbol'", "severity": "ERROR", "details": {"symbol": "BTC-USD", "error_message": "_log_structured_event() got an unexpected keyword argument 'symbol'"}}
Traceback (most recent call last):
  File "/Users/activate/Dev/robinhood-crypto-bot/crypto_bot.py", line 633, in _get_signal
    if symbol not in self.norm_stats or not all(k in self.norm_stats[symbol] for k in ['means', 'stds']):
TypeError: _log_structured_event() got an unexpected keyword argument 'symbol'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/activate/Dev/robinhood-crypto-bot/crypto_bot.py", line 1067, in run_trading_cycle
    _log_structured_event(logging.ERROR, "FETCH_OR_SIGNAL_ERROR_IN_CYCLE",
  File "/Users/activate/Dev/robinhood-crypto-bot/crypto_bot.py", line 709, in _get_signal
    except Exception as e_feature_gen:
TypeError: _log_structured_event() got an unexpected keyword argument 'symbol'
2025-05-14 04:30:23,561 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:30:23.561639+00:00", "source_component": "crypto_bot", "event_type": "TRADE_EXECUTION_PHASE_START", "message": "Starting trade execution phase based on signals.", "severity": "INFO"}
2025-05-14 04:30:23,561 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:30:23.561748+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_COMPLETE", "message": "Trading cycle finished in 11.54 seconds.", "severity": "INFO", "details": {"cycle_duration_seconds": 11.54, "signals_generated": {"BTC-USD": "hold"}, "trades_attempted": 0}}
2025-05-14 04:31:29,713 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:31:29.712631+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_START", "message": "Starting new trading cycle.", "severity": "INFO"}
2025-05-14 04:31:29,716 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:31:29.716844+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_ATTEMPT", "message": "Attempting to fetch current holdings.", "severity": "INFO"}
2025-05-14 04:31:29,717 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 04:31:29,717 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 04:31:29,718 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 04:31:29,718 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 04:31:29,718 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': 'MatjFjMoTSyKGu+QNtcOWEXRu10+s/VymNIryoJz6ZPoYxWz+t90uNK4koSkNzsFctjf+QJZSLiuUZf4FdmWBA==', 'x-timestamp': '1747215089', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 04:31:30,084 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 04:31:30,084 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 09:31:30 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': '26553661-1c22-4fee-b615-e686cf998ff5', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 08c82ab3383dabe3fa524280760ed8d0.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P12', 'X-Amz-Cf-Id': '9nmXOvjUmR2bBXGcH3iuKfbq4MEfCV7V_ecBhufg58BvwXwvCZsZdA=='}
2025-05-14 04:31:30,084 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 04:31:30,085 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 04:31:30,085 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:31:30.085442+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_SUCCESS", "message": "Successfully retrieved and processed 1 holdings.", "severity": "INFO", "details": {"holdings_count": 1, "assets_held": ["BTC"]}}
2025-05-14 04:31:30,085 - alt_crypto_data - INFO - Attempting to fetch data for BTC-USD via yfinance...
2025-05-14 04:31:30,085 - alt_crypto_data - INFO - Fetching price history for BTC-USD from yfinance (Start: 2025-02-08, End: 2025-05-14, Interval: 1h)...
2025-05-14 04:31:30,577 - alt_crypto_data - INFO - Successfully fetched 2281 data points for BTC-USD from yfinance.
2025-05-14 04:31:30,577 - alt_crypto_data - INFO - Successfully fetched data for BTC-USD via yfinance.
2025-05-14 04:31:39,147 - crypto_bot_logger - ERROR - {"timestamp": "2025-05-14T09:31:39.147430+00:00", "source_component": "crypto_bot", "event_type": "FEATURE_GENERATION_ERROR", "message": "Error during feature generation for RL agent for BTC-USD: 'RobinhoodCryptoBot' object has no attribute 'current_balance'", "severity": "ERROR", "details": {"symbol": "BTC-USD", "error_message": "'RobinhoodCryptoBot' object has no attribute 'current_balance'", "exc_info": true}}
2025-05-14 04:31:39,147 - crypto_bot_logger - WARNING - {"timestamp": "2025-05-14T09:31:39.147611+00:00", "source_component": "crypto_bot", "event_type": "FEATURE_GENERATION_FAILED", "message": "Could not generate normalized features for BTC-USD. Defaulting to 'hold'.", "severity": "WARNING", "details": {"symbol": "BTC-USD"}}
2025-05-14 04:31:39,147 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:31:39.147778+00:00", "source_component": "crypto_bot", "event_type": "TRADE_EXECUTION_PHASE_START", "message": "Starting trade execution phase based on signals.", "severity": "INFO"}
2025-05-14 04:31:39,147 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:31:39.147846+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_COMPLETE", "message": "Trading cycle finished in 9.43 seconds.", "severity": "INFO", "details": {"cycle_duration_seconds": 9.43, "signals_generated": {"BTC-USD": "hold"}, "trades_attempted": 0}}
2025-05-14 04:31:59,015 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:31:59.014813+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_START", "message": "Starting new trading cycle.", "severity": "INFO"}
2025-05-14 04:31:59,016 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:31:59.016772+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_ATTEMPT", "message": "Attempting to fetch current holdings.", "severity": "INFO"}
2025-05-14 04:31:59,017 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 04:31:59,017 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 04:31:59,017 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 04:31:59,017 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 04:31:59,018 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': '2p3BogqRRGqZR6HuQ+wKqQXcLcMJ8LeQ5w+tij6Ru3s283LS1nNBbWSbJ+CjR8sU5Pq2PCsHl4DSjWSm8jZ2BQ==', 'x-timestamp': '1747215119', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 04:31:59,227 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 04:31:59,227 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 09:31:59 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': 'c9e07af8-ddb2-45ba-8c24-e30defc44a02', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 b79f9040ea4bc6bf2a49fda4603142c2.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P12', 'X-Amz-Cf-Id': '7s_auknqi22W--880Kp1kyT5Ghqbpeo2elkXIuGsnCL1vPIkNx1xmA=='}
2025-05-14 04:31:59,227 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 04:31:59,228 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 04:31:59,228 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:31:59.228295+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_SUCCESS", "message": "Successfully retrieved and processed 1 holdings.", "severity": "INFO", "details": {"holdings_count": 1, "assets_held": ["BTC"]}}
2025-05-14 04:31:59,228 - alt_crypto_data - INFO - Attempting to fetch data for BTC-USD via yfinance...
2025-05-14 04:31:59,228 - alt_crypto_data - INFO - Fetching price history for BTC-USD from yfinance (Start: 2025-02-08, End: 2025-05-14, Interval: 1h)...
2025-05-14 04:31:59,653 - alt_crypto_data - INFO - Successfully fetched 2281 data points for BTC-USD from yfinance.
2025-05-14 04:31:59,654 - alt_crypto_data - INFO - Successfully fetched data for BTC-USD via yfinance.
2025-05-14 04:32:07,101 - crypto_bot_logger - ERROR - {"timestamp": "2025-05-14T09:32:07.101006+00:00", "source_component": "crypto_bot", "event_type": "FETCH_OR_SIGNAL_ERROR_IN_CYCLE", "message": "Error during data fetch or signal generation for BTC-USD: _log_structured_event() got an unexpected keyword argument 'symbol'", "severity": "ERROR", "details": {"symbol": "BTC-USD", "error_message": "_log_structured_event() got an unexpected keyword argument 'symbol'"}}
Traceback (most recent call last):
  File "/Users/activate/Dev/robinhood-crypto-bot/crypto_bot.py", line 633, in _get_signal
    if symbol not in self.norm_stats or not all(k in self.norm_stats[symbol] for k in ['means', 'stds']):
TypeError: _log_structured_event() got an unexpected keyword argument 'symbol'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/activate/Dev/robinhood-crypto-bot/crypto_bot.py", line 1067, in run_trading_cycle
    _log_structured_event(logging.ERROR, "FETCH_OR_SIGNAL_ERROR_IN_CYCLE",
  File "/Users/activate/Dev/robinhood-crypto-bot/crypto_bot.py", line 709, in _get_signal
    except Exception as e_feature_gen:
TypeError: _log_structured_event() got an unexpected keyword argument 'symbol'
2025-05-14 04:32:07,102 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:32:07.102449+00:00", "source_component": "crypto_bot", "event_type": "TRADE_EXECUTION_PHASE_START", "message": "Starting trade execution phase based on signals.", "severity": "INFO"}
2025-05-14 04:32:07,102 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:32:07.102693+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_COMPLETE", "message": "Trading cycle finished in 8.09 seconds.", "severity": "INFO", "details": {"cycle_duration_seconds": 8.09, "signals_generated": {"BTC-USD": "hold"}, "trades_attempted": 0}}
2025-05-14 04:32:40,139 - root - INFO - Starting new trading cycle...
2025-05-14 04:32:40,142 - root - INFO - Fetching current holdings via broker client...
2025-05-14 04:32:40,142 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 04:32:40,142 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 04:32:40,143 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 04:32:40,143 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 04:32:40,143 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': 'efGCyVt7yIVuFLBDkUdw/HhurS16HxYjHFotJFhlQUVlYuQom6jlHvMHw39SyByiAFAtUYEtnHrKOrgZpeVdCQ==', 'x-timestamp': '1747215160', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 04:32:40,387 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 04:32:40,387 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 09:32:40 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': '8b179c97-137d-4102-a51b-6af5cafe410e', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 5aba532ceec6e25d9624140d41805428.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P12', 'X-Amz-Cf-Id': 'T81fiQ7gdSKQUG7XZczAlwwGvRLeJ6un8JWCQWAJrCg-LbzQvrq7Eg=='}
2025-05-14 04:32:40,387 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 04:32:40,388 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 04:32:40,388 - root - INFO - Successfully retrieved 1 holdings: ['BTC']
2025-05-14 04:32:40,389 - alt_crypto_data - INFO - Attempting to fetch data for BTC-USD via yfinance...
2025-05-14 04:32:40,389 - alt_crypto_data - INFO - Fetching price history for BTC-USD from yfinance (Start: 2025-02-08, End: 2025-05-14, Interval: 1h)...
2025-05-14 04:32:40,767 - alt_crypto_data - INFO - Successfully fetched 2281 data points for BTC-USD from yfinance.
2025-05-14 04:32:40,767 - alt_crypto_data - INFO - Successfully fetched data for BTC-USD via yfinance.
2025-05-14 04:32:53,838 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/accounts/
2025-05-14 04:32:53,839 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 04:32:53,839 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 04:32:53,839 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/accounts/
2025-05-14 04:32:53,839 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': 'Jb+RK6FQBndnsQ9KuRWI1F7laqJr77iD8efVTD0B73e35JFCD6K9GGtaMT/gzmpbBGlaTYCm8nwLNKv9ske+BQ==', 'x-timestamp': '1747215173', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 04:32:54,289 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 04:32:54,289 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '106', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 09:32:54 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': '788c3fda-e9b8-46ae-99d5-b359fc1d7e4e', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 c2b6220b5406aa0012ec9caaf592be16.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P12', 'X-Amz-Cf-Id': 'LywmRn23OfYdllhHpVrv1MpdrktNa4enwVF-xEHsNAXrTcVWZRZWLw=='}
2025-05-14 04:32:54,289 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"account_number":"311081964512","status":"active","buying_power":"16.5500","buying_power_currency":"USD"}...
2025-05-14 04:32:54,290 - brokers.robinhood_broker - DEBUG - Raw response from _make_api_request in get_account_info: {'account_number': '311081964512', 'status': 'active', 'buying_power': '16.5500', 'buying_power_currency': 'USD'}
2025-05-14 04:32:54,290 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 04:32:54,290 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 04:32:54,290 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 04:32:54,290 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 04:32:54,290 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': 'vFFcJDNv8OK6rJr03YhLay/6Nt7Ss/ubQuoqrkYWn9/ScoHKlNas1gHp3Un+uLNmSQVcB8TBk6oTFEicfwNnAQ==', 'x-timestamp': '1747215174', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 04:32:54,467 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 04:32:54,467 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 09:32:54 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': '6d119d8d-f7ac-4020-9c97-e4de2d7a0960', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 f920edb4e5d27ee4048d42d253473dda.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P12', 'X-Amz-Cf-Id': 'HmA9O6ioMQ-TJpyAFQiMIAw6w800A_lNPVM6DrU-XHZHLfPUpRlfaA=='}
2025-05-14 04:32:54,468 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 04:32:54,472 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 04:32:54,571 - root - INFO - [BTC-USD] RL agent signal: hold (action_int: 0)
2025-05-14 04:32:54,572 - root - INFO - Trading cycle finished. Signals: {'BTC-USD': 'hold'}
2025-05-14 04:34:46,317 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:34:46.317058+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_START", "message": "Starting new trading cycle.", "severity": "INFO"}
2025-05-14 04:34:46,320 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:34:46.320013+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_ATTEMPT", "message": "Attempting to fetch current holdings.", "severity": "INFO"}
2025-05-14 04:34:46,320 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 04:34:46,320 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 04:34:46,321 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 04:34:46,321 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 04:34:46,321 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': 'I19ZLIq1kX8GfmKp4Kg8IfwBcNrnB6TUv5XhDnDB7DbLkOt+/YiO+eKI2W+sYt9qvmyuJtDj/DCA0fBZkgJ+BQ==', 'x-timestamp': '1747215286', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 04:34:46,686 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 04:34:46,686 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 09:34:46 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': 'a855438c-2567-4d91-b5e4-53156011e1ca', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 35867fa8c378214cba0d2fd4a69ef2b4.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P12', 'X-Amz-Cf-Id': 'jkpCVWWRNePf2VwtQuOag-Vyv6NCCT6VoVRzH9-b1ntCTocDvxNArg=='}
2025-05-14 04:34:46,686 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 04:34:46,687 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 04:34:46,687 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:34:46.687182+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_SUCCESS", "message": "Successfully retrieved and processed 1 holdings.", "severity": "INFO", "details": {"holdings_count": 1, "assets_held": ["BTC"]}}
2025-05-14 04:34:46,687 - alt_crypto_data - INFO - Attempting to fetch data for BTC-USD via yfinance...
2025-05-14 04:34:46,687 - alt_crypto_data - INFO - Fetching price history for BTC-USD from yfinance (Start: 2025-02-08, End: 2025-05-14, Interval: 1h)...
2025-05-14 04:34:47,277 - alt_crypto_data - INFO - Successfully fetched 2281 data points for BTC-USD from yfinance.
2025-05-14 04:34:47,278 - alt_crypto_data - INFO - Successfully fetched data for BTC-USD via yfinance.
2025-05-14 04:35:02,490 - crypto_bot_logger - ERROR - {"timestamp": "2025-05-14T09:35:02.490325+00:00", "source_component": "crypto_bot", "event_type": "NORMALIZATION_STATS_MISSING", "message": "Normalization stats (mean/std) not found for BTC-USD. Defaulting to 'hold'.", "severity": "ERROR", "details": {"symbol": "BTC-USD", "available_stats_keys": ["means", "stds"]}}
2025-05-14 04:35:02,492 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:35:02.492144+00:00", "source_component": "crypto_bot", "event_type": "TRADE_EXECUTION_PHASE_START", "message": "Starting trade execution phase based on signals.", "severity": "INFO"}
2025-05-14 04:35:02,492 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:35:02.492282+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_COMPLETE", "message": "Trading cycle finished in 16.17 seconds.", "severity": "INFO", "details": {"cycle_duration_seconds": 16.17, "signals_generated": {"BTC-USD": "hold"}, "trades_attempted": 0}}
2025-05-14 04:35:24,389 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:35:24.389201+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_START", "message": "Starting new trading cycle.", "severity": "INFO"}
2025-05-14 04:35:24,398 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:35:24.394077+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_ATTEMPT", "message": "Attempting to fetch current holdings.", "severity": "INFO"}
2025-05-14 04:35:24,398 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 04:35:24,399 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 04:35:24,399 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 04:35:24,399 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 04:35:24,399 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': 'Bv37Upu/fNKIee1+qtdhQHVXxgY33KPqamgiidwYDsgn+PTBy5I7BU9RUCgGpje/OJeDCtZg/eX0/zrkMVOODA==', 'x-timestamp': '1747215324', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 04:35:24,715 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 04:35:24,715 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 09:35:24 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': '1943a842-c17e-448c-b9d3-3dace630b762', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 65ee5def609f0f11c7b1a63009b98386.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P12', 'X-Amz-Cf-Id': 'OKRA0_GsmES-zD7KvYRpej8aVbGEJlrPcD69oqd6yufzcIGHSj0LDA=='}
2025-05-14 04:35:24,715 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 04:35:24,716 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 04:35:24,716 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:35:24.716916+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_SUCCESS", "message": "Successfully retrieved and processed 1 holdings.", "severity": "INFO", "details": {"holdings_count": 1, "assets_held": ["BTC"]}}
2025-05-14 04:35:24,717 - alt_crypto_data - INFO - Attempting to fetch data for BTC-USD via yfinance...
2025-05-14 04:35:24,717 - alt_crypto_data - INFO - Fetching price history for BTC-USD from yfinance (Start: 2025-02-08, End: 2025-05-14, Interval: 1h)...
2025-05-14 04:35:25,104 - alt_crypto_data - INFO - Successfully fetched 2281 data points for BTC-USD from yfinance.
2025-05-14 04:35:25,104 - alt_crypto_data - INFO - Successfully fetched data for BTC-USD via yfinance.
2025-05-14 04:35:32,386 - crypto_bot_logger - ERROR - {"timestamp": "2025-05-14T09:35:32.386616+00:00", "source_component": "crypto_bot", "event_type": "FETCH_OR_SIGNAL_ERROR_IN_CYCLE", "message": "Error during data fetch or signal generation for BTC-USD: _log_structured_event() got an unexpected keyword argument 'symbol'", "severity": "ERROR", "details": {"symbol": "BTC-USD", "error_message": "_log_structured_event() got an unexpected keyword argument 'symbol'"}}
Traceback (most recent call last):
  File "/Users/activate/Dev/robinhood-crypto-bot/crypto_bot.py", line 633, in _get_signal
    if symbol not in self.norm_stats or not all(k in self.norm_stats[symbol] for k in ['means', 'stds']):
TypeError: _log_structured_event() got an unexpected keyword argument 'symbol'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/activate/Dev/robinhood-crypto-bot/crypto_bot.py", line 1067, in run_trading_cycle
    _log_structured_event(logging.ERROR, "FETCH_OR_SIGNAL_ERROR_IN_CYCLE",
  File "/Users/activate/Dev/robinhood-crypto-bot/crypto_bot.py", line 709, in _get_signal
    except Exception as e_feature_gen:
TypeError: _log_structured_event() got an unexpected keyword argument 'symbol'
2025-05-14 04:35:32,387 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:35:32.387904+00:00", "source_component": "crypto_bot", "event_type": "TRADE_EXECUTION_PHASE_START", "message": "Starting trade execution phase based on signals.", "severity": "INFO"}
2025-05-14 04:35:32,388 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:35:32.388028+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_COMPLETE", "message": "Trading cycle finished in 8.00 seconds.", "severity": "INFO", "details": {"cycle_duration_seconds": 8.0, "signals_generated": {"BTC-USD": "hold"}, "trades_attempted": 0}}
2025-05-14 04:36:40,066 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:36:40.064797+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_START", "message": "Starting new trading cycle.", "severity": "INFO"}
2025-05-14 04:36:40,071 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:36:40.071175+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_ATTEMPT", "message": "Attempting to fetch current holdings.", "severity": "INFO"}
2025-05-14 04:36:40,071 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 04:36:40,071 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 04:36:40,072 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 04:36:40,073 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 04:36:40,074 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': 'ouKDtOc4ShvTfLo7Gzni3InAOuvHRLdjjOzAAR3TacALba8Gcrp5iFMxMQOuDdEmi6LzRKQvg1KrQyuznJloBA==', 'x-timestamp': '1747215400', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 04:36:40,441 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 04:36:40,441 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 09:36:40 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': '216b813f-e605-4c28-a715-077a69f606f0', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 10c9d0c11c5ba300f67eb0e68bc8a952.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P12', 'X-Amz-Cf-Id': 'N5z9LCuN797pQOykQsJmzA86u5O1hBpe_-ZYpiMVPBNq4okBS1yeVw=='}
2025-05-14 04:36:40,441 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 04:36:40,442 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 04:36:40,442 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:36:40.442670+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_SUCCESS", "message": "Successfully retrieved and processed 1 holdings.", "severity": "INFO", "details": {"holdings_count": 1, "assets_held": ["BTC"]}}
2025-05-14 04:36:40,442 - alt_crypto_data - INFO - Attempting to fetch data for BTC-USD via yfinance...
2025-05-14 04:36:40,443 - alt_crypto_data - INFO - Fetching price history for BTC-USD from yfinance (Start: 2025-02-08, End: 2025-05-14, Interval: 1h)...
2025-05-14 04:36:41,080 - alt_crypto_data - INFO - Successfully fetched 2281 data points for BTC-USD from yfinance.
2025-05-14 04:36:41,081 - alt_crypto_data - INFO - Successfully fetched data for BTC-USD via yfinance.
2025-05-14 04:36:55,192 - crypto_bot_logger - ERROR - {"timestamp": "2025-05-14T09:36:55.192539+00:00", "source_component": "crypto_bot", "event_type": "FEATURE_GENERATION_ERROR", "message": "Error during feature generation for RL agent for BTC-USD: 'RobinhoodCryptoBot' object has no attribute 'current_balance'", "severity": "ERROR", "details": {"symbol": "BTC-USD", "error_message": "'RobinhoodCryptoBot' object has no attribute 'current_balance'", "exc_info": true}}
2025-05-14 04:36:55,193 - crypto_bot_logger - WARNING - {"timestamp": "2025-05-14T09:36:55.192990+00:00", "source_component": "crypto_bot", "event_type": "FEATURE_GENERATION_FAILED", "message": "Could not generate normalized features for BTC-USD. Defaulting to 'hold'.", "severity": "WARNING", "details": {"symbol": "BTC-USD"}}
2025-05-14 04:36:55,193 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:36:55.193159+00:00", "source_component": "crypto_bot", "event_type": "TRADE_EXECUTION_PHASE_START", "message": "Starting trade execution phase based on signals.", "severity": "INFO"}
2025-05-14 04:36:55,193 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:36:55.193218+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_COMPLETE", "message": "Trading cycle finished in 15.12 seconds.", "severity": "INFO", "details": {"cycle_duration_seconds": 15.12, "signals_generated": {"BTC-USD": "hold"}, "trades_attempted": 0}}
2025-05-14 04:37:08,031 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:37:08.031424+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_START", "message": "Starting new trading cycle.", "severity": "INFO"}
2025-05-14 04:37:08,033 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:37:08.033634+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_ATTEMPT", "message": "Attempting to fetch current holdings.", "severity": "INFO"}
2025-05-14 04:37:08,034 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 04:37:08,034 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 04:37:08,034 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 04:37:08,034 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 04:37:08,034 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': '+LzHtU8mQzxrFEU4WpBw9AS4pk1udqF9GmQ895KE0z7gyZAoHGxsj/nhfmfhJSHJWqh9XINJgFreKaDNECdzBQ==', 'x-timestamp': '1747215428', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 04:37:08,252 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 04:37:08,252 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 09:37:08 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': '44d2a166-0089-4062-a802-71386b34c74b', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 56e9426457646294fdbdd72f0d8ff24a.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P12', 'X-Amz-Cf-Id': '5d9SuXHeTl8IN1OodTxOdY-IbNNVzQe6LdCXkgaJDxOH4LfVfuaBLg=='}
2025-05-14 04:37:08,252 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 04:37:08,253 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 04:37:08,253 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:37:08.253540+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_SUCCESS", "message": "Successfully retrieved and processed 1 holdings.", "severity": "INFO", "details": {"holdings_count": 1, "assets_held": ["BTC"]}}
2025-05-14 04:37:08,253 - alt_crypto_data - INFO - Attempting to fetch data for BTC-USD via yfinance...
2025-05-14 04:37:08,253 - alt_crypto_data - INFO - Fetching price history for BTC-USD from yfinance (Start: 2025-02-08, End: 2025-05-14, Interval: 1h)...
2025-05-14 04:37:08,687 - alt_crypto_data - INFO - Successfully fetched 2281 data points for BTC-USD from yfinance.
2025-05-14 04:37:08,687 - alt_crypto_data - INFO - Successfully fetched data for BTC-USD via yfinance.
2025-05-14 04:37:14,429 - crypto_bot_logger - ERROR - {"timestamp": "2025-05-14T09:37:14.429022+00:00", "source_component": "crypto_bot", "event_type": "FETCH_OR_SIGNAL_ERROR_IN_CYCLE", "message": "Error during data fetch or signal generation for BTC-USD: _log_structured_event() got an unexpected keyword argument 'symbol'", "severity": "ERROR", "details": {"symbol": "BTC-USD", "error_message": "_log_structured_event() got an unexpected keyword argument 'symbol'"}}
Traceback (most recent call last):
  File "/Users/activate/Dev/robinhood-crypto-bot/crypto_bot.py", line 633, in _get_signal
    if symbol not in self.norm_stats or not all(k in self.norm_stats[symbol] for k in ['means', 'stds']):
TypeError: _log_structured_event() got an unexpected keyword argument 'symbol'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/activate/Dev/robinhood-crypto-bot/crypto_bot.py", line 1067, in run_trading_cycle
    _log_structured_event(logging.ERROR, "FETCH_OR_SIGNAL_ERROR_IN_CYCLE",
  File "/Users/activate/Dev/robinhood-crypto-bot/crypto_bot.py", line 709, in _get_signal
    except Exception as e_feature_gen:
TypeError: _log_structured_event() got an unexpected keyword argument 'symbol'
2025-05-14 04:37:14,430 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:37:14.430160+00:00", "source_component": "crypto_bot", "event_type": "TRADE_EXECUTION_PHASE_START", "message": "Starting trade execution phase based on signals.", "severity": "INFO"}
2025-05-14 04:37:14,430 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:37:14.430373+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_COMPLETE", "message": "Trading cycle finished in 6.40 seconds.", "severity": "INFO", "details": {"cycle_duration_seconds": 6.4, "signals_generated": {"BTC-USD": "hold"}, "trades_attempted": 0}}
2025-05-14 04:37:55,407 - root - INFO - Starting new trading cycle...
2025-05-14 04:37:55,410 - root - INFO - Fetching current holdings via broker client...
2025-05-14 04:37:55,410 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 04:37:55,411 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 04:37:55,412 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 04:37:55,412 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 04:37:55,413 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': '7bUFnnoy8qDmLEwoPvmtNavhsnC7nHnNPZm5ysviJk6PAF+TPVs638VR5WO7CGV0nwwwk7IoIRTLGz6TGEsyAw==', 'x-timestamp': '1747215475', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 04:37:55,719 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 04:37:55,719 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 09:37:55 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': 'ea11d696-3bbb-40f6-b69d-0391b85ead32', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 630029f02a626a1635ba05045c1a1e98.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P12', 'X-Amz-Cf-Id': 'fsjqX4rYBm-kbG3hnCILqjA0jQW8MBRSsmi91g6Wrv8jgGFFw3qPxw=='}
2025-05-14 04:37:55,720 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 04:37:55,722 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 04:37:55,722 - root - INFO - Successfully retrieved 1 holdings: ['BTC']
2025-05-14 04:37:55,722 - alt_crypto_data - INFO - Attempting to fetch data for BTC-USD via yfinance...
2025-05-14 04:37:55,723 - alt_crypto_data - INFO - Fetching price history for BTC-USD from yfinance (Start: 2025-02-08, End: 2025-05-14, Interval: 1h)...
2025-05-14 04:37:56,236 - alt_crypto_data - INFO - Successfully fetched 2281 data points for BTC-USD from yfinance.
2025-05-14 04:37:56,236 - alt_crypto_data - INFO - Successfully fetched data for BTC-USD via yfinance.
2025-05-14 04:38:14,676 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/accounts/
2025-05-14 04:38:14,677 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 04:38:14,678 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 04:38:14,678 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/accounts/
2025-05-14 04:38:14,678 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': 'tPeAQ8bBmxDjwOouIVSoxNS4BlsuVDDLQo1FvveMR9zBqlRanZg660Kd/iLJWwj8eJSvu1MAJyHRydcNdwxvBg==', 'x-timestamp': '1747215494', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 04:38:15,023 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 04:38:15,024 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '106', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 09:38:14 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': '0dbbc74f-f14a-4f6a-bd1a-b5fd347873e3', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 10c9d0c11c5ba300f67eb0e68bc8a952.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P12', 'X-Amz-Cf-Id': 'WshSGotUN6xuyll_-OHG45YIgT3P3mGRwwRmXG71JOH_eO04aa8inQ=='}
2025-05-14 04:38:15,024 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"account_number":"311081964512","status":"active","buying_power":"16.5500","buying_power_currency":"USD"}...
2025-05-14 04:38:15,025 - brokers.robinhood_broker - DEBUG - Raw response from _make_api_request in get_account_info: {'account_number': '311081964512', 'status': 'active', 'buying_power': '16.5500', 'buying_power_currency': 'USD'}
2025-05-14 04:38:15,025 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 04:38:15,025 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 04:38:15,025 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 04:38:15,026 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 04:38:15,026 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': 'ZZntJhu3mq6vGE6SNFWNlFrQOAtWQUV9ESA100lz2rkijVbbODyVn+UnwZ8pgRHBaWIQa/FhXvbDOBrSg+hhAQ==', 'x-timestamp': '1747215495', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 04:38:15,215 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 04:38:15,216 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 09:38:15 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': '9e48a85a-4e8e-4126-a1de-7567fc29e810', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 bacbe7a52f8acdb4274f5d045952e82e.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P12', 'X-Amz-Cf-Id': '5RLQ-4gMkEPR18rmL_nfmBiTfByClgzb_ADuK9GxK6y0OFYHD1tGLg=='}
2025-05-14 04:38:15,216 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 04:38:15,216 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 04:38:15,218 - root - INFO - [BTC-USD] RL agent signal: hold (action_int: 0)
2025-05-14 04:38:15,219 - root - INFO - Trading cycle finished. Signals: {'BTC-USD': 'hold'}
2025-05-14 04:40:03,325 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:40:03.323183+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_START", "message": "Starting new trading cycle.", "severity": "INFO"}
2025-05-14 04:40:03,328 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:40:03.328798+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_ATTEMPT", "message": "Attempting to fetch current holdings.", "severity": "INFO"}
2025-05-14 04:40:03,329 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 04:40:03,329 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 04:40:03,330 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 04:40:03,330 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 04:40:03,330 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': 'K8sgGKL/QENJdUwiGwERrVZwadllvgbtR6d0FWegBAzCzRjyVItvV0qqkSiwkextWQlxEKE+iT/MRMYiUC3mAg==', 'x-timestamp': '1747215603', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 04:40:03,693 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 04:40:03,693 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 09:40:03 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': '9f65dfef-ea3e-4d07-8ade-92a41be01d36', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 b29d0ca70e4af4f7067923ad4a7ff550.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P12', 'X-Amz-Cf-Id': '4myeMokyJLqNChJeT4cst9XJeGv5mXDGL4V9UpYMa1eHk62ENiE8_A=='}
2025-05-14 04:40:03,693 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 04:40:03,694 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 04:40:03,694 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:40:03.694550+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_SUCCESS", "message": "Successfully retrieved and processed 1 holdings.", "severity": "INFO", "details": {"holdings_count": 1, "assets_held": ["BTC"]}}
2025-05-14 04:40:03,694 - alt_crypto_data - INFO - Attempting to fetch data for BTC-USD via yfinance...
2025-05-14 04:40:03,695 - alt_crypto_data - INFO - Fetching price history for BTC-USD from yfinance (Start: 2025-02-08, End: 2025-05-14, Interval: 1h)...
2025-05-14 04:40:04,492 - alt_crypto_data - INFO - Successfully fetched 2281 data points for BTC-USD from yfinance.
2025-05-14 04:40:04,493 - alt_crypto_data - INFO - Successfully fetched data for BTC-USD via yfinance.
2025-05-14 04:40:15,896 - crypto_bot_logger - ERROR - {"timestamp": "2025-05-14T09:40:15.895837+00:00", "source_component": "crypto_bot", "event_type": "NORMALIZATION_STATS_MISSING", "message": "Normalization stats (mean/std) not found for BTC-USD. Defaulting to 'hold'.", "severity": "ERROR", "details": {"symbol": "BTC-USD", "available_stats_keys": ["means", "stds"]}}
2025-05-14 04:40:15,897 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:40:15.897263+00:00", "source_component": "crypto_bot", "event_type": "TRADE_EXECUTION_PHASE_START", "message": "Starting trade execution phase based on signals.", "severity": "INFO"}
2025-05-14 04:40:15,897 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:40:15.897392+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_COMPLETE", "message": "Trading cycle finished in 12.57 seconds.", "severity": "INFO", "details": {"cycle_duration_seconds": 12.57, "signals_generated": {"BTC-USD": "hold"}, "trades_attempted": 0}}
2025-05-14 04:40:32,457 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:40:32.452954+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_START", "message": "Starting new trading cycle.", "severity": "INFO"}
2025-05-14 04:40:32,463 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:40:32.462623+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_ATTEMPT", "message": "Attempting to fetch current holdings.", "severity": "INFO"}
2025-05-14 04:40:32,464 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 04:40:32,467 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 04:40:32,472 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 04:40:32,473 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 04:40:32,473 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': 'mvq3JMjzIv3FOHX9Fg1KsVk4PWP2vKSFXuQjZl5WrFJK6D9+fFx/H93XlqZ6s8AGXy5oIc7+9w4+Igl9bv5hAg==', 'x-timestamp': '1747215632', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 04:40:32,711 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 04:40:32,711 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 09:40:32 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': 'b504f7cd-c985-456f-ac2f-3a706df60426', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 ea19206f76c60a6bf2353901a487966a.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P12', 'X-Amz-Cf-Id': 'iO61L0Kjvjvsva37aKEh5J6VM7VUTLRs1zdj3Y3rHUvfXwrbwGkKpw=='}
2025-05-14 04:40:32,712 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 04:40:32,712 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 04:40:32,713 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:40:32.713045+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_SUCCESS", "message": "Successfully retrieved and processed 1 holdings.", "severity": "INFO", "details": {"holdings_count": 1, "assets_held": ["BTC"]}}
2025-05-14 04:40:32,714 - alt_crypto_data - INFO - Attempting to fetch data for BTC-USD via yfinance...
2025-05-14 04:40:32,714 - alt_crypto_data - INFO - Fetching price history for BTC-USD from yfinance (Start: 2025-02-08, End: 2025-05-14, Interval: 1h)...
2025-05-14 04:40:33,114 - alt_crypto_data - INFO - Successfully fetched 2281 data points for BTC-USD from yfinance.
2025-05-14 04:40:33,114 - alt_crypto_data - INFO - Successfully fetched data for BTC-USD via yfinance.
2025-05-14 04:40:46,619 - crypto_bot_logger - ERROR - {"timestamp": "2025-05-14T09:40:46.618992+00:00", "source_component": "crypto_bot", "event_type": "FETCH_OR_SIGNAL_ERROR_IN_CYCLE", "message": "Error during data fetch or signal generation for BTC-USD: _log_structured_event() got an unexpected keyword argument 'symbol'", "severity": "ERROR", "details": {"symbol": "BTC-USD", "error_message": "_log_structured_event() got an unexpected keyword argument 'symbol'"}}
Traceback (most recent call last):
  File "/Users/activate/Dev/robinhood-crypto-bot/crypto_bot.py", line 633, in _get_signal
    if symbol not in self.norm_stats or not all(k in self.norm_stats[symbol] for k in ['means', 'stds']):
TypeError: _log_structured_event() got an unexpected keyword argument 'symbol'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/activate/Dev/robinhood-crypto-bot/crypto_bot.py", line 1067, in run_trading_cycle
    _log_structured_event(logging.ERROR, "FETCH_OR_SIGNAL_ERROR_IN_CYCLE",
  File "/Users/activate/Dev/robinhood-crypto-bot/crypto_bot.py", line 709, in _get_signal
    except Exception as e_feature_gen:
TypeError: _log_structured_event() got an unexpected keyword argument 'symbol'
2025-05-14 04:40:46,619 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:40:46.619695+00:00", "source_component": "crypto_bot", "event_type": "TRADE_EXECUTION_PHASE_START", "message": "Starting trade execution phase based on signals.", "severity": "INFO"}
2025-05-14 04:40:46,619 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:40:46.619790+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_COMPLETE", "message": "Trading cycle finished in 14.16 seconds.", "severity": "INFO", "details": {"cycle_duration_seconds": 14.16, "signals_generated": {"BTC-USD": "hold"}, "trades_attempted": 0}}
2025-05-14 04:41:56,197 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:41:56.195083+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_START", "message": "Starting new trading cycle.", "severity": "INFO"}
2025-05-14 04:41:56,200 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:41:56.200926+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_ATTEMPT", "message": "Attempting to fetch current holdings.", "severity": "INFO"}
2025-05-14 04:41:56,202 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 04:41:56,202 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 04:41:56,204 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 04:41:56,205 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 04:41:56,205 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': '3rvsWcHsc3f144iDosoQj/GIPn8tq+eGyxGRjAyhhlbAOwG+N15FYhR9XwtZNTAva/wDf5NmF+R2GhBVrxK0Aw==', 'x-timestamp': '1747215716', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 04:41:56,500 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 04:41:56,501 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 09:41:56 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': 'f2577980-6c0d-47c6-a803-a290c517f934', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 5aba532ceec6e25d9624140d41805428.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P12', 'X-Amz-Cf-Id': 'gRuEgXJlpEyua1QEi77kCUbyYOc5TkNj-U9I6TNe3d9f7wdtaeP5kg=='}
2025-05-14 04:41:56,501 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 04:41:56,502 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 04:41:56,502 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:41:56.502348+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_SUCCESS", "message": "Successfully retrieved and processed 1 holdings.", "severity": "INFO", "details": {"holdings_count": 1, "assets_held": ["BTC"]}}
2025-05-14 04:41:56,502 - alt_crypto_data - INFO - Attempting to fetch data for BTC-USD via yfinance...
2025-05-14 04:41:56,503 - alt_crypto_data - INFO - Fetching price history for BTC-USD from yfinance (Start: 2025-02-08, End: 2025-05-14, Interval: 1h)...
2025-05-14 04:41:57,143 - alt_crypto_data - INFO - Successfully fetched 2281 data points for BTC-USD from yfinance.
2025-05-14 04:41:57,143 - alt_crypto_data - INFO - Successfully fetched data for BTC-USD via yfinance.
2025-05-14 04:42:08,928 - crypto_bot_logger - ERROR - {"timestamp": "2025-05-14T09:42:08.928050+00:00", "source_component": "crypto_bot", "event_type": "FEATURE_GENERATION_ERROR", "message": "Error during feature generation for RL agent for BTC-USD: 'RobinhoodCryptoBot' object has no attribute 'current_balance'", "severity": "ERROR", "details": {"symbol": "BTC-USD", "error_message": "'RobinhoodCryptoBot' object has no attribute 'current_balance'", "exc_info": true}}
2025-05-14 04:42:08,931 - crypto_bot_logger - WARNING - {"timestamp": "2025-05-14T09:42:08.931553+00:00", "source_component": "crypto_bot", "event_type": "FEATURE_GENERATION_FAILED", "message": "Could not generate normalized features for BTC-USD. Defaulting to 'hold'.", "severity": "WARNING", "details": {"symbol": "BTC-USD"}}
2025-05-14 04:42:08,932 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:42:08.932680+00:00", "source_component": "crypto_bot", "event_type": "TRADE_EXECUTION_PHASE_START", "message": "Starting trade execution phase based on signals.", "severity": "INFO"}
2025-05-14 04:42:08,932 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:42:08.932777+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_COMPLETE", "message": "Trading cycle finished in 12.73 seconds.", "severity": "INFO", "details": {"cycle_duration_seconds": 12.73, "signals_generated": {"BTC-USD": "hold"}, "trades_attempted": 0}}
2025-05-14 04:42:15,345 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:42:15.345500+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_START", "message": "Starting new trading cycle.", "severity": "INFO"}
2025-05-14 04:42:15,347 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:42:15.347199+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_ATTEMPT", "message": "Attempting to fetch current holdings.", "severity": "INFO"}
2025-05-14 04:42:15,347 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 04:42:15,347 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 04:42:15,347 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 04:42:15,347 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 04:42:15,347 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': '1tP8YLn5WO+q3On1FbdJOaV1h+6BkdBg4uMZfkPQorvVsk+yy44fRDNIy/nZTdr3TPIYRYqZxct0q3j9jvoMBw==', 'x-timestamp': '1747215735', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 04:42:15,584 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 04:42:15,584 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 09:42:15 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': '3a9ec8e5-8cdb-4225-bc2e-0a4d349d47d1', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 21c13e694345b80cbdf4d13b60011712.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P12', 'X-Amz-Cf-Id': 'OJvKfGnK-kfQtMobp17s4dMwlkWLuCbz40M0kZIo8McfYhUkPO_yVA=='}
2025-05-14 04:42:15,584 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 04:42:15,585 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 04:42:15,585 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:42:15.585058+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_SUCCESS", "message": "Successfully retrieved and processed 1 holdings.", "severity": "INFO", "details": {"holdings_count": 1, "assets_held": ["BTC"]}}
2025-05-14 04:42:15,585 - alt_crypto_data - INFO - Attempting to fetch data for BTC-USD via yfinance...
2025-05-14 04:42:15,585 - alt_crypto_data - INFO - Fetching price history for BTC-USD from yfinance (Start: 2025-02-08, End: 2025-05-14, Interval: 1h)...
2025-05-14 04:42:15,972 - alt_crypto_data - INFO - Successfully fetched 2281 data points for BTC-USD from yfinance.
2025-05-14 04:42:15,972 - alt_crypto_data - INFO - Successfully fetched data for BTC-USD via yfinance.
2025-05-14 04:42:37,935 - crypto_bot_logger - ERROR - {"timestamp": "2025-05-14T09:42:37.934878+00:00", "source_component": "crypto_bot", "event_type": "FETCH_OR_SIGNAL_ERROR_IN_CYCLE", "message": "Error during data fetch or signal generation for BTC-USD: _log_structured_event() got an unexpected keyword argument 'symbol'", "severity": "ERROR", "details": {"symbol": "BTC-USD", "error_message": "_log_structured_event() got an unexpected keyword argument 'symbol'"}}
Traceback (most recent call last):
  File "/Users/activate/Dev/robinhood-crypto-bot/crypto_bot.py", line 633, in _get_signal
    if symbol not in self.norm_stats or not all(k in self.norm_stats[symbol] for k in ['means', 'stds']):
TypeError: _log_structured_event() got an unexpected keyword argument 'symbol'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/activate/Dev/robinhood-crypto-bot/crypto_bot.py", line 1067, in run_trading_cycle
    _log_structured_event(logging.ERROR, "FETCH_OR_SIGNAL_ERROR_IN_CYCLE",
  File "/Users/activate/Dev/robinhood-crypto-bot/crypto_bot.py", line 709, in _get_signal
    except Exception as e_feature_gen:
TypeError: _log_structured_event() got an unexpected keyword argument 'symbol'
2025-05-14 04:42:37,936 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:42:37.936585+00:00", "source_component": "crypto_bot", "event_type": "TRADE_EXECUTION_PHASE_START", "message": "Starting trade execution phase based on signals.", "severity": "INFO"}
2025-05-14 04:42:37,936 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:42:37.936727+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_COMPLETE", "message": "Trading cycle finished in 22.59 seconds.", "severity": "INFO", "details": {"cycle_duration_seconds": 22.59, "signals_generated": {"BTC-USD": "hold"}, "trades_attempted": 0}}
2025-05-14 04:43:16,145 - root - INFO - Starting new trading cycle...
2025-05-14 04:43:16,149 - root - INFO - Fetching current holdings via broker client...
2025-05-14 04:43:16,149 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 04:43:16,149 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 04:43:16,150 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 04:43:16,151 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 04:43:16,151 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': 'q1ZhLhhhDK5eDrSrrsmI4X/TLqU2brY53JSxv+phkdwB88w8SkSS3RlQZUBrnhsEB3UWZkL26SJV1nYyqkKtCw==', 'x-timestamp': '1747215796', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 04:43:16,517 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 04:43:16,517 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 09:43:16 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': '1e2a0e27-b677-40a7-8ada-6c23fb1b84fb', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 5aba532ceec6e25d9624140d41805428.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P12', 'X-Amz-Cf-Id': 'cgdaLUXgOPSHTaERcX7eMz68YHu6MKIaLZwWHF9Edj9Ytf7-6RgZRw=='}
2025-05-14 04:43:16,517 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 04:43:16,518 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 04:43:16,518 - root - INFO - Successfully retrieved 1 holdings: ['BTC']
2025-05-14 04:43:16,518 - alt_crypto_data - INFO - Attempting to fetch data for BTC-USD via yfinance...
2025-05-14 04:43:16,519 - alt_crypto_data - INFO - Fetching price history for BTC-USD from yfinance (Start: 2025-02-08, End: 2025-05-14, Interval: 1h)...
2025-05-14 04:43:17,094 - alt_crypto_data - INFO - Successfully fetched 2281 data points for BTC-USD from yfinance.
2025-05-14 04:43:17,094 - alt_crypto_data - INFO - Successfully fetched data for BTC-USD via yfinance.
2025-05-14 04:43:39,328 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/accounts/
2025-05-14 04:43:39,329 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 04:43:39,329 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 04:43:39,329 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/accounts/
2025-05-14 04:43:39,329 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': 's01Zxzm97iPjKo9jvwa/OcUTes1goJdubA4SgIlt+iXMZJxoRhOV04nnYGThI36/LbrJx97/qOeiwwbjX3MpAw==', 'x-timestamp': '1747215819', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 04:43:39,734 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 04:43:39,734 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '106', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 09:43:39 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': '4c0cc210-d888-4279-9be7-3a785bd0f88e', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 925dca724534b9e2ea0c989957321ad0.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P12', 'X-Amz-Cf-Id': 'efPrSiIDw1Qd2GMfEkhpNnqixM7fFKu7DSRgonjI1b2qf_miHvi1eQ=='}
2025-05-14 04:43:39,734 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"account_number":"311081964512","status":"active","buying_power":"16.5500","buying_power_currency":"USD"}...
2025-05-14 04:43:39,736 - brokers.robinhood_broker - DEBUG - Raw response from _make_api_request in get_account_info: {'account_number': '311081964512', 'status': 'active', 'buying_power': '16.5500', 'buying_power_currency': 'USD'}
2025-05-14 04:43:39,737 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 04:43:39,737 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 04:43:39,737 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 04:43:39,738 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 04:43:39,738 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': 'Y+wSTv4Vv4igagLpMB0ij7+2XpJsa1I1t/ljZ/vsBShelRNf2yiY66d5xSdy14RgC7eHZLQpZokH5tHh3/fjBA==', 'x-timestamp': '1747215819', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 04:43:39,919 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 04:43:39,919 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 09:43:39 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': 'da4b10e3-8343-4daf-9a26-63b1f94a7c8c', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 21c13e694345b80cbdf4d13b60011712.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P12', 'X-Amz-Cf-Id': 'tRgU8kQuKXc7MZB8Y7yBgb6C054oScgGsYr3rAIZcwDYhaFqAtPnbQ=='}
2025-05-14 04:43:39,919 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 04:43:39,920 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 04:43:39,935 - root - INFO - [BTC-USD] RL agent signal: hold (action_int: 0)
2025-05-14 04:43:39,935 - root - INFO - Trading cycle finished. Signals: {'BTC-USD': 'hold'}
2025-05-14 04:45:16,906 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:45:16.903722+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_START", "message": "Starting new trading cycle.", "severity": "INFO"}
2025-05-14 04:45:16,909 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:45:16.909591+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_ATTEMPT", "message": "Attempting to fetch current holdings.", "severity": "INFO"}
2025-05-14 04:45:16,910 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 04:45:16,910 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 04:45:16,911 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 04:45:16,911 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 04:45:16,911 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': 'ez+961QKnkT8WpsBggf2UpbnMMQo7fjU9o2rMvq6bWaMhQhtE5Q9L5GPmlBSWJb3SAWa12ztpFdTC/Xc2Y/gBQ==', 'x-timestamp': '1747215916', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 04:45:17,238 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 04:45:17,238 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 09:45:17 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': '3a028bcd-32a9-4f18-9983-7dfdabdf5dda', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 fbc291b5e08eb032127391564e49fac6.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P12', 'X-Amz-Cf-Id': 'mceomi-UYLJLiCUo-_mI94f-OPwK41JbDeccQ7TIi9HNwx8bYlBtfw=='}
2025-05-14 04:45:17,238 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 04:45:17,239 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 04:45:17,239 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:45:17.239784+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_SUCCESS", "message": "Successfully retrieved and processed 1 holdings.", "severity": "INFO", "details": {"holdings_count": 1, "assets_held": ["BTC"]}}
2025-05-14 04:45:17,239 - alt_crypto_data - INFO - Attempting to fetch data for BTC-USD via yfinance...
2025-05-14 04:45:17,240 - alt_crypto_data - INFO - Fetching price history for BTC-USD from yfinance (Start: 2025-02-08, End: 2025-05-14, Interval: 1h)...
2025-05-14 04:45:17,917 - alt_crypto_data - INFO - Successfully fetched 2281 data points for BTC-USD from yfinance.
2025-05-14 04:45:17,918 - alt_crypto_data - INFO - Successfully fetched data for BTC-USD via yfinance.
2025-05-14 04:45:40,680 - crypto_bot_logger - ERROR - {"timestamp": "2025-05-14T09:45:40.679592+00:00", "source_component": "crypto_bot", "event_type": "NORMALIZATION_STATS_MISSING", "message": "Normalization stats (mean/std) not found for BTC-USD. Defaulting to 'hold'.", "severity": "ERROR", "details": {"symbol": "BTC-USD", "available_stats_keys": ["means", "stds"]}}
2025-05-14 04:45:40,683 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:45:40.683689+00:00", "source_component": "crypto_bot", "event_type": "TRADE_EXECUTION_PHASE_START", "message": "Starting trade execution phase based on signals.", "severity": "INFO"}
2025-05-14 04:45:40,684 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:45:40.684122+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_COMPLETE", "message": "Trading cycle finished in 23.77 seconds.", "severity": "INFO", "details": {"cycle_duration_seconds": 23.77, "signals_generated": {"BTC-USD": "hold"}, "trades_attempted": 0}}
2025-05-14 04:45:47,491 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:45:47.490940+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_START", "message": "Starting new trading cycle.", "severity": "INFO"}
2025-05-14 04:45:47,492 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:45:47.492478+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_ATTEMPT", "message": "Attempting to fetch current holdings.", "severity": "INFO"}
2025-05-14 04:45:47,492 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 04:45:47,492 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 04:45:47,492 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 04:45:47,493 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 04:45:47,493 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': 'e4bZSwBlx7ZsuX2b2JM6cEofWAfO4N++2lJRL6dRdDRfVUULNX8yVx/EplLx5wQLBn4iSe3OHj8iDZdc8UUJCg==', 'x-timestamp': '1747215947', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 04:45:47,733 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 04:45:47,733 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 09:45:47 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': '961a887c-a714-43dc-8953-a197c78fa74d', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 e9eb0035bfe1f4607580837fdc95543e.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P12', 'X-Amz-Cf-Id': 'GTFp3DQg21AceXxLj9lHHlV6t6BoMfKKqIkW3IdZZ4MzXhUo-eUSXA=='}
2025-05-14 04:45:47,733 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 04:45:47,734 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 04:45:47,734 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:45:47.734550+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_SUCCESS", "message": "Successfully retrieved and processed 1 holdings.", "severity": "INFO", "details": {"holdings_count": 1, "assets_held": ["BTC"]}}
2025-05-14 04:45:47,734 - alt_crypto_data - INFO - Attempting to fetch data for BTC-USD via yfinance...
2025-05-14 04:45:47,734 - alt_crypto_data - INFO - Fetching price history for BTC-USD from yfinance (Start: 2025-02-08, End: 2025-05-14, Interval: 1h)...
2025-05-14 04:45:48,112 - alt_crypto_data - INFO - Successfully fetched 2281 data points for BTC-USD from yfinance.
2025-05-14 04:45:48,112 - alt_crypto_data - INFO - Successfully fetched data for BTC-USD via yfinance.
2025-05-14 04:47:09,897 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:47:09.896256+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_START", "message": "Starting new trading cycle.", "severity": "INFO"}
2025-05-14 04:47:09,900 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:47:09.900010+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_ATTEMPT", "message": "Attempting to fetch current holdings.", "severity": "INFO"}
2025-05-14 04:47:09,900 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 04:47:09,900 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 04:47:09,901 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 04:47:09,901 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 04:47:09,901 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': 'aOIKNNRuiguRKdLW+jciv4E8Gx9T3LZUxPM+yb8fD7ZcLouE+0ndGGnEgcVPV+tvSvNpsz9VFx899GsOJMNBBQ==', 'x-timestamp': '1747216029', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 04:47:10,256 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 04:47:10,256 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 09:47:10 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': '60ac73cf-c769-4f89-bcee-03116afea38f', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 ece6d66b6f8dabfbcae2e81c12fea44e.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P12', 'X-Amz-Cf-Id': 'wF7f2jQwWv9-IojrP0XFfabuiPFBWsC42VNiRAEs6ZhtFz13aUXW1g=='}
2025-05-14 04:47:10,257 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 04:47:10,258 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 04:47:10,259 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:47:10.259093+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_SUCCESS", "message": "Successfully retrieved and processed 1 holdings.", "severity": "INFO", "details": {"holdings_count": 1, "assets_held": ["BTC"]}}
2025-05-14 04:47:10,259 - alt_crypto_data - INFO - Attempting to fetch data for BTC-USD via yfinance...
2025-05-14 04:47:10,259 - alt_crypto_data - INFO - Fetching price history for BTC-USD from yfinance (Start: 2025-02-08, End: 2025-05-14, Interval: 1h)...
2025-05-14 04:47:10,867 - alt_crypto_data - INFO - Successfully fetched 2281 data points for BTC-USD from yfinance.
2025-05-14 04:47:10,867 - alt_crypto_data - INFO - Successfully fetched data for BTC-USD via yfinance.
2025-05-14 04:47:38,839 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:47:38.837194+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_START", "message": "Starting new trading cycle.", "severity": "INFO"}
2025-05-14 04:47:38,842 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:47:38.842105+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_ATTEMPT", "message": "Attempting to fetch current holdings.", "severity": "INFO"}
2025-05-14 04:47:38,843 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 04:47:38,843 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 04:47:38,843 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 04:47:38,844 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 04:47:38,844 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': 'mAKwVBY/d7+Q/WpqQW8paCji9qHIr3dpmGx1WmstG+P3BBhhHSbXsRLBT2kpUHIdqaqyiWk0/+8pu/78LJUEAA==', 'x-timestamp': '1747216058', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 04:47:39,127 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 04:47:39,128 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 09:47:39 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': 'b1e0e6f8-4a15-4a16-b185-06b2ed58577e', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 10c9d0c11c5ba300f67eb0e68bc8a952.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P12', 'X-Amz-Cf-Id': 'qbVykPC7uU5pT4sjpOvT754QjvTbMR675Q2QC2xZ-KCbNaP5b4jMwA=='}
2025-05-14 04:47:39,128 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 04:47:39,130 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 04:47:39,131 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:47:39.130955+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_SUCCESS", "message": "Successfully retrieved and processed 1 holdings.", "severity": "INFO", "details": {"holdings_count": 1, "assets_held": ["BTC"]}}
2025-05-14 04:47:39,131 - alt_crypto_data - INFO - Attempting to fetch data for BTC-USD via yfinance...
2025-05-14 04:47:39,131 - alt_crypto_data - INFO - Fetching price history for BTC-USD from yfinance (Start: 2025-02-08, End: 2025-05-14, Interval: 1h)...
2025-05-14 04:47:39,454 - alt_crypto_data - INFO - Successfully fetched 2281 data points for BTC-USD from yfinance.
2025-05-14 04:47:39,455 - alt_crypto_data - INFO - Successfully fetched data for BTC-USD via yfinance.
2025-05-14 04:48:40,881 - root - INFO - Starting new trading cycle...
2025-05-14 04:48:40,884 - root - INFO - Fetching current holdings via broker client...
2025-05-14 04:48:40,885 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 04:48:40,885 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 04:48:40,886 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 04:48:40,886 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 04:48:40,886 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': 'tu9w+Nup0H1BW+tDD5xaMwyZq1xY0mFe/peRB4DTvll4JDSQjAAEthjlm8g8fbkB7CyeGK99eP1lnjCAZEd4AA==', 'x-timestamp': '1747216120', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 04:48:41,324 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 04:48:41,325 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 09:48:41 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': '9ec94d60-86f0-40d2-a559-3ec5513f3a24', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 21c13e694345b80cbdf4d13b60011712.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P12', 'X-Amz-Cf-Id': 'AHMk50lQCKbxNg7ob0skZ4E0WUtyGXHh1GSzFkQyHxqTMFs8LmPr7w=='}
2025-05-14 04:48:41,325 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 04:48:41,329 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 04:48:41,329 - root - INFO - Successfully retrieved 1 holdings: ['BTC']
2025-05-14 04:48:41,329 - alt_crypto_data - INFO - Attempting to fetch data for BTC-USD via yfinance...
2025-05-14 04:48:41,330 - alt_crypto_data - INFO - Fetching price history for BTC-USD from yfinance (Start: 2025-02-08, End: 2025-05-14, Interval: 1h)...
2025-05-14 04:48:42,092 - alt_crypto_data - INFO - Successfully fetched 2281 data points for BTC-USD from yfinance.
2025-05-14 04:48:42,092 - alt_crypto_data - INFO - Successfully fetched data for BTC-USD via yfinance.
2025-05-14 04:50:40,712 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:50:40.710079+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_START", "message": "Starting new trading cycle.", "severity": "INFO"}
2025-05-14 04:50:40,714 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:50:40.714513+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_ATTEMPT", "message": "Attempting to fetch current holdings.", "severity": "INFO"}
2025-05-14 04:50:40,714 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 04:50:40,715 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 04:50:40,715 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 04:50:40,716 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 04:50:40,716 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': 'uBDk+152BkY6abUW9khe1OTh2qFrZg/J9KBH3vLGbtRMC2kSAAXBu1SEk85J1H4vstFkvmjELrOQcUj1o4f9AQ==', 'x-timestamp': '1747216240', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 04:50:41,124 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 04:50:41,125 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 09:50:41 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': '66ceed7e-5b26-4e6e-9fc4-7f3e9c6f7137', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 21c13e694345b80cbdf4d13b60011712.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P12', 'X-Amz-Cf-Id': '11r3iIBy-ct2V2xh7N8MolvIjZybrHwFt_lNupY7t7XUJ4RrtBqZOQ=='}
2025-05-14 04:50:41,125 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 04:50:41,130 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 04:50:41,130 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T09:50:41.130365+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_SUCCESS", "message": "Successfully retrieved and processed 1 holdings.", "severity": "INFO", "details": {"holdings_count": 1, "assets_held": ["BTC"]}}
2025-05-14 04:50:41,130 - alt_crypto_data - INFO - Attempting to fetch data for BTC-USD via yfinance...
2025-05-14 04:50:41,131 - alt_crypto_data - INFO - Fetching price history for BTC-USD from yfinance (Start: 2025-02-08, End: 2025-05-14, Interval: 1h)...
2025-05-14 04:50:42,006 - alt_crypto_data - INFO - Successfully fetched 2281 data points for BTC-USD from yfinance.
2025-05-14 04:50:42,006 - alt_crypto_data - INFO - Successfully fetched data for BTC-USD via yfinance.
2025-05-14 09:20:10,520 - crypto_bot_logger - ERROR - {"timestamp": "2025-05-14T14:20:10.517735+00:00", "source_component": "crypto_bot", "event_type": "NORMALIZATION_STATS_MISSING", "message": "Normalization stats (mean/std) not found for BTC-USD. Defaulting to 'hold'.", "severity": "ERROR", "details": {"symbol": "BTC-USD", "available_stats_keys": ["means", "stds"]}}
2025-05-14 09:20:10,523 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T14:20:10.523063+00:00", "source_component": "crypto_bot", "event_type": "TRADE_EXECUTION_PHASE_START", "message": "Starting trade execution phase based on signals.", "severity": "INFO"}
2025-05-14 09:20:10,523 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T14:20:10.523499+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_COMPLETE", "message": "Trading cycle finished in 16169.81 seconds.", "severity": "INFO", "details": {"cycle_duration_seconds": 16169.81, "signals_generated": {"BTC-USD": "hold"}, "trades_attempted": 0}}
2025-05-14 09:20:10,523 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/accounts/
2025-05-14 09:20:10,524 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 09:20:10,527 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 09:20:10,527 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/accounts/
2025-05-14 09:20:10,545 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': 'XWzpdbI0dchkCXVhjrwpQjdDf0timZz2HukTo7uqOIC1thmp/RjMNo4ert1YW85YYqVcZUhQ1firb4tB7S4hDQ==', 'x-timestamp': '1747232410', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 09:20:10,579 - crypto_bot_logger - ERROR - {"timestamp": "2025-05-14T14:20:10.578819+00:00", "source_component": "crypto_bot", "event_type": "FETCH_OR_SIGNAL_ERROR_IN_CYCLE", "message": "Error during data fetch or signal generation for BTC-USD: _log_structured_event() got an unexpected keyword argument 'symbol'", "severity": "ERROR", "details": {"symbol": "BTC-USD", "error_message": "_log_structured_event() got an unexpected keyword argument 'symbol'"}}
Traceback (most recent call last):
  File "/Users/activate/Dev/robinhood-crypto-bot/crypto_bot.py", line 633, in _get_signal
    if symbol not in self.norm_stats or not all(k in self.norm_stats[symbol] for k in ['means', 'stds']):
TypeError: _log_structured_event() got an unexpected keyword argument 'symbol'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/activate/Dev/robinhood-crypto-bot/crypto_bot.py", line 1067, in run_trading_cycle
    _log_structured_event(logging.ERROR, "FETCH_OR_SIGNAL_ERROR_IN_CYCLE",
  File "/Users/activate/Dev/robinhood-crypto-bot/crypto_bot.py", line 709, in _get_signal
    except Exception as e_feature_gen:
TypeError: _log_structured_event() got an unexpected keyword argument 'symbol'
2025-05-14 09:20:10,580 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T14:20:10.580450+00:00", "source_component": "crypto_bot", "event_type": "TRADE_EXECUTION_PHASE_START", "message": "Starting trade execution phase based on signals.", "severity": "INFO"}
2025-05-14 09:20:10,580 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T14:20:10.580718+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_COMPLETE", "message": "Trading cycle finished in 16351.74 seconds.", "severity": "INFO", "details": {"cycle_duration_seconds": 16351.74, "signals_generated": {"BTC-USD": "hold"}, "trades_attempted": 0}}
2025-05-14 09:20:10,591 - crypto_bot_logger - ERROR - {"timestamp": "2025-05-14T14:20:10.590856+00:00", "source_component": "crypto_bot", "event_type": "FEATURE_GENERATION_ERROR", "message": "Error during feature generation for RL agent for BTC-USD: 'RobinhoodCryptoBot' object has no attribute 'current_balance'", "severity": "ERROR", "details": {"symbol": "BTC-USD", "error_message": "'RobinhoodCryptoBot' object has no attribute 'current_balance'", "exc_info": true}}
2025-05-14 09:20:10,591 - crypto_bot_logger - WARNING - {"timestamp": "2025-05-14T14:20:10.591805+00:00", "source_component": "crypto_bot", "event_type": "FEATURE_GENERATION_FAILED", "message": "Could not generate normalized features for BTC-USD. Defaulting to 'hold'.", "severity": "WARNING", "details": {"symbol": "BTC-USD"}}
2025-05-14 09:20:10,592 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T14:20:10.592116+00:00", "source_component": "crypto_bot", "event_type": "TRADE_EXECUTION_PHASE_START", "message": "Starting trade execution phase based on signals.", "severity": "INFO"}
2025-05-14 09:20:10,592 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T14:20:10.592345+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_COMPLETE", "message": "Trading cycle finished in 16380.69 seconds.", "severity": "INFO", "details": {"cycle_duration_seconds": 16380.69, "signals_generated": {"BTC-USD": "hold"}, "trades_attempted": 0}}
2025-05-14 09:20:10,613 - crypto_bot_logger - ERROR - {"timestamp": "2025-05-14T14:20:10.613129+00:00", "source_component": "crypto_bot", "event_type": "FETCH_OR_SIGNAL_ERROR_IN_CYCLE", "message": "Error during data fetch or signal generation for BTC-USD: _log_structured_event() got an unexpected keyword argument 'symbol'", "severity": "ERROR", "details": {"symbol": "BTC-USD", "error_message": "_log_structured_event() got an unexpected keyword argument 'symbol'"}}
Traceback (most recent call last):
  File "/Users/activate/Dev/robinhood-crypto-bot/crypto_bot.py", line 633, in _get_signal
    if symbol not in self.norm_stats or not all(k in self.norm_stats[symbol] for k in ['means', 'stds']):
TypeError: _log_structured_event() got an unexpected keyword argument 'symbol'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/activate/Dev/robinhood-crypto-bot/crypto_bot.py", line 1067, in run_trading_cycle
    _log_structured_event(logging.ERROR, "FETCH_OR_SIGNAL_ERROR_IN_CYCLE",
  File "/Users/activate/Dev/robinhood-crypto-bot/crypto_bot.py", line 709, in _get_signal
    except Exception as e_feature_gen:
TypeError: _log_structured_event() got an unexpected keyword argument 'symbol'
2025-05-14 09:20:10,615 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T14:20:10.615394+00:00", "source_component": "crypto_bot", "event_type": "TRADE_EXECUTION_PHASE_START", "message": "Starting trade execution phase based on signals.", "severity": "INFO"}
2025-05-14 09:20:10,615 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T14:20:10.615590+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_COMPLETE", "message": "Trading cycle finished in 16463.12 seconds.", "severity": "INFO", "details": {"cycle_duration_seconds": 16463.12, "signals_generated": {"BTC-USD": "hold"}, "trades_attempted": 0}}
2025-05-14 09:20:23,492 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 09:20:23,492 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '106', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 14:20:23 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': 'f2b82282-7196-44f9-a21f-bc3682c81afe', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 454f3a02044cf971b11b4f92f9ff21f6.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD51-P2', 'X-Amz-Cf-Id': '1z5o7xtFiZTnM0XedDbzqHoTqULR0mYlotwNXh9-0RnvOwS4cWOCiQ=='}
2025-05-14 09:20:23,492 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"account_number":"311081964512","status":"active","buying_power":"16.5500","buying_power_currency":"USD"}...
2025-05-14 09:20:23,493 - brokers.robinhood_broker - DEBUG - Raw response from _make_api_request in get_account_info: {'account_number': '311081964512', 'status': 'active', 'buying_power': '16.5500', 'buying_power_currency': 'USD'}
2025-05-14 09:20:23,494 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 09:20:23,494 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 09:20:23,494 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 09:20:23,494 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 09:20:23,494 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': '58XW3t0SDAGUPN75TwWgvMuJ7ZTUPgzUWt5qLo9NnQuiOjZdoNr2oCh+6Ns1qGmBIpnuIddWF0aB4oNIj1iAAg==', 'x-timestamp': '1747232423', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 09:20:24,020 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 09:20:24,020 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 14:20:24 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': '4cecea9c-7d99-48c9-9832-f3dd433391d1', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 2cd8d4852079d6c5e6bb88ce998771c2.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD51-P2', 'X-Amz-Cf-Id': 'Qr21H7XM0YpsJrHPAJ3f9QLr_PB57Zde7EkJMikM_iaa0AS8Gktd3Q=='}
2025-05-14 09:20:24,021 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 09:20:24,022 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 09:20:24,063 - root - INFO - [BTC-USD] RL agent signal: hold (action_int: 0)
2025-05-14 09:20:24,064 - root - INFO - Trading cycle finished. Signals: {'BTC-USD': 'hold'}
2025-05-14 09:25:10,545 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T14:25:10.545252+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_START", "message": "Starting new trading cycle.", "severity": "INFO"}
2025-05-14 09:25:10,546 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T14:25:10.546045+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_ATTEMPT", "message": "Attempting to fetch current holdings.", "severity": "INFO"}
2025-05-14 09:25:10,546 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 09:25:10,546 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 09:25:10,547 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 09:25:10,547 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 09:25:10,548 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': 'fXYYWuSPuQPDnqCMvRdbSDbbfzKDkE+eYVEP3F2xp2cH5JbIQVgOn/uHYmt0Hoy4/8pFByWedWxMFS56802xAQ==', 'x-timestamp': '1747232710', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 09:25:10,606 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T14:25:10.606289+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_START", "message": "Starting new trading cycle.", "severity": "INFO"}
2025-05-14 09:25:10,607 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T14:25:10.607147+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_ATTEMPT", "message": "Attempting to fetch current holdings.", "severity": "INFO"}
2025-05-14 09:25:10,607 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 09:25:10,608 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 09:25:10,608 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 09:25:10,609 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 09:25:10,609 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': 'fXYYWuSPuQPDnqCMvRdbSDbbfzKDkE+eYVEP3F2xp2cH5JbIQVgOn/uHYmt0Hoy4/8pFByWedWxMFS56802xAQ==', 'x-timestamp': '1747232710', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 09:25:10,639 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T14:25:10.639801+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_START", "message": "Starting new trading cycle.", "severity": "INFO"}
2025-05-14 09:25:10,640 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T14:25:10.640314+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_ATTEMPT", "message": "Attempting to fetch current holdings.", "severity": "INFO"}
2025-05-14 09:25:10,640 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 09:25:10,640 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 09:25:10,641 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 09:25:10,641 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 09:25:10,641 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': 'fXYYWuSPuQPDnqCMvRdbSDbbfzKDkE+eYVEP3F2xp2cH5JbIQVgOn/uHYmt0Hoy4/8pFByWedWxMFS56802xAQ==', 'x-timestamp': '1747232710', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 09:25:10,927 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 09:25:10,928 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 14:25:11 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': '6f1eeb02-160b-4fd2-84f1-68feb5faf02e', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 12d02771f1a9d72433428b902a68920e.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P6', 'X-Amz-Cf-Id': 'RTIzqc2-Khn21mop8vV9sni8dvl-JsqDy3pvgmn8wTC7FoPjgmI3SA=='}
2025-05-14 09:25:10,928 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 09:25:10,931 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 09:25:10,931 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T14:25:10.931627+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_SUCCESS", "message": "Successfully retrieved and processed 1 holdings.", "severity": "INFO", "details": {"holdings_count": 1, "assets_held": ["BTC"]}}
2025-05-14 09:25:10,932 - alt_crypto_data - INFO - Attempting to fetch data for BTC-USD via yfinance...
2025-05-14 09:25:10,932 - alt_crypto_data - INFO - Fetching price history for BTC-USD from yfinance (Start: 2025-02-08, End: 2025-05-14, Interval: 1h)...
2025-05-14 09:25:10,933 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 09:25:10,933 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 14:25:11 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': 'a6bb9081-c103-43a8-a7c6-949f95317a16', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 637c6cc074af01d1a5246ebd8a4d3158.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P6', 'X-Amz-Cf-Id': 'Q77UFmu15i8NEKJYhrPhjIXF0ATAXTj8WoA5KctAWHiN7E_mZSC0PQ=='}
2025-05-14 09:25:10,934 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 09:25:10,936 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 09:25:10,936 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T14:25:10.936710+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_SUCCESS", "message": "Successfully retrieved and processed 1 holdings.", "severity": "INFO", "details": {"holdings_count": 1, "assets_held": ["BTC"]}}
2025-05-14 09:25:10,937 - alt_crypto_data - INFO - Attempting to fetch data for BTC-USD via yfinance...
2025-05-14 09:25:10,937 - alt_crypto_data - INFO - Fetching price history for BTC-USD from yfinance (Start: 2025-02-08, End: 2025-05-14, Interval: 1h)...
2025-05-14 09:25:10,941 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 09:25:10,941 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 14:25:11 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': '72672ce4-6e3a-4ffb-a031-48adc9369d96', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 70ac3f7279fe70ef5e2b27dc35af06b4.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P6', 'X-Amz-Cf-Id': 'byHGE9V_bovXS5MLl2UYScfibRag_nwS1u1FMqKxKtVpw_mMk_yiKA=='}
2025-05-14 09:25:10,941 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 09:25:10,942 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 09:25:10,942 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T14:25:10.942646+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_SUCCESS", "message": "Successfully retrieved and processed 1 holdings.", "severity": "INFO", "details": {"holdings_count": 1, "assets_held": ["BTC"]}}
2025-05-14 09:25:10,942 - alt_crypto_data - INFO - Attempting to fetch data for BTC-USD via yfinance...
2025-05-14 09:25:10,942 - alt_crypto_data - INFO - Fetching price history for BTC-USD from yfinance (Start: 2025-02-08, End: 2025-05-14, Interval: 1h)...
2025-05-14 09:25:11,539 - alt_crypto_data - INFO - Successfully fetched 2281 data points for BTC-USD from yfinance.
2025-05-14 09:25:11,539 - alt_crypto_data - INFO - Successfully fetched data for BTC-USD via yfinance.
2025-05-14 09:25:11,542 - alt_crypto_data - INFO - Successfully fetched 2281 data points for BTC-USD from yfinance.
2025-05-14 09:25:11,543 - alt_crypto_data - INFO - Successfully fetched data for BTC-USD via yfinance.
2025-05-14 09:25:11,625 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T14:25:11.625179+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_START", "message": "Starting new trading cycle.", "severity": "INFO"}
2025-05-14 09:25:11,625 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T14:25:11.625790+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_ATTEMPT", "message": "Attempting to fetch current holdings.", "severity": "INFO"}
2025-05-14 09:25:11,626 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 09:25:11,626 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 09:25:11,626 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 09:25:11,627 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 09:25:11,635 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': 'xLmPYMqnTWNeO8AQnH2qX4vfeDix4nfrEeLhaBo+OLxvnUHjCoH0A++oAnFRyibAtO9feZ78y7jrn7TjLqfNBQ==', 'x-timestamp': '1747232711', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 09:25:11,663 - alt_crypto_data - INFO - Successfully fetched 2281 data points for BTC-USD from yfinance.
2025-05-14 09:25:11,663 - alt_crypto_data - INFO - Successfully fetched data for BTC-USD via yfinance.
2025-05-14 09:25:11,952 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 09:25:11,952 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 14:25:12 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': '007c0bfc-3008-49a9-a72e-c988aa0fb48f', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 12d02771f1a9d72433428b902a68920e.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P6', 'X-Amz-Cf-Id': 'LHRG7L4t4ouKBaFvA_20b7hfJfqv2XZpuoCKbEJDclDjb1Fhnbp8Uw=='}
2025-05-14 09:25:11,952 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 09:25:11,954 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 09:25:11,954 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T14:25:11.954936+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_SUCCESS", "message": "Successfully retrieved and processed 1 holdings.", "severity": "INFO", "details": {"holdings_count": 1, "assets_held": ["BTC"]}}
2025-05-14 09:25:11,955 - alt_crypto_data - INFO - Attempting to fetch data for BTC-USD via yfinance...
2025-05-14 09:25:11,955 - alt_crypto_data - INFO - Fetching price history for BTC-USD from yfinance (Start: 2025-02-08, End: 2025-05-14, Interval: 1h)...
2025-05-14 09:25:12,487 - alt_crypto_data - INFO - Successfully fetched 2281 data points for BTC-USD from yfinance.
2025-05-14 09:25:12,487 - alt_crypto_data - INFO - Successfully fetched data for BTC-USD via yfinance.
2025-05-14 09:25:12,548 - crypto_bot_logger - ERROR - {"timestamp": "2025-05-14T14:25:12.548183+00:00", "source_component": "crypto_bot", "event_type": "NORMALIZATION_STATS_MISSING", "message": "Normalization stats (mean/std) not found for BTC-USD. Defaulting to 'hold'.", "severity": "ERROR", "details": {"symbol": "BTC-USD", "available_stats_keys": ["means", "stds"]}}
2025-05-14 09:25:12,548 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T14:25:12.548626+00:00", "source_component": "crypto_bot", "event_type": "TRADE_EXECUTION_PHASE_START", "message": "Starting trade execution phase based on signals.", "severity": "INFO"}
2025-05-14 09:25:12,548 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T14:25:12.548773+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_COMPLETE", "message": "Trading cycle finished in 2.00 seconds.", "severity": "INFO", "details": {"cycle_duration_seconds": 2.0, "signals_generated": {"BTC-USD": "hold"}, "trades_attempted": 0}}
2025-05-14 09:25:12,561 - crypto_bot_logger - ERROR - {"timestamp": "2025-05-14T14:25:12.561478+00:00", "source_component": "crypto_bot", "event_type": "FEATURE_GENERATION_ERROR", "message": "Error during feature generation for RL agent for BTC-USD: 'RobinhoodCryptoBot' object has no attribute 'current_balance'", "severity": "ERROR", "details": {"symbol": "BTC-USD", "error_message": "'RobinhoodCryptoBot' object has no attribute 'current_balance'", "exc_info": true}}
2025-05-14 09:25:12,561 - crypto_bot_logger - WARNING - {"timestamp": "2025-05-14T14:25:12.561698+00:00", "source_component": "crypto_bot", "event_type": "FEATURE_GENERATION_FAILED", "message": "Could not generate normalized features for BTC-USD. Defaulting to 'hold'.", "severity": "WARNING", "details": {"symbol": "BTC-USD"}}
2025-05-14 09:25:12,561 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T14:25:12.561943+00:00", "source_component": "crypto_bot", "event_type": "TRADE_EXECUTION_PHASE_START", "message": "Starting trade execution phase based on signals.", "severity": "INFO"}
2025-05-14 09:25:12,562 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T14:25:12.562358+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_COMPLETE", "message": "Trading cycle finished in 1.96 seconds.", "severity": "INFO", "details": {"cycle_duration_seconds": 1.96, "signals_generated": {"BTC-USD": "hold"}, "trades_attempted": 0}}
2025-05-14 09:25:12,648 - crypto_bot_logger - ERROR - {"timestamp": "2025-05-14T14:25:12.648158+00:00", "source_component": "crypto_bot", "event_type": "FETCH_OR_SIGNAL_ERROR_IN_CYCLE", "message": "Error during data fetch or signal generation for BTC-USD: _log_structured_event() got an unexpected keyword argument 'symbol'", "severity": "ERROR", "details": {"symbol": "BTC-USD", "error_message": "_log_structured_event() got an unexpected keyword argument 'symbol'"}}
Traceback (most recent call last):
  File "/Users/activate/Dev/robinhood-crypto-bot/crypto_bot.py", line 633, in _get_signal
    for col_name in TECHNICAL_INDICATOR_COLUMNS:
TypeError: _log_structured_event() got an unexpected keyword argument 'symbol'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/activate/Dev/robinhood-crypto-bot/crypto_bot.py", line 1067, in run_trading_cycle
    cycle_start_time = datetime.now()
  File "/Users/activate/Dev/robinhood-crypto-bot/crypto_bot.py", line 709, in _get_signal
    features_df.fillna(method='bfill', inplace=True)
TypeError: _log_structured_event() got an unexpected keyword argument 'symbol'
2025-05-14 09:25:12,649 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T14:25:12.649703+00:00", "source_component": "crypto_bot", "event_type": "TRADE_EXECUTION_PHASE_START", "message": "Starting trade execution phase based on signals.", "severity": "INFO"}
2025-05-14 09:25:12,649 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T14:25:12.649805+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_COMPLETE", "message": "Trading cycle finished in 2.01 seconds.", "severity": "INFO", "details": {"cycle_duration_seconds": 2.01, "signals_generated": {"BTC-USD": "hold"}, "trades_attempted": 0}}
2025-05-14 09:25:13,023 - crypto_bot_logger - ERROR - {"timestamp": "2025-05-14T14:25:13.023477+00:00", "source_component": "crypto_bot", "event_type": "FETCH_OR_SIGNAL_ERROR_IN_CYCLE", "message": "Error during data fetch or signal generation for BTC-USD: _log_structured_event() got an unexpected keyword argument 'symbol'", "severity": "ERROR", "details": {"symbol": "BTC-USD", "error_message": "_log_structured_event() got an unexpected keyword argument 'symbol'"}}
Traceback (most recent call last):
  File "/Users/activate/Dev/robinhood-crypto-bot/crypto_bot.py", line 633, in _get_signal
    for col_name in TECHNICAL_INDICATOR_COLUMNS:
TypeError: _log_structured_event() got an unexpected keyword argument 'symbol'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/activate/Dev/robinhood-crypto-bot/crypto_bot.py", line 1067, in run_trading_cycle
    cycle_start_time = datetime.now()
  File "/Users/activate/Dev/robinhood-crypto-bot/crypto_bot.py", line 709, in _get_signal
    features_df.fillna(method='bfill', inplace=True)
TypeError: _log_structured_event() got an unexpected keyword argument 'symbol'
2025-05-14 09:25:13,025 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T14:25:13.025753+00:00", "source_component": "crypto_bot", "event_type": "TRADE_EXECUTION_PHASE_START", "message": "Starting trade execution phase based on signals.", "severity": "INFO"}
2025-05-14 09:25:13,025 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T14:25:13.025834+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_COMPLETE", "message": "Trading cycle finished in 1.40 seconds.", "severity": "INFO", "details": {"cycle_duration_seconds": 1.4, "signals_generated": {"BTC-USD": "hold"}, "trades_attempted": 0}}
2025-05-14 09:25:24,091 - root - INFO - Starting new trading cycle...
2025-05-14 09:25:24,092 - root - INFO - Fetching current holdings via broker client...
2025-05-14 09:25:24,092 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 09:25:24,092 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 09:25:24,092 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 09:25:24,092 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 09:25:24,092 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': 'D9B/HvBEliGDedgA9bhScmP+We5qPAO69dpEGytaEQmdfTyyWHuBN68yQPv1Wh3nJ3eqNzYrjfbs8HjZLj9eBg==', 'x-timestamp': '1747232724', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 09:25:24,361 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 09:25:24,361 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 14:25:24 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': '2fa0ba96-b731-4123-9b6f-b62d46ea567c', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 343244031758b0b51a24ef2fac7819dc.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P6', 'X-Amz-Cf-Id': 'fXSUs8sS5fhTTeETgnkK4g4X0QW9yYaPvSvm8JwIISQtKSVOaHXvnw=='}
2025-05-14 09:25:24,361 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 09:25:24,363 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 09:25:24,363 - root - INFO - Successfully retrieved 1 holdings: ['BTC']
2025-05-14 09:25:24,363 - alt_crypto_data - INFO - Attempting to fetch data for BTC-USD via yfinance...
2025-05-14 09:25:24,363 - alt_crypto_data - INFO - Fetching price history for BTC-USD from yfinance (Start: 2025-02-08, End: 2025-05-14, Interval: 1h)...
2025-05-14 09:25:24,831 - alt_crypto_data - INFO - Successfully fetched 2281 data points for BTC-USD from yfinance.
2025-05-14 09:25:24,831 - alt_crypto_data - INFO - Successfully fetched data for BTC-USD via yfinance.
2025-05-14 09:25:25,481 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/accounts/
2025-05-14 09:25:25,481 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 09:25:25,482 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 09:25:25,482 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/accounts/
2025-05-14 09:25:25,482 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': 'M+bsdnc+jyeXTJpwye6ROBx2KyJQFO8DdyOtC0cUXOPvs8MoqRXMFV1AdZRgUPuP/UhU6YiRIOU5OHdg0SAbAg==', 'x-timestamp': '1747232725', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 09:25:25,837 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 09:25:25,837 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '106', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 14:25:26 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': '226d652b-c1ca-413d-b2de-8c8e75f9c8e0', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 e807928bf10df259d5d9aa45c69572c8.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P6', 'X-Amz-Cf-Id': 'Uj8UGKEGH_J1bWsteBaFrii3JaNLlLEk_hSBiEbuWG-Tc8e7AbM3NA=='}
2025-05-14 09:25:25,837 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"account_number":"311081964512","status":"active","buying_power":"16.5500","buying_power_currency":"USD"}...
2025-05-14 09:25:25,840 - brokers.robinhood_broker - DEBUG - Raw response from _make_api_request in get_account_info: {'account_number': '311081964512', 'status': 'active', 'buying_power': '16.5500', 'buying_power_currency': 'USD'}
2025-05-14 09:25:25,840 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 09:25:25,840 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 09:25:25,841 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 09:25:25,841 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 09:25:25,841 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': 'ddfYc9hiNxipHcR3OXpri6vdHUfmiACMncd9PGVD3kMBjiJmxxvR2vqrOeZZ98WSvlbsSUSCmNrzAxkCd5FNBw==', 'x-timestamp': '1747232725', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 09:25:26,057 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 09:25:26,058 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 14:25:26 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': '970dc423-e7e0-4b7c-8d5e-1cd066a408e6', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 66ce41ca4aec1a7c795dd9a044c93eb8.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P6', 'X-Amz-Cf-Id': 'CuY0wRxSD3wH8eEzWbpRJEZ2grvJg16UCia69tOO2O1p_IX7MeHKJQ=='}
2025-05-14 09:25:26,058 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 09:25:26,062 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 09:25:26,064 - root - INFO - [BTC-USD] RL agent signal: hold (action_int: 0)
2025-05-14 09:25:26,065 - root - INFO - Trading cycle finished. Signals: {'BTC-USD': 'hold'}
2025-05-14 09:29:49,496 - root - INFO - Bot execution stopped manually.
2025-05-14 09:29:49,500 - root - INFO - Bot execution finished.
2025-05-14 09:30:12,566 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T14:30:12.566089+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_START", "message": "Starting new trading cycle.", "severity": "INFO"}
2025-05-14 09:30:12,566 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T14:30:12.566313+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_ATTEMPT", "message": "Attempting to fetch current holdings.", "severity": "INFO"}
2025-05-14 09:30:12,566 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 09:30:12,566 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 09:30:12,566 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 09:30:12,566 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 09:30:12,566 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': '6tboaN4qHJaW9f+uQzU4rEzmiY2NsDcGngniNAoerBcM+9tD5ZOlDzwpr18agSgSCOHqlqS9lPjvphmnazFwDA==', 'x-timestamp': '1747233012', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 09:30:13,017 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 09:30:13,017 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 14:30:13 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': 'e0a20e4a-b7e3-4a76-bf6b-dd34a2ac4b82', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 595c26368a4c8eede29e4b5da7206efc.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P1', 'X-Amz-Cf-Id': 'tFi50Uro4aM6FTNpWJx3GOk2SAgh7yrwEuuLldnJ7q-IvnV2i7bXCQ=='}
2025-05-14 09:30:13,017 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 09:30:13,018 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 09:30:13,018 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T14:30:13.018524+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_SUCCESS", "message": "Successfully retrieved and processed 1 holdings.", "severity": "INFO", "details": {"holdings_count": 1, "assets_held": ["BTC"]}}
2025-05-14 09:30:13,018 - alt_crypto_data - INFO - Attempting to fetch data for BTC-USD via yfinance...
2025-05-14 09:30:13,018 - alt_crypto_data - INFO - Fetching price history for BTC-USD from yfinance (Start: 2025-02-08, End: 2025-05-14, Interval: 1h)...
2025-05-14 09:30:13,561 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T14:30:13.561800+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_START", "message": "Starting new trading cycle.", "severity": "INFO"}
2025-05-14 09:30:13,562 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T14:30:13.562315+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_ATTEMPT", "message": "Attempting to fetch current holdings.", "severity": "INFO"}
2025-05-14 09:30:13,562 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 09:30:13,562 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 09:30:13,562 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 09:30:13,562 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 09:30:13,563 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': '+IWGXifWUq5dbDwdXI6uQm15d2XGT5fgw7TNgSu7tNc7eYkqbhZxH2LNj09tJSqO26YVaLXdb0ww2cup35BLCw==', 'x-timestamp': '1747233013', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 09:30:13,650 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T14:30:13.650299+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_START", "message": "Starting new trading cycle.", "severity": "INFO"}
2025-05-14 09:30:13,650 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T14:30:13.650626+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_ATTEMPT", "message": "Attempting to fetch current holdings.", "severity": "INFO"}
2025-05-14 09:30:13,650 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 09:30:13,650 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 09:30:13,650 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 09:30:13,651 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 09:30:13,651 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': '+IWGXifWUq5dbDwdXI6uQm15d2XGT5fgw7TNgSu7tNc7eYkqbhZxH2LNj09tJSqO26YVaLXdb0ww2cup35BLCw==', 'x-timestamp': '1747233013', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 09:30:13,759 - alt_crypto_data - INFO - Successfully fetched 2281 data points for BTC-USD from yfinance.
2025-05-14 09:30:13,759 - alt_crypto_data - INFO - Successfully fetched data for BTC-USD via yfinance.
2025-05-14 09:30:13,768 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 09:30:13,768 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 14:30:14 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': '67f278f8-0dff-4a5f-b27e-a00eb11b0785', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 f266ac47d4aee3a84c8fc38a6ef92022.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P1', 'X-Amz-Cf-Id': 'sZ_eojW_GC_Vx9_mgaf4wcFFpp09X451XTgV8XGSq2upJmdTgezsCQ=='}
2025-05-14 09:30:13,768 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 09:30:13,769 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 09:30:13,770 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T14:30:13.769987+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_SUCCESS", "message": "Successfully retrieved and processed 1 holdings.", "severity": "INFO", "details": {"holdings_count": 1, "assets_held": ["BTC"]}}
2025-05-14 09:30:13,770 - alt_crypto_data - INFO - Attempting to fetch data for BTC-USD via yfinance...
2025-05-14 09:30:13,770 - alt_crypto_data - INFO - Fetching price history for BTC-USD from yfinance (Start: 2025-02-08, End: 2025-05-14, Interval: 1h)...
2025-05-14 09:30:13,852 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 09:30:13,852 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 14:30:14 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': 'e905e3b4-bd90-4a94-9616-acfefc06d76b', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 595c26368a4c8eede29e4b5da7206efc.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P1', 'X-Amz-Cf-Id': 'RW4h9NTY2hmoWPqfSI-4p912CLqnbwxRXSgSRZT50G-kV3uZxpdziA=='}
2025-05-14 09:30:13,853 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 09:30:13,857 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 09:30:13,858 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T14:30:13.858102+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_SUCCESS", "message": "Successfully retrieved and processed 1 holdings.", "severity": "INFO", "details": {"holdings_count": 1, "assets_held": ["BTC"]}}
2025-05-14 09:30:13,858 - alt_crypto_data - INFO - Attempting to fetch data for BTC-USD via yfinance...
2025-05-14 09:30:13,858 - alt_crypto_data - INFO - Fetching price history for BTC-USD from yfinance (Start: 2025-02-08, End: 2025-05-14, Interval: 1h)...
2025-05-14 09:30:13,961 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T14:30:13.961076+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_START", "message": "Starting new trading cycle.", "severity": "INFO"}
2025-05-14 09:30:13,961 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T14:30:13.961309+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_ATTEMPT", "message": "Attempting to fetch current holdings.", "severity": "INFO"}
2025-05-14 09:30:13,961 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 09:30:13,961 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 09:30:13,961 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 09:30:13,961 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 09:30:13,961 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': '+IWGXifWUq5dbDwdXI6uQm15d2XGT5fgw7TNgSu7tNc7eYkqbhZxH2LNj09tJSqO26YVaLXdb0ww2cup35BLCw==', 'x-timestamp': '1747233013', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 09:30:14,150 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 09:30:14,150 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 14:30:14 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': '1376e2ab-e27e-4e98-8553-30afdcf5d1cb', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 603f7fca6e96da4aaee2b5219f231c92.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P1', 'X-Amz-Cf-Id': 'Jxvt4yNtBbuhKuP4iLP12W6HmaI504W-IjF3NJTuyHlVq2CvNZOtFA=='}
2025-05-14 09:30:14,150 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 09:30:14,152 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 09:30:14,152 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T14:30:14.152190+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_SUCCESS", "message": "Successfully retrieved and processed 1 holdings.", "severity": "INFO", "details": {"holdings_count": 1, "assets_held": ["BTC"]}}
2025-05-14 09:30:14,152 - alt_crypto_data - INFO - Attempting to fetch data for BTC-USD via yfinance...
2025-05-14 09:30:14,152 - alt_crypto_data - INFO - Fetching price history for BTC-USD from yfinance (Start: 2025-02-08, End: 2025-05-14, Interval: 1h)...
2025-05-14 09:30:14,259 - alt_crypto_data - INFO - Successfully fetched 2281 data points for BTC-USD from yfinance.
2025-05-14 09:30:14,259 - alt_crypto_data - INFO - Successfully fetched data for BTC-USD via yfinance.
2025-05-14 09:30:14,273 - crypto_bot_logger - ERROR - {"timestamp": "2025-05-14T14:30:14.273528+00:00", "source_component": "crypto_bot", "event_type": "NORMALIZATION_STATS_MISSING", "message": "Normalization stats (mean/std) not found for BTC-USD. Defaulting to 'hold'.", "severity": "ERROR", "details": {"symbol": "BTC-USD", "available_stats_keys": ["means", "stds"]}}
2025-05-14 09:30:14,273 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T14:30:14.273780+00:00", "source_component": "crypto_bot", "event_type": "TRADE_EXECUTION_PHASE_START", "message": "Starting trade execution phase based on signals.", "severity": "INFO"}
2025-05-14 09:30:14,273 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T14:30:14.273852+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_COMPLETE", "message": "Trading cycle finished in 1.71 seconds.", "severity": "INFO", "details": {"cycle_duration_seconds": 1.71, "signals_generated": {"BTC-USD": "hold"}, "trades_attempted": 0}}
2025-05-14 09:30:14,392 - alt_crypto_data - INFO - Successfully fetched 2281 data points for BTC-USD from yfinance.
2025-05-14 09:30:14,392 - alt_crypto_data - INFO - Successfully fetched data for BTC-USD via yfinance.
2025-05-14 09:30:14,542 - alt_crypto_data - INFO - Successfully fetched 2281 data points for BTC-USD from yfinance.
2025-05-14 09:30:14,543 - alt_crypto_data - INFO - Successfully fetched data for BTC-USD via yfinance.
2025-05-14 09:30:15,038 - crypto_bot_logger - ERROR - {"timestamp": "2025-05-14T14:30:15.038259+00:00", "source_component": "crypto_bot", "event_type": "FEATURE_GENERATION_ERROR", "message": "Error during feature generation for RL agent for BTC-USD: 'RobinhoodCryptoBot' object has no attribute 'current_balance'", "severity": "ERROR", "details": {"symbol": "BTC-USD", "error_message": "'RobinhoodCryptoBot' object has no attribute 'current_balance'", "exc_info": true}}
2025-05-14 09:30:15,038 - crypto_bot_logger - WARNING - {"timestamp": "2025-05-14T14:30:15.038480+00:00", "source_component": "crypto_bot", "event_type": "FEATURE_GENERATION_FAILED", "message": "Could not generate normalized features for BTC-USD. Defaulting to 'hold'.", "severity": "WARNING", "details": {"symbol": "BTC-USD"}}
2025-05-14 09:30:15,038 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T14:30:15.038725+00:00", "source_component": "crypto_bot", "event_type": "TRADE_EXECUTION_PHASE_START", "message": "Starting trade execution phase based on signals.", "severity": "INFO"}
2025-05-14 09:30:15,038 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T14:30:15.038833+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_COMPLETE", "message": "Trading cycle finished in 1.48 seconds.", "severity": "INFO", "details": {"cycle_duration_seconds": 1.48, "signals_generated": {"BTC-USD": "hold"}, "trades_attempted": 0}}
2025-05-14 09:30:15,219 - crypto_bot_logger - ERROR - {"timestamp": "2025-05-14T14:30:15.219249+00:00", "source_component": "crypto_bot", "event_type": "FETCH_OR_SIGNAL_ERROR_IN_CYCLE", "message": "Error during data fetch or signal generation for BTC-USD: _log_structured_event() got an unexpected keyword argument 'symbol'", "severity": "ERROR", "details": {"symbol": "BTC-USD", "error_message": "_log_structured_event() got an unexpected keyword argument 'symbol'"}}
Traceback (most recent call last):
  File "/Users/activate/Dev/robinhood-crypto-bot/crypto_bot.py", line 633, in _get_signal
    for col_name in TECHNICAL_INDICATOR_COLUMNS:
TypeError: _log_structured_event() got an unexpected keyword argument 'symbol'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/activate/Dev/robinhood-crypto-bot/crypto_bot.py", line 1067, in run_trading_cycle
    cycle_start_time = datetime.now()
  File "/Users/activate/Dev/robinhood-crypto-bot/crypto_bot.py", line 709, in _get_signal
    features_df.fillna(method='bfill', inplace=True)
TypeError: _log_structured_event() got an unexpected keyword argument 'symbol'
2025-05-14 09:30:15,219 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T14:30:15.219797+00:00", "source_component": "crypto_bot", "event_type": "TRADE_EXECUTION_PHASE_START", "message": "Starting trade execution phase based on signals.", "severity": "INFO"}
2025-05-14 09:30:15,219 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T14:30:15.219943+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_COMPLETE", "message": "Trading cycle finished in 1.57 seconds.", "severity": "INFO", "details": {"cycle_duration_seconds": 1.57, "signals_generated": {"BTC-USD": "hold"}, "trades_attempted": 0}}
2025-05-14 09:30:15,303 - crypto_bot_logger - ERROR - {"timestamp": "2025-05-14T14:30:15.303742+00:00", "source_component": "crypto_bot", "event_type": "FETCH_OR_SIGNAL_ERROR_IN_CYCLE", "message": "Error during data fetch or signal generation for BTC-USD: _log_structured_event() got an unexpected keyword argument 'symbol'", "severity": "ERROR", "details": {"symbol": "BTC-USD", "error_message": "_log_structured_event() got an unexpected keyword argument 'symbol'"}}
Traceback (most recent call last):
  File "/Users/activate/Dev/robinhood-crypto-bot/crypto_bot.py", line 633, in _get_signal
    for col_name in TECHNICAL_INDICATOR_COLUMNS:
TypeError: _log_structured_event() got an unexpected keyword argument 'symbol'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/activate/Dev/robinhood-crypto-bot/crypto_bot.py", line 1067, in run_trading_cycle
    cycle_start_time = datetime.now()
  File "/Users/activate/Dev/robinhood-crypto-bot/crypto_bot.py", line 709, in _get_signal
    features_df.fillna(method='bfill', inplace=True)
TypeError: _log_structured_event() got an unexpected keyword argument 'symbol'
2025-05-14 09:30:15,304 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T14:30:15.304051+00:00", "source_component": "crypto_bot", "event_type": "TRADE_EXECUTION_PHASE_START", "message": "Starting trade execution phase based on signals.", "severity": "INFO"}
2025-05-14 09:30:15,304 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T14:30:15.304148+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_COMPLETE", "message": "Trading cycle finished in 1.34 seconds.", "severity": "INFO", "details": {"cycle_duration_seconds": 1.34, "signals_generated": {"BTC-USD": "hold"}, "trades_attempted": 0}}
2025-05-14 09:32:42,132 - root - INFO - Bot execution stopped manually.
2025-05-14 09:32:42,134 - root - INFO - Bot execution finished.
2025-05-14 09:35:14,293 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T14:35:14.293369+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_START", "message": "Starting new trading cycle.", "severity": "INFO"}
2025-05-14 09:35:14,295 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T14:35:14.295913+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_ATTEMPT", "message": "Attempting to fetch current holdings.", "severity": "INFO"}
2025-05-14 09:35:14,296 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 09:35:14,296 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 09:35:14,297 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 09:35:14,297 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 09:35:14,297 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': '3BtX//KXN2R6RFlOFW2Y3i6pARypPWRVyn9CKistkQpxn+kjEMLxZKF1b2vsvXfs8oGu0K56FY/+9aGIewlDBA==', 'x-timestamp': '1747233314', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 09:35:14,700 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 09:35:14,701 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 14:35:14 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': 'd79c2d65-0659-471d-a0bc-05c1b2d22856', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 a3ac013713abb0620a70d126b57a58c2.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P8', 'X-Amz-Cf-Id': 'QfcinEM3WghRJDwQaM1Ht3tZ8-cu_5-uvmtNcI6BzSh7qw-r5H_9dA=='}
2025-05-14 09:35:14,701 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 09:35:14,706 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 09:35:14,706 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T14:35:14.706229+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_SUCCESS", "message": "Successfully retrieved and processed 1 holdings.", "severity": "INFO", "details": {"holdings_count": 1, "assets_held": ["BTC"]}}
2025-05-14 09:35:14,706 - alt_crypto_data - INFO - Attempting to fetch data for BTC-USD via yfinance...
2025-05-14 09:35:14,707 - alt_crypto_data - INFO - Fetching price history for BTC-USD from yfinance (Start: 2025-02-08, End: 2025-05-14, Interval: 1h)...
2025-05-14 09:35:15,378 - alt_crypto_data - INFO - Successfully fetched 2281 data points for BTC-USD from yfinance.
2025-05-14 09:35:15,379 - alt_crypto_data - INFO - Successfully fetched data for BTC-USD via yfinance.
2025-05-14 09:35:15,932 - crypto_bot_logger - ERROR - {"timestamp": "2025-05-14T14:35:15.931983+00:00", "source_component": "crypto_bot", "event_type": "NORMALIZATION_STATS_MISSING", "message": "Normalization stats (mean/std) not found for BTC-USD. Defaulting to 'hold'.", "severity": "ERROR", "details": {"symbol": "BTC-USD", "available_stats_keys": ["means", "stds"]}}
2025-05-14 09:35:15,932 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T14:35:15.932232+00:00", "source_component": "crypto_bot", "event_type": "TRADE_EXECUTION_PHASE_START", "message": "Starting trade execution phase based on signals.", "severity": "INFO"}
2025-05-14 09:35:15,932 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T14:35:15.932298+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_COMPLETE", "message": "Trading cycle finished in 1.64 seconds.", "severity": "INFO", "details": {"cycle_duration_seconds": 1.64, "signals_generated": {"BTC-USD": "hold"}, "trades_attempted": 0}}
2025-05-14 09:35:16,011 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T14:35:16.011100+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_START", "message": "Starting new trading cycle.", "severity": "INFO"}
2025-05-14 09:35:16,011 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T14:35:16.011382+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_ATTEMPT", "message": "Attempting to fetch current holdings.", "severity": "INFO"}
2025-05-14 09:35:16,011 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 09:35:16,011 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 09:35:16,011 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 09:35:16,011 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 09:35:16,011 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': 'hzY4bfIWIOg0uBqhwpCa3yNdy5DwHgUtUhQ8YpOzZ4gl4uyH5SA0fRCYO3lqpkXBFIK7q6JBbet/RXJQjollAA==', 'x-timestamp': '1747233316', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 09:35:16,215 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T14:35:16.215038+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_START", "message": "Starting new trading cycle.", "severity": "INFO"}
2025-05-14 09:35:16,216 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T14:35:16.216414+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_ATTEMPT", "message": "Attempting to fetch current holdings.", "severity": "INFO"}
2025-05-14 09:35:16,216 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 09:35:16,216 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 09:35:16,217 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 09:35:16,217 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 09:35:16,217 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': 'hzY4bfIWIOg0uBqhwpCa3yNdy5DwHgUtUhQ8YpOzZ4gl4uyH5SA0fRCYO3lqpkXBFIK7q6JBbet/RXJQjollAA==', 'x-timestamp': '1747233316', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 09:35:16,229 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 09:35:16,230 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 14:35:16 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': 'b6dcd297-51dd-4fea-8c58-c7aeee0df9c7', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 cac3def42d53379a39340cb15c298484.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P8', 'X-Amz-Cf-Id': 'RFB4Q04b6nLAglHk1Qa-ZKahQXqo2g9RxZ8Nt8mPfUgmtw3tDnu3Pg=='}
2025-05-14 09:35:16,230 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 09:35:16,232 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 09:35:16,233 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T14:35:16.232927+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_SUCCESS", "message": "Successfully retrieved and processed 1 holdings.", "severity": "INFO", "details": {"holdings_count": 1, "assets_held": ["BTC"]}}
2025-05-14 09:35:16,233 - alt_crypto_data - INFO - Attempting to fetch data for BTC-USD via yfinance...
2025-05-14 09:35:16,233 - alt_crypto_data - INFO - Fetching price history for BTC-USD from yfinance (Start: 2025-02-08, End: 2025-05-14, Interval: 1h)...
2025-05-14 09:35:16,430 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 09:35:16,431 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 14:35:16 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': 'ab2759bf-9418-469e-a259-3da615e43164', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 58ef56f6567cd18f764dce7417d2a51e.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P8', 'X-Amz-Cf-Id': 'qEHvJjKWskSlZbZZnVcgrmn563iGxf_TdNbsxZbT4J7zeiKU-2w77Q=='}
2025-05-14 09:35:16,431 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 09:35:16,435 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 09:35:16,436 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T14:35:16.435996+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_SUCCESS", "message": "Successfully retrieved and processed 1 holdings.", "severity": "INFO", "details": {"holdings_count": 1, "assets_held": ["BTC"]}}
2025-05-14 09:35:16,436 - alt_crypto_data - INFO - Attempting to fetch data for BTC-USD via yfinance...
2025-05-14 09:35:16,436 - alt_crypto_data - INFO - Fetching price history for BTC-USD from yfinance (Start: 2025-02-08, End: 2025-05-14, Interval: 1h)...
2025-05-14 09:35:16,793 - alt_crypto_data - INFO - Successfully fetched 2281 data points for BTC-USD from yfinance.
2025-05-14 09:35:16,794 - alt_crypto_data - INFO - Successfully fetched data for BTC-USD via yfinance.
2025-05-14 09:35:16,795 - alt_crypto_data - INFO - Successfully fetched 2281 data points for BTC-USD from yfinance.
2025-05-14 09:35:16,795 - alt_crypto_data - INFO - Successfully fetched data for BTC-USD via yfinance.
2025-05-14 09:35:17,418 - crypto_bot_logger - ERROR - {"timestamp": "2025-05-14T14:35:17.418483+00:00", "source_component": "crypto_bot", "event_type": "FETCH_OR_SIGNAL_ERROR_IN_CYCLE", "message": "Error during data fetch or signal generation for BTC-USD: _log_structured_event() got an unexpected keyword argument 'symbol'", "severity": "ERROR", "details": {"symbol": "BTC-USD", "error_message": "_log_structured_event() got an unexpected keyword argument 'symbol'"}}
Traceback (most recent call last):
  File "/Users/activate/Dev/robinhood-crypto-bot/crypto_bot.py", line 633, in _get_signal
    for col_name in TECHNICAL_INDICATOR_COLUMNS:
TypeError: _log_structured_event() got an unexpected keyword argument 'symbol'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/activate/Dev/robinhood-crypto-bot/crypto_bot.py", line 1067, in run_trading_cycle
    cycle_start_time = datetime.now()
  File "/Users/activate/Dev/robinhood-crypto-bot/crypto_bot.py", line 709, in _get_signal
    features_df.fillna(method='bfill', inplace=True)
TypeError: _log_structured_event() got an unexpected keyword argument 'symbol'
2025-05-14 09:35:17,418 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T14:35:17.418764+00:00", "source_component": "crypto_bot", "event_type": "TRADE_EXECUTION_PHASE_START", "message": "Starting trade execution phase based on signals.", "severity": "INFO"}
2025-05-14 09:35:17,418 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T14:35:17.418880+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_COMPLETE", "message": "Trading cycle finished in 1.20 seconds.", "severity": "INFO", "details": {"cycle_duration_seconds": 1.2, "signals_generated": {"BTC-USD": "hold"}, "trades_attempted": 0}}
2025-05-14 09:35:17,425 - crypto_bot_logger - ERROR - {"timestamp": "2025-05-14T14:35:17.424998+00:00", "source_component": "crypto_bot", "event_type": "FEATURE_GENERATION_ERROR", "message": "Error during feature generation for RL agent for BTC-USD: 'RobinhoodCryptoBot' object has no attribute 'current_balance'", "severity": "ERROR", "details": {"symbol": "BTC-USD", "error_message": "'RobinhoodCryptoBot' object has no attribute 'current_balance'", "exc_info": true}}
2025-05-14 09:35:17,425 - crypto_bot_logger - WARNING - {"timestamp": "2025-05-14T14:35:17.425161+00:00", "source_component": "crypto_bot", "event_type": "FEATURE_GENERATION_FAILED", "message": "Could not generate normalized features for BTC-USD. Defaulting to 'hold'.", "severity": "WARNING", "details": {"symbol": "BTC-USD"}}
2025-05-14 09:35:17,425 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T14:35:17.425292+00:00", "source_component": "crypto_bot", "event_type": "TRADE_EXECUTION_PHASE_START", "message": "Starting trade execution phase based on signals.", "severity": "INFO"}
2025-05-14 09:35:17,425 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T14:35:17.425350+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_COMPLETE", "message": "Trading cycle finished in 1.41 seconds.", "severity": "INFO", "details": {"cycle_duration_seconds": 1.41, "signals_generated": {"BTC-USD": "hold"}, "trades_attempted": 0}}
2025-05-14 09:40:15,952 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T14:40:15.952549+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_START", "message": "Starting new trading cycle.", "severity": "INFO"}
2025-05-14 09:40:15,954 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T14:40:15.954376+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_ATTEMPT", "message": "Attempting to fetch current holdings.", "severity": "INFO"}
2025-05-14 09:40:15,954 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 09:40:15,954 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 09:40:15,955 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 09:40:15,955 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 09:40:15,955 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': 'Un9ov/4uq2eA/vQRCKjRLWcGs7CRhtjs4QrxfwpROOATV8bwoBxuMsPyMR23oQGuPfWC8aWzKOrPcPQf4zR1AA==', 'x-timestamp': '1747233615', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 09:40:16,369 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 09:40:16,370 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 14:40:16 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': '1e0a2d92-17d2-4332-aa58-5361108f600c', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 3ee33f3f5dc316a655c4e9a665ccee16.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD51-P2', 'X-Amz-Cf-Id': 'g_Luqz7Xg8FfyWjXoxqcQEmjcyadABaqKy4SypE0kPN-BKutbURTcA=='}
2025-05-14 09:40:16,371 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 09:40:16,375 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 09:40:16,375 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T14:40:16.375517+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_SUCCESS", "message": "Successfully retrieved and processed 1 holdings.", "severity": "INFO", "details": {"holdings_count": 1, "assets_held": ["BTC"]}}
2025-05-14 09:40:16,375 - alt_crypto_data - INFO - Attempting to fetch data for BTC-USD via yfinance...
2025-05-14 09:40:16,376 - alt_crypto_data - INFO - Fetching price history for BTC-USD from yfinance (Start: 2025-02-08, End: 2025-05-14, Interval: 1h)...
2025-05-14 09:40:17,083 - alt_crypto_data - INFO - Successfully fetched 2281 data points for BTC-USD from yfinance.
2025-05-14 09:40:17,083 - alt_crypto_data - INFO - Successfully fetched data for BTC-USD via yfinance.
2025-05-14 09:40:17,575 - crypto_bot_logger - ERROR - {"timestamp": "2025-05-14T14:40:17.575646+00:00", "source_component": "crypto_bot", "event_type": "NORMALIZATION_STATS_MISSING", "message": "Normalization stats (mean/std) not found for BTC-USD. Defaulting to 'hold'.", "severity": "ERROR", "details": {"symbol": "BTC-USD", "available_stats_keys": ["means", "stds"]}}
2025-05-14 09:40:17,575 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T14:40:17.575892+00:00", "source_component": "crypto_bot", "event_type": "TRADE_EXECUTION_PHASE_START", "message": "Starting trade execution phase based on signals.", "severity": "INFO"}
2025-05-14 09:40:17,575 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T14:40:17.575957+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_COMPLETE", "message": "Trading cycle finished in 1.62 seconds.", "severity": "INFO", "details": {"cycle_duration_seconds": 1.62, "signals_generated": {"BTC-USD": "hold"}, "trades_attempted": 0}}
2025-05-14 09:40:18,399 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T14:40:18.399929+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_START", "message": "Starting new trading cycle.", "severity": "INFO"}
2025-05-14 09:40:18,400 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T14:40:18.400180+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_ATTEMPT", "message": "Attempting to fetch current holdings.", "severity": "INFO"}
2025-05-14 09:40:18,400 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 09:40:18,400 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 09:40:18,400 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 09:40:18,400 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 09:40:18,400 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': 'Zx7cUGlfOT56bKGempDsG/gwfnWIPWyp02UmxfudhKib6QpsVOaLB9h6Q369nTfI1fD1FoQzdMNB+agQ4wZNAQ==', 'x-timestamp': '1747233618', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 09:40:18,405 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T14:40:18.405615+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_START", "message": "Starting new trading cycle.", "severity": "INFO"}
2025-05-14 09:40:18,405 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T14:40:18.405848+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_ATTEMPT", "message": "Attempting to fetch current holdings.", "severity": "INFO"}
2025-05-14 09:40:18,405 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 09:40:18,405 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 09:40:18,406 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 09:40:18,406 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 09:40:18,406 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': 'Zx7cUGlfOT56bKGempDsG/gwfnWIPWyp02UmxfudhKib6QpsVOaLB9h6Q369nTfI1fD1FoQzdMNB+agQ4wZNAQ==', 'x-timestamp': '1747233618', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 09:40:18,581 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 09:40:18,581 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 14:40:18 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': '1a25f188-f6f7-4eba-abef-99c8284cc5b5', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 c6ff95a2aac764a075e7da8c19711e50.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD51-P2', 'X-Amz-Cf-Id': '8VU5rj6_71PtzFpQpbx5gud7tQ57lIGbsV2ytl3jGRVJNiAJpMbFqw=='}
2025-05-14 09:40:18,581 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 09:40:18,582 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 09:40:18,582 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T14:40:18.582476+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_SUCCESS", "message": "Successfully retrieved and processed 1 holdings.", "severity": "INFO", "details": {"holdings_count": 1, "assets_held": ["BTC"]}}
2025-05-14 09:40:18,582 - alt_crypto_data - INFO - Attempting to fetch data for BTC-USD via yfinance...
2025-05-14 09:40:18,582 - alt_crypto_data - INFO - Fetching price history for BTC-USD from yfinance (Start: 2025-02-08, End: 2025-05-14, Interval: 1h)...
2025-05-14 09:40:18,596 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 09:40:18,597 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 14:40:18 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': '982b66ee-440b-4b76-bffd-b6a65ed1cddb', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 8d4171067b8ba9834153dcfabac4adce.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD51-P2', 'X-Amz-Cf-Id': '_7s7HGMEUegsSKzOruudIdB_-TQ49QBzOT9c8utg6eKdFZbtJxoI8Q=='}
2025-05-14 09:40:18,598 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 09:40:18,625 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 09:40:18,625 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T14:40:18.625389+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_SUCCESS", "message": "Successfully retrieved and processed 1 holdings.", "severity": "INFO", "details": {"holdings_count": 1, "assets_held": ["BTC"]}}
2025-05-14 09:40:18,625 - alt_crypto_data - INFO - Attempting to fetch data for BTC-USD via yfinance...
2025-05-14 09:40:18,625 - alt_crypto_data - INFO - Fetching price history for BTC-USD from yfinance (Start: 2025-02-08, End: 2025-05-14, Interval: 1h)...
2025-05-14 09:40:18,988 - alt_crypto_data - INFO - Successfully fetched 2281 data points for BTC-USD from yfinance.
2025-05-14 09:40:18,988 - alt_crypto_data - INFO - Successfully fetched data for BTC-USD via yfinance.
2025-05-14 09:40:19,162 - alt_crypto_data - INFO - Successfully fetched 2281 data points for BTC-USD from yfinance.
2025-05-14 09:40:19,162 - alt_crypto_data - INFO - Successfully fetched data for BTC-USD via yfinance.
2025-05-14 09:40:19,693 - crypto_bot_logger - ERROR - {"timestamp": "2025-05-14T14:40:19.693170+00:00", "source_component": "crypto_bot", "event_type": "FETCH_OR_SIGNAL_ERROR_IN_CYCLE", "message": "Error during data fetch or signal generation for BTC-USD: _log_structured_event() got an unexpected keyword argument 'symbol'", "severity": "ERROR", "details": {"symbol": "BTC-USD", "error_message": "_log_structured_event() got an unexpected keyword argument 'symbol'"}}
Traceback (most recent call last):
  File "/Users/activate/Dev/robinhood-crypto-bot/crypto_bot.py", line 633, in _get_signal
    for col_name in TECHNICAL_INDICATOR_COLUMNS:
TypeError: _log_structured_event() got an unexpected keyword argument 'symbol'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/activate/Dev/robinhood-crypto-bot/crypto_bot.py", line 1067, in run_trading_cycle
    cycle_start_time = datetime.now()
  File "/Users/activate/Dev/robinhood-crypto-bot/crypto_bot.py", line 709, in _get_signal
    features_df.fillna(method='bfill', inplace=True)
TypeError: _log_structured_event() got an unexpected keyword argument 'symbol'
2025-05-14 09:40:19,693 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T14:40:19.693718+00:00", "source_component": "crypto_bot", "event_type": "TRADE_EXECUTION_PHASE_START", "message": "Starting trade execution phase based on signals.", "severity": "INFO"}
2025-05-14 09:40:19,693 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T14:40:19.693874+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_COMPLETE", "message": "Trading cycle finished in 1.29 seconds.", "severity": "INFO", "details": {"cycle_duration_seconds": 1.29, "signals_generated": {"BTC-USD": "hold"}, "trades_attempted": 0}}
2025-05-14 09:40:19,896 - crypto_bot_logger - ERROR - {"timestamp": "2025-05-14T14:40:19.896253+00:00", "source_component": "crypto_bot", "event_type": "FEATURE_GENERATION_ERROR", "message": "Error during feature generation for RL agent for BTC-USD: 'RobinhoodCryptoBot' object has no attribute 'current_balance'", "severity": "ERROR", "details": {"symbol": "BTC-USD", "error_message": "'RobinhoodCryptoBot' object has no attribute 'current_balance'", "exc_info": true}}
2025-05-14 09:40:19,896 - crypto_bot_logger - WARNING - {"timestamp": "2025-05-14T14:40:19.896438+00:00", "source_component": "crypto_bot", "event_type": "FEATURE_GENERATION_FAILED", "message": "Could not generate normalized features for BTC-USD. Defaulting to 'hold'.", "severity": "WARNING", "details": {"symbol": "BTC-USD"}}
2025-05-14 09:40:19,896 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T14:40:19.896562+00:00", "source_component": "crypto_bot", "event_type": "TRADE_EXECUTION_PHASE_START", "message": "Starting trade execution phase based on signals.", "severity": "INFO"}
2025-05-14 09:40:19,896 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T14:40:19.896632+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_COMPLETE", "message": "Trading cycle finished in 1.50 seconds.", "severity": "INFO", "details": {"cycle_duration_seconds": 1.5, "signals_generated": {"BTC-USD": "hold"}, "trades_attempted": 0}}
2025-05-14 09:45:17,591 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T14:45:17.591008+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_START", "message": "Starting new trading cycle.", "severity": "INFO"}
2025-05-14 09:45:17,591 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T14:45:17.591532+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_ATTEMPT", "message": "Attempting to fetch current holdings.", "severity": "INFO"}
2025-05-14 09:45:17,591 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 09:45:17,591 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 09:45:17,591 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 09:45:17,591 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 09:45:17,591 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': 'QU/ibXOCvf9lIKW1pA8DHiW09FEWMOrqMiuoKXofbqn0KmHD0CeATdgM+bxYta5mQbDubeuDMLCMjh0zNv/iBA==', 'x-timestamp': '1747233917', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 09:45:17,977 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 09:45:17,977 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 14:45:18 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': 'f01d6121-e27f-4374-9f36-429391fec0dc', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 0835ebd52ef8594cd8aa4dac9cfbd9a8.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P1', 'X-Amz-Cf-Id': 'YzOi4FGYEeQje4kg7Ohdu1qVqe4_xcuNhKtQVtsezC0uK-sdjk_osQ=='}
2025-05-14 09:45:17,977 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 09:45:17,978 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 09:45:17,978 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T14:45:17.978639+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_SUCCESS", "message": "Successfully retrieved and processed 1 holdings.", "severity": "INFO", "details": {"holdings_count": 1, "assets_held": ["BTC"]}}
2025-05-14 09:45:17,978 - alt_crypto_data - INFO - Attempting to fetch data for BTC-USD via yfinance...
2025-05-14 09:45:17,978 - alt_crypto_data - INFO - Fetching price history for BTC-USD from yfinance (Start: 2025-02-08, End: 2025-05-14, Interval: 1h)...
2025-05-14 09:45:18,544 - alt_crypto_data - INFO - Successfully fetched 2281 data points for BTC-USD from yfinance.
2025-05-14 09:45:18,544 - alt_crypto_data - INFO - Successfully fetched data for BTC-USD via yfinance.
2025-05-14 09:45:19,043 - crypto_bot_logger - ERROR - {"timestamp": "2025-05-14T14:45:19.043132+00:00", "source_component": "crypto_bot", "event_type": "NORMALIZATION_STATS_MISSING", "message": "Normalization stats (mean/std) not found for BTC-USD. Defaulting to 'hold'.", "severity": "ERROR", "details": {"symbol": "BTC-USD", "available_stats_keys": ["means", "stds"]}}
2025-05-14 09:45:19,043 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T14:45:19.043345+00:00", "source_component": "crypto_bot", "event_type": "TRADE_EXECUTION_PHASE_START", "message": "Starting trade execution phase based on signals.", "severity": "INFO"}
2025-05-14 09:45:19,043 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T14:45:19.043411+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_COMPLETE", "message": "Trading cycle finished in 1.45 seconds.", "severity": "INFO", "details": {"cycle_duration_seconds": 1.45, "signals_generated": {"BTC-USD": "hold"}, "trades_attempted": 0}}
2025-05-14 09:45:19,698 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T14:45:19.698704+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_START", "message": "Starting new trading cycle.", "severity": "INFO"}
2025-05-14 09:45:19,698 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T14:45:19.698963+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_ATTEMPT", "message": "Attempting to fetch current holdings.", "severity": "INFO"}
2025-05-14 09:45:19,699 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 09:45:19,699 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 09:45:19,699 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 09:45:19,699 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 09:45:19,699 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': 'RQJEvKSW3tFoY0VQoMXEe+1NPHHV43OCTaYigAzdFWWsYMioneqNXbHeuX7AZQrR/TGMWfDbFwqhzrLYTVnODQ==', 'x-timestamp': '1747233919', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 09:45:19,877 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 09:45:19,877 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 14:45:20 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': 'b42b6326-0d1d-491f-97f2-02593773ea6e', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 471c951325b4c2c11c6c583a1d28e92a.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P1', 'X-Amz-Cf-Id': 'z1F8BsWLt3TaK9cqGOiiCdZs5V8oNUNIeDk2GH3Llv_MOF5yDM1u5g=='}
2025-05-14 09:45:19,877 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 09:45:19,878 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 09:45:19,878 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T14:45:19.878483+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_SUCCESS", "message": "Successfully retrieved and processed 1 holdings.", "severity": "INFO", "details": {"holdings_count": 1, "assets_held": ["BTC"]}}
2025-05-14 09:45:19,878 - alt_crypto_data - INFO - Attempting to fetch data for BTC-USD via yfinance...
2025-05-14 09:45:19,878 - alt_crypto_data - INFO - Fetching price history for BTC-USD from yfinance (Start: 2025-02-08, End: 2025-05-14, Interval: 1h)...
2025-05-14 09:45:19,954 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T14:45:19.954882+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_START", "message": "Starting new trading cycle.", "severity": "INFO"}
2025-05-14 09:45:19,955 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T14:45:19.955122+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_ATTEMPT", "message": "Attempting to fetch current holdings.", "severity": "INFO"}
2025-05-14 09:45:19,955 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 09:45:19,955 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 09:45:19,955 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 09:45:19,955 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 09:45:19,955 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': 'RQJEvKSW3tFoY0VQoMXEe+1NPHHV43OCTaYigAzdFWWsYMioneqNXbHeuX7AZQrR/TGMWfDbFwqhzrLYTVnODQ==', 'x-timestamp': '1747233919', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 09:45:20,222 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 09:45:20,222 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 14:45:20 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': '148b54c6-e11b-4d3c-bc3e-4682d0d84ddb', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 471c951325b4c2c11c6c583a1d28e92a.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P1', 'X-Amz-Cf-Id': 'H3j1Xoh_3dM22JQmyIgrbQDSbVgRkBHhl8L4z9nLZF0ZKlPtDcfVyw=='}
2025-05-14 09:45:20,222 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 09:45:20,223 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 09:45:20,223 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T14:45:20.223794+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_SUCCESS", "message": "Successfully retrieved and processed 1 holdings.", "severity": "INFO", "details": {"holdings_count": 1, "assets_held": ["BTC"]}}
2025-05-14 09:45:20,223 - alt_crypto_data - INFO - Attempting to fetch data for BTC-USD via yfinance...
2025-05-14 09:45:20,224 - alt_crypto_data - INFO - Fetching price history for BTC-USD from yfinance (Start: 2025-02-08, End: 2025-05-14, Interval: 1h)...
2025-05-14 09:45:20,447 - alt_crypto_data - INFO - Successfully fetched 2281 data points for BTC-USD from yfinance.
2025-05-14 09:45:20,447 - alt_crypto_data - INFO - Successfully fetched data for BTC-USD via yfinance.
2025-05-14 09:45:20,773 - alt_crypto_data - INFO - Successfully fetched 2281 data points for BTC-USD from yfinance.
2025-05-14 09:45:20,773 - alt_crypto_data - INFO - Successfully fetched data for BTC-USD via yfinance.
2025-05-14 09:45:21,018 - crypto_bot_logger - ERROR - {"timestamp": "2025-05-14T14:45:21.018328+00:00", "source_component": "crypto_bot", "event_type": "FETCH_OR_SIGNAL_ERROR_IN_CYCLE", "message": "Error during data fetch or signal generation for BTC-USD: _log_structured_event() got an unexpected keyword argument 'symbol'", "severity": "ERROR", "details": {"symbol": "BTC-USD", "error_message": "_log_structured_event() got an unexpected keyword argument 'symbol'"}}
Traceback (most recent call last):
  File "/Users/activate/Dev/robinhood-crypto-bot/crypto_bot.py", line 633, in _get_signal
    for col_name in TECHNICAL_INDICATOR_COLUMNS:
TypeError: _log_structured_event() got an unexpected keyword argument 'symbol'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/activate/Dev/robinhood-crypto-bot/crypto_bot.py", line 1067, in run_trading_cycle
    cycle_start_time = datetime.now()
  File "/Users/activate/Dev/robinhood-crypto-bot/crypto_bot.py", line 709, in _get_signal
    features_df.fillna(method='bfill', inplace=True)
TypeError: _log_structured_event() got an unexpected keyword argument 'symbol'
2025-05-14 09:45:21,018 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T14:45:21.018676+00:00", "source_component": "crypto_bot", "event_type": "TRADE_EXECUTION_PHASE_START", "message": "Starting trade execution phase based on signals.", "severity": "INFO"}
2025-05-14 09:45:21,018 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T14:45:21.018782+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_COMPLETE", "message": "Trading cycle finished in 1.32 seconds.", "severity": "INFO", "details": {"cycle_duration_seconds": 1.32, "signals_generated": {"BTC-USD": "hold"}, "trades_attempted": 0}}
2025-05-14 09:45:21,350 - crypto_bot_logger - ERROR - {"timestamp": "2025-05-14T14:45:21.350751+00:00", "source_component": "crypto_bot", "event_type": "FEATURE_GENERATION_ERROR", "message": "Error during feature generation for RL agent for BTC-USD: 'RobinhoodCryptoBot' object has no attribute 'current_balance'", "severity": "ERROR", "details": {"symbol": "BTC-USD", "error_message": "'RobinhoodCryptoBot' object has no attribute 'current_balance'", "exc_info": true}}
2025-05-14 09:45:21,350 - crypto_bot_logger - WARNING - {"timestamp": "2025-05-14T14:45:21.350932+00:00", "source_component": "crypto_bot", "event_type": "FEATURE_GENERATION_FAILED", "message": "Could not generate normalized features for BTC-USD. Defaulting to 'hold'.", "severity": "WARNING", "details": {"symbol": "BTC-USD"}}
2025-05-14 09:45:21,351 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T14:45:21.351054+00:00", "source_component": "crypto_bot", "event_type": "TRADE_EXECUTION_PHASE_START", "message": "Starting trade execution phase based on signals.", "severity": "INFO"}
2025-05-14 09:45:21,351 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T14:45:21.351116+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_COMPLETE", "message": "Trading cycle finished in 1.40 seconds.", "severity": "INFO", "details": {"cycle_duration_seconds": 1.4, "signals_generated": {"BTC-USD": "hold"}, "trades_attempted": 0}}
2025-05-14 09:50:20,007 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T14:50:20.007853+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_START", "message": "Starting new trading cycle.", "severity": "INFO"}
2025-05-14 09:50:20,008 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T14:50:20.008251+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_ATTEMPT", "message": "Attempting to fetch current holdings.", "severity": "INFO"}
2025-05-14 09:50:20,008 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 09:50:20,008 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 09:50:20,008 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 09:50:20,008 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 09:50:20,008 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': 'xGCDtyJvtYREa6mSM6p1wWf61OZPdGTt5ItVq27svF+lsT+2sB2P10U4NGl6x1PyJLr5fQqpTqaGhSCs9ZsvAw==', 'x-timestamp': '1747234220', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 09:50:20,535 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 09:50:20,535 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 14:50:20 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': 'a1559403-8cec-44a6-8143-697c52b43c61', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 cac3def42d53379a39340cb15c298484.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P8', 'X-Amz-Cf-Id': 'qKwbzQHyHfFsqicS5ZN6AerKEB9wZXa9g5qEFcbRVrjh4n-A8cqUAA=='}
2025-05-14 09:50:20,536 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 09:50:20,536 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 09:50:20,537 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T14:50:20.537000+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_SUCCESS", "message": "Successfully retrieved and processed 1 holdings.", "severity": "INFO", "details": {"holdings_count": 1, "assets_held": ["BTC"]}}
2025-05-14 09:50:20,537 - alt_crypto_data - INFO - Attempting to fetch data for BTC-USD via yfinance...
2025-05-14 09:50:20,537 - alt_crypto_data - INFO - Fetching price history for BTC-USD from yfinance (Start: 2025-02-08, End: 2025-05-14, Interval: 1h)...
2025-05-14 09:50:21,438 - alt_crypto_data - INFO - Successfully fetched 2281 data points for BTC-USD from yfinance.
2025-05-14 09:50:21,438 - alt_crypto_data - INFO - Successfully fetched data for BTC-USD via yfinance.
2025-05-14 09:50:21,978 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T14:50:21.978644+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_START", "message": "Starting new trading cycle.", "severity": "INFO"}
2025-05-14 09:50:21,978 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T14:50:21.978881+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_ATTEMPT", "message": "Attempting to fetch current holdings.", "severity": "INFO"}
2025-05-14 09:50:21,978 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 09:50:21,979 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 09:50:21,979 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 09:50:21,979 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 09:50:21,979 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': 'BCMYZoVKc+c48rkTKSgj+B0Ge9JLsXvpU15D3CZteiPEwCSicjJABLN7t3oUfzBMRARapuJX3IPzZ/++0BnWAg==', 'x-timestamp': '1747234221', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 09:50:22,139 - crypto_bot_logger - ERROR - {"timestamp": "2025-05-14T14:50:22.139464+00:00", "source_component": "crypto_bot", "event_type": "NORMALIZATION_STATS_MISSING", "message": "Normalization stats (mean/std) not found for BTC-USD. Defaulting to 'hold'.", "severity": "ERROR", "details": {"symbol": "BTC-USD", "available_stats_keys": ["means", "stds"]}}
2025-05-14 09:50:22,139 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T14:50:22.139749+00:00", "source_component": "crypto_bot", "event_type": "TRADE_EXECUTION_PHASE_START", "message": "Starting trade execution phase based on signals.", "severity": "INFO"}
2025-05-14 09:50:22,139 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T14:50:22.139815+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_COMPLETE", "message": "Trading cycle finished in 2.13 seconds.", "severity": "INFO", "details": {"cycle_duration_seconds": 2.13, "signals_generated": {"BTC-USD": "hold"}, "trades_attempted": 0}}
2025-05-14 09:50:22,219 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 09:50:22,219 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 14:50:22 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': '928f5fac-82a2-468d-8b04-4246b96868b7', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 3e6fa4c51c089225d6ff04ef2129ffa6.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P8', 'X-Amz-Cf-Id': 'cCDk7JAdb_5psUBnIm-lj12w7ZtRL2ZfpmHEEzXygprnEgE5x5XyyA=='}
2025-05-14 09:50:22,219 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 09:50:22,220 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 09:50:22,220 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T14:50:22.220293+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_SUCCESS", "message": "Successfully retrieved and processed 1 holdings.", "severity": "INFO", "details": {"holdings_count": 1, "assets_held": ["BTC"]}}
2025-05-14 09:50:22,220 - alt_crypto_data - INFO - Attempting to fetch data for BTC-USD via yfinance...
2025-05-14 09:50:22,220 - alt_crypto_data - INFO - Fetching price history for BTC-USD from yfinance (Start: 2025-02-08, End: 2025-05-14, Interval: 1h)...
2025-05-14 09:50:22,301 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T14:50:22.301377+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_START", "message": "Starting new trading cycle.", "severity": "INFO"}
2025-05-14 09:50:22,301 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T14:50:22.301709+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_ATTEMPT", "message": "Attempting to fetch current holdings.", "severity": "INFO"}
2025-05-14 09:50:22,301 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 09:50:22,301 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 09:50:22,301 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 09:50:22,301 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 09:50:22,302 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': 'AB+cnI1VBnWiDt4XszIJzHkz73HokxZOQfs5WkxnviGDBS1IsXhXs5JNhNPy0wPvBd/r1ocq2zkJK7QXLbUkBQ==', 'x-timestamp': '1747234222', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 09:50:22,485 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 09:50:22,485 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 14:50:22 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': '92a0ecdb-b524-45d1-95c5-bf2dca6a68ab', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 815fd01ed73adda083e0a392269e9f40.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P8', 'X-Amz-Cf-Id': 'yXMF0tsa8uMNyO27hY9adUmSL_ZyHK6kxiizq86Gv36kQPiuj5m92A=='}
2025-05-14 09:50:22,485 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 09:50:22,486 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 09:50:22,486 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T14:50:22.486370+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_SUCCESS", "message": "Successfully retrieved and processed 1 holdings.", "severity": "INFO", "details": {"holdings_count": 1, "assets_held": ["BTC"]}}
2025-05-14 09:50:22,486 - alt_crypto_data - INFO - Attempting to fetch data for BTC-USD via yfinance...
2025-05-14 09:50:22,486 - alt_crypto_data - INFO - Fetching price history for BTC-USD from yfinance (Start: 2025-02-08, End: 2025-05-14, Interval: 1h)...
2025-05-14 09:50:22,655 - alt_crypto_data - INFO - Successfully fetched 2281 data points for BTC-USD from yfinance.
2025-05-14 09:50:22,655 - alt_crypto_data - INFO - Successfully fetched data for BTC-USD via yfinance.
2025-05-14 09:50:22,980 - alt_crypto_data - INFO - Successfully fetched 2281 data points for BTC-USD from yfinance.
2025-05-14 09:50:22,981 - alt_crypto_data - INFO - Successfully fetched data for BTC-USD via yfinance.
2025-05-14 09:50:23,515 - crypto_bot_logger - ERROR - {"timestamp": "2025-05-14T14:50:23.515846+00:00", "source_component": "crypto_bot", "event_type": "FETCH_OR_SIGNAL_ERROR_IN_CYCLE", "message": "Error during data fetch or signal generation for BTC-USD: _log_structured_event() got an unexpected keyword argument 'symbol'", "severity": "ERROR", "details": {"symbol": "BTC-USD", "error_message": "_log_structured_event() got an unexpected keyword argument 'symbol'"}}
Traceback (most recent call last):
  File "/Users/activate/Dev/robinhood-crypto-bot/crypto_bot.py", line 633, in _get_signal
    for col_name in TECHNICAL_INDICATOR_COLUMNS:
TypeError: _log_structured_event() got an unexpected keyword argument 'symbol'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/activate/Dev/robinhood-crypto-bot/crypto_bot.py", line 1067, in run_trading_cycle
    cycle_start_time = datetime.now()
  File "/Users/activate/Dev/robinhood-crypto-bot/crypto_bot.py", line 709, in _get_signal
    features_df.fillna(method='bfill', inplace=True)
TypeError: _log_structured_event() got an unexpected keyword argument 'symbol'
2025-05-14 09:50:23,516 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T14:50:23.516311+00:00", "source_component": "crypto_bot", "event_type": "TRADE_EXECUTION_PHASE_START", "message": "Starting trade execution phase based on signals.", "severity": "INFO"}
2025-05-14 09:50:23,516 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T14:50:23.516395+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_COMPLETE", "message": "Trading cycle finished in 1.54 seconds.", "severity": "INFO", "details": {"cycle_duration_seconds": 1.54, "signals_generated": {"BTC-USD": "hold"}, "trades_attempted": 0}}
2025-05-14 09:50:23,892 - crypto_bot_logger - ERROR - {"timestamp": "2025-05-14T14:50:23.892615+00:00", "source_component": "crypto_bot", "event_type": "FEATURE_GENERATION_ERROR", "message": "Error during feature generation for RL agent for BTC-USD: 'RobinhoodCryptoBot' object has no attribute 'current_balance'", "severity": "ERROR", "details": {"symbol": "BTC-USD", "error_message": "'RobinhoodCryptoBot' object has no attribute 'current_balance'", "exc_info": true}}
2025-05-14 09:50:23,892 - crypto_bot_logger - WARNING - {"timestamp": "2025-05-14T14:50:23.892791+00:00", "source_component": "crypto_bot", "event_type": "FEATURE_GENERATION_FAILED", "message": "Could not generate normalized features for BTC-USD. Defaulting to 'hold'.", "severity": "WARNING", "details": {"symbol": "BTC-USD"}}
2025-05-14 09:50:23,892 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T14:50:23.892927+00:00", "source_component": "crypto_bot", "event_type": "TRADE_EXECUTION_PHASE_START", "message": "Starting trade execution phase based on signals.", "severity": "INFO"}
2025-05-14 09:50:23,892 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T14:50:23.892985+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_COMPLETE", "message": "Trading cycle finished in 1.59 seconds.", "severity": "INFO", "details": {"cycle_duration_seconds": 1.59, "signals_generated": {"BTC-USD": "hold"}, "trades_attempted": 0}}
2025-05-14 09:55:23,084 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T14:55:23.084477+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_START", "message": "Starting new trading cycle.", "severity": "INFO"}
2025-05-14 09:55:23,084 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T14:55:23.084952+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_ATTEMPT", "message": "Attempting to fetch current holdings.", "severity": "INFO"}
2025-05-14 09:55:23,085 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 09:55:23,085 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 09:55:23,085 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 09:55:23,085 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 09:55:23,085 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': '263LooaJio84x+iRfCvw2RXDwo/Qcuxpg7m3JUcieVpW1fVUEUQM0BsdKE6ulyqpJbsTrTZxFKbAaorvhuNaBw==', 'x-timestamp': '1747234523', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 09:55:23,586 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 09:55:23,586 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 14:55:23 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': '1ce1cc67-5e6a-41fd-918f-44169901c1a3', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 10e2ea298500a275e093909178c9a022.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD51-P2', 'X-Amz-Cf-Id': '_gxEwWvnNESwdY6OgL4JP9Pm0M0XAWHJ33Z5gZCLldN6mHdtRnxrTg=='}
2025-05-14 09:55:23,586 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 09:55:23,588 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 09:55:23,588 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T14:55:23.588582+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_SUCCESS", "message": "Successfully retrieved and processed 1 holdings.", "severity": "INFO", "details": {"holdings_count": 1, "assets_held": ["BTC"]}}
2025-05-14 09:55:23,588 - alt_crypto_data - INFO - Attempting to fetch data for BTC-USD via yfinance...
2025-05-14 09:55:23,588 - alt_crypto_data - INFO - Fetching price history for BTC-USD from yfinance (Start: 2025-02-08, End: 2025-05-14, Interval: 1h)...
2025-05-14 09:55:24,253 - alt_crypto_data - INFO - Successfully fetched 2281 data points for BTC-USD from yfinance.
2025-05-14 09:55:24,254 - alt_crypto_data - INFO - Successfully fetched data for BTC-USD via yfinance.
2025-05-14 09:55:24,501 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T14:55:24.501087+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_START", "message": "Starting new trading cycle.", "severity": "INFO"}
2025-05-14 09:55:24,501 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T14:55:24.501319+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_ATTEMPT", "message": "Attempting to fetch current holdings.", "severity": "INFO"}
2025-05-14 09:55:24,501 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 09:55:24,501 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 09:55:24,501 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 09:55:24,501 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 09:55:24,501 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': 'mIWayLzTBTy2mefPrsKRKosj1n76FMZBiA6iX0qEdHfzvsVdytGe6r11+5iCEtEfuQF7fZnTBjbbUjkmq7onBg==', 'x-timestamp': '1747234524', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 09:55:24,747 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 09:55:24,747 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 14:55:25 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': 'c0016566-0318-4aa2-9894-0584c3d20b55', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 8068ca25e3f5067c56a8cb8cad19ae12.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD51-P2', 'X-Amz-Cf-Id': '59yiokrrUjAAdQwEAMvIs1UUesXbs4LYvDSwx_vAevyjFfzXCbFoag=='}
2025-05-14 09:55:24,747 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 09:55:24,748 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 09:55:24,748 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T14:55:24.748169+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_SUCCESS", "message": "Successfully retrieved and processed 1 holdings.", "severity": "INFO", "details": {"holdings_count": 1, "assets_held": ["BTC"]}}
2025-05-14 09:55:24,748 - alt_crypto_data - INFO - Attempting to fetch data for BTC-USD via yfinance...
2025-05-14 09:55:24,748 - alt_crypto_data - INFO - Fetching price history for BTC-USD from yfinance (Start: 2025-02-08, End: 2025-05-14, Interval: 1h)...
2025-05-14 09:55:24,813 - crypto_bot_logger - ERROR - {"timestamp": "2025-05-14T14:55:24.813809+00:00", "source_component": "crypto_bot", "event_type": "NORMALIZATION_STATS_MISSING", "message": "Normalization stats (mean/std) not found for BTC-USD. Defaulting to 'hold'.", "severity": "ERROR", "details": {"symbol": "BTC-USD", "available_stats_keys": ["means", "stds"]}}
2025-05-14 09:55:24,814 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T14:55:24.814030+00:00", "source_component": "crypto_bot", "event_type": "TRADE_EXECUTION_PHASE_START", "message": "Starting trade execution phase based on signals.", "severity": "INFO"}
2025-05-14 09:55:24,814 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T14:55:24.814099+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_COMPLETE", "message": "Trading cycle finished in 1.73 seconds.", "severity": "INFO", "details": {"cycle_duration_seconds": 1.73, "signals_generated": {"BTC-USD": "hold"}, "trades_attempted": 0}}
2025-05-14 09:55:24,848 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T14:55:24.847911+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_START", "message": "Starting new trading cycle.", "severity": "INFO"}
2025-05-14 09:55:24,848 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T14:55:24.848227+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_ATTEMPT", "message": "Attempting to fetch current holdings.", "severity": "INFO"}
2025-05-14 09:55:24,848 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 09:55:24,848 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 09:55:24,848 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 09:55:24,848 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 09:55:24,848 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': 'mIWayLzTBTy2mefPrsKRKosj1n76FMZBiA6iX0qEdHfzvsVdytGe6r11+5iCEtEfuQF7fZnTBjbbUjkmq7onBg==', 'x-timestamp': '1747234524', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 09:55:25,028 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 09:55:25,028 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 14:55:25 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': '1db9a559-7ac9-4dbc-be62-969c5eaeb016', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 a7bc8344485537068a2a5c5b0897102c.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD51-P2', 'X-Amz-Cf-Id': 'XyJ2lcZnLCj50wdIaKtaNgX0zy8JqkJZNucm0CMd-PXUYlQPGFNgsw=='}
2025-05-14 09:55:25,028 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 09:55:25,030 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 09:55:25,030 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T14:55:25.030644+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_SUCCESS", "message": "Successfully retrieved and processed 1 holdings.", "severity": "INFO", "details": {"holdings_count": 1, "assets_held": ["BTC"]}}
2025-05-14 09:55:25,030 - alt_crypto_data - INFO - Attempting to fetch data for BTC-USD via yfinance...
2025-05-14 09:55:25,031 - alt_crypto_data - INFO - Fetching price history for BTC-USD from yfinance (Start: 2025-02-08, End: 2025-05-14, Interval: 1h)...
2025-05-14 09:55:25,158 - alt_crypto_data - INFO - Successfully fetched 2281 data points for BTC-USD from yfinance.
2025-05-14 09:55:25,158 - alt_crypto_data - INFO - Successfully fetched data for BTC-USD via yfinance.
2025-05-14 09:55:25,456 - alt_crypto_data - INFO - Successfully fetched 2281 data points for BTC-USD from yfinance.
2025-05-14 09:55:25,456 - alt_crypto_data - INFO - Successfully fetched data for BTC-USD via yfinance.
2025-05-14 09:55:25,786 - crypto_bot_logger - ERROR - {"timestamp": "2025-05-14T14:55:25.786295+00:00", "source_component": "crypto_bot", "event_type": "FETCH_OR_SIGNAL_ERROR_IN_CYCLE", "message": "Error during data fetch or signal generation for BTC-USD: _log_structured_event() got an unexpected keyword argument 'symbol'", "severity": "ERROR", "details": {"symbol": "BTC-USD", "error_message": "_log_structured_event() got an unexpected keyword argument 'symbol'"}}
Traceback (most recent call last):
  File "/Users/activate/Dev/robinhood-crypto-bot/crypto_bot.py", line 633, in _get_signal
    for col_name in TECHNICAL_INDICATOR_COLUMNS:
TypeError: _log_structured_event() got an unexpected keyword argument 'symbol'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/activate/Dev/robinhood-crypto-bot/crypto_bot.py", line 1067, in run_trading_cycle
    cycle_start_time = datetime.now()
  File "/Users/activate/Dev/robinhood-crypto-bot/crypto_bot.py", line 709, in _get_signal
    features_df.fillna(method='bfill', inplace=True)
TypeError: _log_structured_event() got an unexpected keyword argument 'symbol'
2025-05-14 09:55:25,787 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T14:55:25.787048+00:00", "source_component": "crypto_bot", "event_type": "TRADE_EXECUTION_PHASE_START", "message": "Starting trade execution phase based on signals.", "severity": "INFO"}
2025-05-14 09:55:25,787 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T14:55:25.787181+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_COMPLETE", "message": "Trading cycle finished in 1.29 seconds.", "severity": "INFO", "details": {"cycle_duration_seconds": 1.29, "signals_generated": {"BTC-USD": "hold"}, "trades_attempted": 0}}
2025-05-14 09:55:26,112 - crypto_bot_logger - ERROR - {"timestamp": "2025-05-14T14:55:26.112499+00:00", "source_component": "crypto_bot", "event_type": "FEATURE_GENERATION_ERROR", "message": "Error during feature generation for RL agent for BTC-USD: 'RobinhoodCryptoBot' object has no attribute 'current_balance'", "severity": "ERROR", "details": {"symbol": "BTC-USD", "error_message": "'RobinhoodCryptoBot' object has no attribute 'current_balance'", "exc_info": true}}
2025-05-14 09:55:26,112 - crypto_bot_logger - WARNING - {"timestamp": "2025-05-14T14:55:26.112684+00:00", "source_component": "crypto_bot", "event_type": "FEATURE_GENERATION_FAILED", "message": "Could not generate normalized features for BTC-USD. Defaulting to 'hold'.", "severity": "WARNING", "details": {"symbol": "BTC-USD"}}
2025-05-14 09:55:26,112 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T14:55:26.112819+00:00", "source_component": "crypto_bot", "event_type": "TRADE_EXECUTION_PHASE_START", "message": "Starting trade execution phase based on signals.", "severity": "INFO"}
2025-05-14 09:55:26,112 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T14:55:26.112878+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_COMPLETE", "message": "Trading cycle finished in 1.26 seconds.", "severity": "INFO", "details": {"cycle_duration_seconds": 1.26, "signals_generated": {"BTC-USD": "hold"}, "trades_attempted": 0}}
2025-05-14 10:00:25,046 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T15:00:25.045783+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_START", "message": "Starting new trading cycle.", "severity": "INFO"}
2025-05-14 10:00:25,048 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T15:00:25.048280+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_ATTEMPT", "message": "Attempting to fetch current holdings.", "severity": "INFO"}
2025-05-14 10:00:25,048 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 10:00:25,048 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 10:00:25,049 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 10:00:25,049 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 10:00:25,049 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': 'c1At1qWHQvqQDQe7qb5LDevgQvRksZnoD5hkd8uisda7sQ41197fIVd7CfKEk6rXzLHpPk8hYgTdymeh0kPqAQ==', 'x-timestamp': '1747234825', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 10:00:25,430 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 10:00:25,430 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 15:00:25 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': '74eb37f9-d144-4367-aa0a-e7af5bd151e2', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 066b29107ec5a650762489805bcf681a.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P6', 'X-Amz-Cf-Id': 'K5RIt7VD5r5sdvyHCa1q2Ra1JRRGgtbpqG50UaljQWrBTE4LAvXyQg=='}
2025-05-14 10:00:25,430 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 10:00:25,431 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 10:00:25,431 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T15:00:25.431874+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_SUCCESS", "message": "Successfully retrieved and processed 1 holdings.", "severity": "INFO", "details": {"holdings_count": 1, "assets_held": ["BTC"]}}
2025-05-14 10:00:25,432 - alt_crypto_data - INFO - Attempting to fetch data for BTC-USD via yfinance...
2025-05-14 10:00:25,432 - alt_crypto_data - INFO - Fetching price history for BTC-USD from yfinance (Start: 2025-02-08, End: 2025-05-14, Interval: 1h)...
2025-05-14 10:00:26,035 - alt_crypto_data - INFO - Successfully fetched 2280 data points for BTC-USD from yfinance.
2025-05-14 10:00:26,036 - alt_crypto_data - INFO - Successfully fetched data for BTC-USD via yfinance.
2025-05-14 10:00:26,063 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T15:00:26.063042+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_START", "message": "Starting new trading cycle.", "severity": "INFO"}
2025-05-14 10:00:26,063 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T15:00:26.063261+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_ATTEMPT", "message": "Attempting to fetch current holdings.", "severity": "INFO"}
2025-05-14 10:00:26,063 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 10:00:26,063 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 10:00:26,063 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 10:00:26,063 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 10:00:26,063 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': 'L7bR61HwKLLBwZeqo2BZbxTwH78fnuJ3aK7d2Rm/XRE0bJWiLVmnkQfn/neGG3idlDbCE6L1oDqUyLEFiNQADQ==', 'x-timestamp': '1747234826', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 10:00:26,264 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 10:00:26,264 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 15:00:26 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': '5b251f79-60c1-4f24-b72b-92ef66e5cc64', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 3da207b0ae2c7da843e11fefbc9a1d94.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P6', 'X-Amz-Cf-Id': 'hTyDO09qnC_mjkD2uGaHiYVKnQIIjAY2fXOMbUD0GrEj5eAiur7dUg=='}
2025-05-14 10:00:26,264 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 10:00:26,265 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 10:00:26,265 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T15:00:26.265928+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_SUCCESS", "message": "Successfully retrieved and processed 1 holdings.", "severity": "INFO", "details": {"holdings_count": 1, "assets_held": ["BTC"]}}
2025-05-14 10:00:26,266 - alt_crypto_data - INFO - Attempting to fetch data for BTC-USD via yfinance...
2025-05-14 10:00:26,266 - alt_crypto_data - INFO - Fetching price history for BTC-USD from yfinance (Start: 2025-02-08, End: 2025-05-14, Interval: 1h)...
2025-05-14 10:00:26,370 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T15:00:26.370593+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_START", "message": "Starting new trading cycle.", "severity": "INFO"}
2025-05-14 10:00:26,370 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T15:00:26.370788+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_ATTEMPT", "message": "Attempting to fetch current holdings.", "severity": "INFO"}
2025-05-14 10:00:26,370 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 10:00:26,370 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 10:00:26,371 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 10:00:26,371 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 10:00:26,371 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': 'L7bR61HwKLLBwZeqo2BZbxTwH78fnuJ3aK7d2Rm/XRE0bJWiLVmnkQfn/neGG3idlDbCE6L1oDqUyLEFiNQADQ==', 'x-timestamp': '1747234826', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 10:00:26,591 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 10:00:26,591 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 15:00:26 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': '78a3a185-329d-4be1-a353-cbd9cabeba62', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 12d02771f1a9d72433428b902a68920e.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P6', 'X-Amz-Cf-Id': 'bPdnHG7p5Ee9dO5nY3kVIJJp7WTvbQqiqdHJH4LRlN0Zs3Sw72b3Tw=='}
2025-05-14 10:00:26,591 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 10:00:26,592 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 10:00:26,592 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T15:00:26.592147+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_SUCCESS", "message": "Successfully retrieved and processed 1 holdings.", "severity": "INFO", "details": {"holdings_count": 1, "assets_held": ["BTC"]}}
2025-05-14 10:00:26,592 - alt_crypto_data - INFO - Attempting to fetch data for BTC-USD via yfinance...
2025-05-14 10:00:26,592 - alt_crypto_data - INFO - Fetching price history for BTC-USD from yfinance (Start: 2025-02-08, End: 2025-05-14, Interval: 1h)...
2025-05-14 10:00:26,648 - crypto_bot_logger - ERROR - {"timestamp": "2025-05-14T15:00:26.648331+00:00", "source_component": "crypto_bot", "event_type": "NORMALIZATION_STATS_MISSING", "message": "Normalization stats (mean/std) not found for BTC-USD. Defaulting to 'hold'.", "severity": "ERROR", "details": {"symbol": "BTC-USD", "available_stats_keys": ["means", "stds"]}}
2025-05-14 10:00:26,648 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T15:00:26.648550+00:00", "source_component": "crypto_bot", "event_type": "TRADE_EXECUTION_PHASE_START", "message": "Starting trade execution phase based on signals.", "severity": "INFO"}
2025-05-14 10:00:26,648 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T15:00:26.648623+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_COMPLETE", "message": "Trading cycle finished in 1.60 seconds.", "severity": "INFO", "details": {"cycle_duration_seconds": 1.6, "signals_generated": {"BTC-USD": "hold"}, "trades_attempted": 0}}
2025-05-14 10:00:27,038 - alt_crypto_data - INFO - Successfully fetched 2280 data points for BTC-USD from yfinance.
2025-05-14 10:00:27,038 - alt_crypto_data - INFO - Successfully fetched data for BTC-USD via yfinance.
2025-05-14 10:00:27,049 - alt_crypto_data - INFO - Successfully fetched 2280 data points for BTC-USD from yfinance.
2025-05-14 10:00:27,049 - alt_crypto_data - INFO - Successfully fetched data for BTC-USD via yfinance.
2025-05-14 10:00:27,817 - crypto_bot_logger - ERROR - {"timestamp": "2025-05-14T15:00:27.817295+00:00", "source_component": "crypto_bot", "event_type": "FETCH_OR_SIGNAL_ERROR_IN_CYCLE", "message": "Error during data fetch or signal generation for BTC-USD: _log_structured_event() got an unexpected keyword argument 'symbol'", "severity": "ERROR", "details": {"symbol": "BTC-USD", "error_message": "_log_structured_event() got an unexpected keyword argument 'symbol'"}}
Traceback (most recent call last):
  File "/Users/activate/Dev/robinhood-crypto-bot/crypto_bot.py", line 633, in _get_signal
    for col_name in TECHNICAL_INDICATOR_COLUMNS:
TypeError: _log_structured_event() got an unexpected keyword argument 'symbol'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/activate/Dev/robinhood-crypto-bot/crypto_bot.py", line 1067, in run_trading_cycle
    cycle_start_time = datetime.now()
  File "/Users/activate/Dev/robinhood-crypto-bot/crypto_bot.py", line 709, in _get_signal
    features_df.fillna(method='bfill', inplace=True)
TypeError: _log_structured_event() got an unexpected keyword argument 'symbol'
2025-05-14 10:00:27,817 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T15:00:27.817642+00:00", "source_component": "crypto_bot", "event_type": "TRADE_EXECUTION_PHASE_START", "message": "Starting trade execution phase based on signals.", "severity": "INFO"}
2025-05-14 10:00:27,817 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T15:00:27.817725+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_COMPLETE", "message": "Trading cycle finished in 1.75 seconds.", "severity": "INFO", "details": {"cycle_duration_seconds": 1.75, "signals_generated": {"BTC-USD": "hold"}, "trades_attempted": 0}}
2025-05-14 10:00:27,839 - crypto_bot_logger - ERROR - {"timestamp": "2025-05-14T15:00:27.839008+00:00", "source_component": "crypto_bot", "event_type": "FEATURE_GENERATION_ERROR", "message": "Error during feature generation for RL agent for BTC-USD: 'RobinhoodCryptoBot' object has no attribute 'current_balance'", "severity": "ERROR", "details": {"symbol": "BTC-USD", "error_message": "'RobinhoodCryptoBot' object has no attribute 'current_balance'", "exc_info": true}}
2025-05-14 10:00:27,839 - crypto_bot_logger - WARNING - {"timestamp": "2025-05-14T15:00:27.839169+00:00", "source_component": "crypto_bot", "event_type": "FEATURE_GENERATION_FAILED", "message": "Could not generate normalized features for BTC-USD. Defaulting to 'hold'.", "severity": "WARNING", "details": {"symbol": "BTC-USD"}}
2025-05-14 10:00:27,839 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T15:00:27.839293+00:00", "source_component": "crypto_bot", "event_type": "TRADE_EXECUTION_PHASE_START", "message": "Starting trade execution phase based on signals.", "severity": "INFO"}
2025-05-14 10:00:27,839 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T15:00:27.839354+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_COMPLETE", "message": "Trading cycle finished in 1.47 seconds.", "severity": "INFO", "details": {"cycle_duration_seconds": 1.47, "signals_generated": {"BTC-USD": "hold"}, "trades_attempted": 0}}
2025-05-14 10:05:27,523 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T15:05:27.522706+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_START", "message": "Starting new trading cycle.", "severity": "INFO"}
2025-05-14 10:05:27,525 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T15:05:27.525152+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_ATTEMPT", "message": "Attempting to fetch current holdings.", "severity": "INFO"}
2025-05-14 10:05:27,525 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 10:05:27,525 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 10:05:27,526 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 10:05:27,526 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 10:05:27,526 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': 'b++90QW5eFurJjh3PftF8Bpbnr72TSGH74JgnaexaM2LA1cwBHXfM6LbrShe6JK4/7EQAJPhT8I3maXXHelqAQ==', 'x-timestamp': '1747235127', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 10:05:27,956 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 10:05:27,957 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 15:05:28 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': '6e80f8e4-8f13-4472-b1cc-87e4f05a30f7', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 66ce41ca4aec1a7c795dd9a044c93eb8.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P6', 'X-Amz-Cf-Id': '1DVu_7AKQUpKY9P3aZteEbF-QTmRbtQ2tDonuK59UICxNFnDE7lHAQ=='}
2025-05-14 10:05:27,957 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 10:05:27,958 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 10:05:27,959 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T15:05:27.959114+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_SUCCESS", "message": "Successfully retrieved and processed 1 holdings.", "severity": "INFO", "details": {"holdings_count": 1, "assets_held": ["BTC"]}}
2025-05-14 10:05:27,959 - alt_crypto_data - INFO - Attempting to fetch data for BTC-USD via yfinance...
2025-05-14 10:05:27,959 - alt_crypto_data - INFO - Fetching price history for BTC-USD from yfinance (Start: 2025-02-08, End: 2025-05-14, Interval: 1h)...
2025-05-14 10:05:28,635 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T15:05:28.635484+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_START", "message": "Starting new trading cycle.", "severity": "INFO"}
2025-05-14 10:05:28,635 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T15:05:28.635706+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_ATTEMPT", "message": "Attempting to fetch current holdings.", "severity": "INFO"}
2025-05-14 10:05:28,635 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 10:05:28,635 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 10:05:28,635 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 10:05:28,635 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 10:05:28,636 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': '1UIQi1fM32T7q7zhwvm/ccIYKe9cBxY/VrWOYM5aBF1AthnbjbYrzPRRQHFUorzarFD4wfU+BgBjgCzFUdQnDA==', 'x-timestamp': '1747235128', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 10:05:28,681 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T15:05:28.681515+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_START", "message": "Starting new trading cycle.", "severity": "INFO"}
2025-05-14 10:05:28,681 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T15:05:28.681712+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_ATTEMPT", "message": "Attempting to fetch current holdings.", "severity": "INFO"}
2025-05-14 10:05:28,681 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 10:05:28,681 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 10:05:28,681 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 10:05:28,682 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 10:05:28,682 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': '1UIQi1fM32T7q7zhwvm/ccIYKe9cBxY/VrWOYM5aBF1AthnbjbYrzPRRQHFUorzarFD4wfU+BgBjgCzFUdQnDA==', 'x-timestamp': '1747235128', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 10:05:28,795 - alt_crypto_data - INFO - Successfully fetched 2281 data points for BTC-USD from yfinance.
2025-05-14 10:05:28,796 - alt_crypto_data - INFO - Successfully fetched data for BTC-USD via yfinance.
2025-05-14 10:05:28,816 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 10:05:28,816 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 15:05:29 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': 'd4a34f2f-460e-45e6-8fc2-a2f3fbd40a2e', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 0c1142fda8a7c24fdce4ee5e1ea199d2.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P6', 'X-Amz-Cf-Id': 'rM9ONBmgZFaLEWnlnqR9ry5ypfYs7T7MbxpNy05Es2nifsRn-RV3zw=='}
2025-05-14 10:05:28,816 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 10:05:28,817 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 10:05:28,817 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T15:05:28.817840+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_SUCCESS", "message": "Successfully retrieved and processed 1 holdings.", "severity": "INFO", "details": {"holdings_count": 1, "assets_held": ["BTC"]}}
2025-05-14 10:05:28,818 - alt_crypto_data - INFO - Attempting to fetch data for BTC-USD via yfinance...
2025-05-14 10:05:28,818 - alt_crypto_data - INFO - Fetching price history for BTC-USD from yfinance (Start: 2025-02-08, End: 2025-05-14, Interval: 1h)...
2025-05-14 10:05:28,872 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 10:05:28,873 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 15:05:29 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': '6d73ec15-a4be-4493-a28a-c8c9d55e7549', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 e807928bf10df259d5d9aa45c69572c8.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P6', 'X-Amz-Cf-Id': 'jxHmIqbyy2Y6DqGJc-nT1U880XsRkLDGzbOD-uLYv_GLQE2w2dZANA=='}
2025-05-14 10:05:28,873 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 10:05:28,874 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 10:05:28,874 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T15:05:28.874414+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_SUCCESS", "message": "Successfully retrieved and processed 1 holdings.", "severity": "INFO", "details": {"holdings_count": 1, "assets_held": ["BTC"]}}
2025-05-14 10:05:28,874 - alt_crypto_data - INFO - Attempting to fetch data for BTC-USD via yfinance...
2025-05-14 10:05:28,874 - alt_crypto_data - INFO - Fetching price history for BTC-USD from yfinance (Start: 2025-02-08, End: 2025-05-14, Interval: 1h)...
2025-05-14 10:05:29,332 - crypto_bot_logger - ERROR - {"timestamp": "2025-05-14T15:05:29.332368+00:00", "source_component": "crypto_bot", "event_type": "NORMALIZATION_STATS_MISSING", "message": "Normalization stats (mean/std) not found for BTC-USD. Defaulting to 'hold'.", "severity": "ERROR", "details": {"symbol": "BTC-USD", "available_stats_keys": ["means", "stds"]}}
2025-05-14 10:05:29,332 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T15:05:29.332647+00:00", "source_component": "crypto_bot", "event_type": "TRADE_EXECUTION_PHASE_START", "message": "Starting trade execution phase based on signals.", "severity": "INFO"}
2025-05-14 10:05:29,332 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T15:05:29.332724+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_COMPLETE", "message": "Trading cycle finished in 1.81 seconds.", "severity": "INFO", "details": {"cycle_duration_seconds": 1.81, "signals_generated": {"BTC-USD": "hold"}, "trades_attempted": 0}}
2025-05-14 10:05:29,397 - alt_crypto_data - INFO - Successfully fetched 2281 data points for BTC-USD from yfinance.
2025-05-14 10:05:29,398 - alt_crypto_data - INFO - Successfully fetched data for BTC-USD via yfinance.
2025-05-14 10:05:29,515 - alt_crypto_data - INFO - Successfully fetched 2281 data points for BTC-USD from yfinance.
2025-05-14 10:05:29,516 - alt_crypto_data - INFO - Successfully fetched data for BTC-USD via yfinance.
2025-05-14 10:05:30,222 - crypto_bot_logger - ERROR - {"timestamp": "2025-05-14T15:05:30.222251+00:00", "source_component": "crypto_bot", "event_type": "FEATURE_GENERATION_ERROR", "message": "Error during feature generation for RL agent for BTC-USD: 'RobinhoodCryptoBot' object has no attribute 'current_balance'", "severity": "ERROR", "details": {"symbol": "BTC-USD", "error_message": "'RobinhoodCryptoBot' object has no attribute 'current_balance'", "exc_info": true}}
2025-05-14 10:05:30,222 - crypto_bot_logger - WARNING - {"timestamp": "2025-05-14T15:05:30.222652+00:00", "source_component": "crypto_bot", "event_type": "FEATURE_GENERATION_FAILED", "message": "Could not generate normalized features for BTC-USD. Defaulting to 'hold'.", "severity": "WARNING", "details": {"symbol": "BTC-USD"}}
2025-05-14 10:05:30,222 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T15:05:30.222828+00:00", "source_component": "crypto_bot", "event_type": "TRADE_EXECUTION_PHASE_START", "message": "Starting trade execution phase based on signals.", "severity": "INFO"}
2025-05-14 10:05:30,222 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T15:05:30.222896+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_COMPLETE", "message": "Trading cycle finished in 1.59 seconds.", "severity": "INFO", "details": {"cycle_duration_seconds": 1.59, "signals_generated": {"BTC-USD": "hold"}, "trades_attempted": 0}}
2025-05-14 10:05:30,299 - crypto_bot_logger - ERROR - {"timestamp": "2025-05-14T15:05:30.298965+00:00", "source_component": "crypto_bot", "event_type": "FETCH_OR_SIGNAL_ERROR_IN_CYCLE", "message": "Error during data fetch or signal generation for BTC-USD: _log_structured_event() got an unexpected keyword argument 'symbol'", "severity": "ERROR", "details": {"symbol": "BTC-USD", "error_message": "_log_structured_event() got an unexpected keyword argument 'symbol'"}}
Traceback (most recent call last):
  File "/Users/activate/Dev/robinhood-crypto-bot/crypto_bot.py", line 633, in _get_signal
    for col_name in TECHNICAL_INDICATOR_COLUMNS:
TypeError: _log_structured_event() got an unexpected keyword argument 'symbol'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/activate/Dev/robinhood-crypto-bot/crypto_bot.py", line 1067, in run_trading_cycle
    cycle_start_time = datetime.now()
  File "/Users/activate/Dev/robinhood-crypto-bot/crypto_bot.py", line 709, in _get_signal
    features_df.fillna(method='bfill', inplace=True)
TypeError: _log_structured_event() got an unexpected keyword argument 'symbol'
2025-05-14 10:05:30,299 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T15:05:30.299244+00:00", "source_component": "crypto_bot", "event_type": "TRADE_EXECUTION_PHASE_START", "message": "Starting trade execution phase based on signals.", "severity": "INFO"}
2025-05-14 10:05:30,299 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T15:05:30.299335+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_COMPLETE", "message": "Trading cycle finished in 1.62 seconds.", "severity": "INFO", "details": {"cycle_duration_seconds": 1.62, "signals_generated": {"BTC-USD": "hold"}, "trades_attempted": 0}}
2025-05-14 10:10:29,720 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T15:10:29.719907+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_START", "message": "Starting new trading cycle.", "severity": "INFO"}
2025-05-14 10:10:29,722 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T15:10:29.722421+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_ATTEMPT", "message": "Attempting to fetch current holdings.", "severity": "INFO"}
2025-05-14 10:10:29,722 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 10:10:29,723 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 10:10:29,723 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 10:10:29,723 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 10:10:29,724 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': 'MUVCtzUBM8MpgVNOY7DukzSUtt+BGltGDl8mCY+5Jf4XukMnX11EaEUTAswyATXznRtR1h3V8zcOKGPHRY76AQ==', 'x-timestamp': '1747235429', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 10:10:29,993 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 10:10:29,993 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 15:10:30 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': '7aa4357c-94c1-4b74-adce-15a84bf4b3a8', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 feb983db77c8a07c84959919488c84e2.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P6', 'X-Amz-Cf-Id': 'I4qDSEO8sCxNt_U9ze6oFljXqkEVRjOfxy8hQtYRrq96nV_rEhWnVw=='}
2025-05-14 10:10:29,994 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 10:10:29,996 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 10:10:29,996 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T15:10:29.996681+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_SUCCESS", "message": "Successfully retrieved and processed 1 holdings.", "severity": "INFO", "details": {"holdings_count": 1, "assets_held": ["BTC"]}}
2025-05-14 10:10:29,997 - alt_crypto_data - INFO - Attempting to fetch data for BTC-USD via yfinance...
2025-05-14 10:10:29,997 - alt_crypto_data - INFO - Fetching price history for BTC-USD from yfinance (Start: 2025-02-08, End: 2025-05-14, Interval: 1h)...
2025-05-14 10:10:30,586 - alt_crypto_data - INFO - Successfully fetched 2281 data points for BTC-USD from yfinance.
2025-05-14 10:10:30,587 - alt_crypto_data - INFO - Successfully fetched data for BTC-USD via yfinance.
2025-05-14 10:10:30,632 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T15:10:30.632911+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_START", "message": "Starting new trading cycle.", "severity": "INFO"}
2025-05-14 10:10:30,633 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T15:10:30.633173+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_ATTEMPT", "message": "Attempting to fetch current holdings.", "severity": "INFO"}
2025-05-14 10:10:30,633 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 10:10:30,633 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 10:10:30,633 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 10:10:30,633 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 10:10:30,633 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': '+Os2SIjB/7SBwDL22aT3AwXz14k8OtBtA3mgetoBrMEJNWGyi83iREN5Ujrlh+IEaGcxLIaDhNUe6TSMwpxkBA==', 'x-timestamp': '1747235430', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 10:10:30,646 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T15:10:30.645967+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_START", "message": "Starting new trading cycle.", "severity": "INFO"}
2025-05-14 10:10:30,646 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T15:10:30.646281+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_ATTEMPT", "message": "Attempting to fetch current holdings.", "severity": "INFO"}
2025-05-14 10:10:30,646 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 10:10:30,646 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 10:10:30,646 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 10:10:30,646 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 10:10:30,647 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': '+Os2SIjB/7SBwDL22aT3AwXz14k8OtBtA3mgetoBrMEJNWGyi83iREN5Ujrlh+IEaGcxLIaDhNUe6TSMwpxkBA==', 'x-timestamp': '1747235430', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 10:10:30,803 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 10:10:30,804 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 15:10:31 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': 'db5ff046-f0c1-476c-8360-718d1df90d2a', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 d1b7c750b45b2751c2c1a34c2f5af9ec.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P6', 'X-Amz-Cf-Id': 'MTG5czmrH_kytdlMeNN1QOvxb7x2Hjr4aWGyxKmZ8yJ-g1EO58IW-A=='}
2025-05-14 10:10:30,804 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 10:10:30,805 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 10:10:30,805 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T15:10:30.805412+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_SUCCESS", "message": "Successfully retrieved and processed 1 holdings.", "severity": "INFO", "details": {"holdings_count": 1, "assets_held": ["BTC"]}}
2025-05-14 10:10:30,805 - alt_crypto_data - INFO - Attempting to fetch data for BTC-USD via yfinance...
2025-05-14 10:10:30,805 - alt_crypto_data - INFO - Fetching price history for BTC-USD from yfinance (Start: 2025-02-08, End: 2025-05-14, Interval: 1h)...
2025-05-14 10:10:30,859 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 10:10:30,860 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 15:10:31 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': '49fcb85e-8a4e-4ad5-a0a2-e89edc190682', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 49b136b148d1745f4212920da88bcd9a.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P6', 'X-Amz-Cf-Id': 'alFy3Rr3i1Fhiib4sIVJNmD-fmwvcJxtT93zOtwPi88NyvtlW-CDnA=='}
2025-05-14 10:10:30,860 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 10:10:30,860 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 10:10:30,860 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T15:10:30.860944+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_SUCCESS", "message": "Successfully retrieved and processed 1 holdings.", "severity": "INFO", "details": {"holdings_count": 1, "assets_held": ["BTC"]}}
2025-05-14 10:10:30,861 - alt_crypto_data - INFO - Attempting to fetch data for BTC-USD via yfinance...
2025-05-14 10:10:30,861 - alt_crypto_data - INFO - Fetching price history for BTC-USD from yfinance (Start: 2025-02-08, End: 2025-05-14, Interval: 1h)...
2025-05-14 10:10:31,237 - alt_crypto_data - INFO - Successfully fetched 2281 data points for BTC-USD from yfinance.
2025-05-14 10:10:31,237 - alt_crypto_data - INFO - Successfully fetched data for BTC-USD via yfinance.
2025-05-14 10:10:31,413 - alt_crypto_data - INFO - Successfully fetched 2281 data points for BTC-USD from yfinance.
2025-05-14 10:10:31,413 - alt_crypto_data - INFO - Successfully fetched data for BTC-USD via yfinance.
2025-05-14 10:10:31,427 - crypto_bot_logger - ERROR - {"timestamp": "2025-05-14T15:10:31.427385+00:00", "source_component": "crypto_bot", "event_type": "NORMALIZATION_STATS_MISSING", "message": "Normalization stats (mean/std) not found for BTC-USD. Defaulting to 'hold'.", "severity": "ERROR", "details": {"symbol": "BTC-USD", "available_stats_keys": ["means", "stds"]}}
2025-05-14 10:10:31,427 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T15:10:31.427659+00:00", "source_component": "crypto_bot", "event_type": "TRADE_EXECUTION_PHASE_START", "message": "Starting trade execution phase based on signals.", "severity": "INFO"}
2025-05-14 10:10:31,427 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T15:10:31.427728+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_COMPLETE", "message": "Trading cycle finished in 1.71 seconds.", "severity": "INFO", "details": {"cycle_duration_seconds": 1.71, "signals_generated": {"BTC-USD": "hold"}, "trades_attempted": 0}}
2025-05-14 10:10:32,444 - crypto_bot_logger - ERROR - {"timestamp": "2025-05-14T15:10:32.444664+00:00", "source_component": "crypto_bot", "event_type": "FEATURE_GENERATION_ERROR", "message": "Error during feature generation for RL agent for BTC-USD: 'RobinhoodCryptoBot' object has no attribute 'current_balance'", "severity": "ERROR", "details": {"symbol": "BTC-USD", "error_message": "'RobinhoodCryptoBot' object has no attribute 'current_balance'", "exc_info": true}}
2025-05-14 10:10:32,444 - crypto_bot_logger - WARNING - {"timestamp": "2025-05-14T15:10:32.444847+00:00", "source_component": "crypto_bot", "event_type": "FEATURE_GENERATION_FAILED", "message": "Could not generate normalized features for BTC-USD. Defaulting to 'hold'.", "severity": "WARNING", "details": {"symbol": "BTC-USD"}}
2025-05-14 10:10:32,444 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T15:10:32.444987+00:00", "source_component": "crypto_bot", "event_type": "TRADE_EXECUTION_PHASE_START", "message": "Starting trade execution phase based on signals.", "severity": "INFO"}
2025-05-14 10:10:32,445 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T15:10:32.445049+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_COMPLETE", "message": "Trading cycle finished in 1.81 seconds.", "severity": "INFO", "details": {"cycle_duration_seconds": 1.81, "signals_generated": {"BTC-USD": "hold"}, "trades_attempted": 0}}
2025-05-14 10:10:32,561 - crypto_bot_logger - ERROR - {"timestamp": "2025-05-14T15:10:32.561391+00:00", "source_component": "crypto_bot", "event_type": "FETCH_OR_SIGNAL_ERROR_IN_CYCLE", "message": "Error during data fetch or signal generation for BTC-USD: _log_structured_event() got an unexpected keyword argument 'symbol'", "severity": "ERROR", "details": {"symbol": "BTC-USD", "error_message": "_log_structured_event() got an unexpected keyword argument 'symbol'"}}
Traceback (most recent call last):
  File "/Users/activate/Dev/robinhood-crypto-bot/crypto_bot.py", line 633, in _get_signal
    for col_name in TECHNICAL_INDICATOR_COLUMNS:
TypeError: _log_structured_event() got an unexpected keyword argument 'symbol'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/activate/Dev/robinhood-crypto-bot/crypto_bot.py", line 1067, in run_trading_cycle
    cycle_start_time = datetime.now()
  File "/Users/activate/Dev/robinhood-crypto-bot/crypto_bot.py", line 709, in _get_signal
    features_df.fillna(method='bfill', inplace=True)
TypeError: _log_structured_event() got an unexpected keyword argument 'symbol'
2025-05-14 10:10:32,561 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T15:10:32.561707+00:00", "source_component": "crypto_bot", "event_type": "TRADE_EXECUTION_PHASE_START", "message": "Starting trade execution phase based on signals.", "severity": "INFO"}
2025-05-14 10:10:32,561 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T15:10:32.561804+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_COMPLETE", "message": "Trading cycle finished in 1.92 seconds.", "severity": "INFO", "details": {"cycle_duration_seconds": 1.92, "signals_generated": {"BTC-USD": "hold"}, "trades_attempted": 0}}
2025-05-14 10:15:32,405 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T15:15:32.405053+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_START", "message": "Starting new trading cycle.", "severity": "INFO"}
2025-05-14 10:15:32,406 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T15:15:32.406675+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_ATTEMPT", "message": "Attempting to fetch current holdings.", "severity": "INFO"}
2025-05-14 10:15:32,406 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 10:15:32,407 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 10:15:32,407 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 10:15:32,407 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 10:15:32,407 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': 'cuk5eIY4JUKw8uOr7bUV5d0SXIAo0ww5ZNfbIEwAw6jCc+rhHvgeGWtoOcmTBN+McaYw0lWigTV0SIHiNU3/AQ==', 'x-timestamp': '1747235732', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 10:15:32,460 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T15:15:32.460563+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_START", "message": "Starting new trading cycle.", "severity": "INFO"}
2025-05-14 10:15:32,461 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T15:15:32.461046+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_ATTEMPT", "message": "Attempting to fetch current holdings.", "severity": "INFO"}
2025-05-14 10:15:32,461 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 10:15:32,461 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 10:15:32,461 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 10:15:32,461 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 10:15:32,462 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': 'cuk5eIY4JUKw8uOr7bUV5d0SXIAo0ww5ZNfbIEwAw6jCc+rhHvgeGWtoOcmTBN+McaYw0lWigTV0SIHiNU3/AQ==', 'x-timestamp': '1747235732', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 10:15:32,606 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T15:15:32.606008+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_START", "message": "Starting new trading cycle.", "severity": "INFO"}
2025-05-14 10:15:32,606 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T15:15:32.606413+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_ATTEMPT", "message": "Attempting to fetch current holdings.", "severity": "INFO"}
2025-05-14 10:15:32,606 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 10:15:32,606 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 10:15:32,606 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 10:15:32,607 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 10:15:32,607 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': 'cuk5eIY4JUKw8uOr7bUV5d0SXIAo0ww5ZNfbIEwAw6jCc+rhHvgeGWtoOcmTBN+McaYw0lWigTV0SIHiNU3/AQ==', 'x-timestamp': '1747235732', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 10:15:32,782 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 10:15:32,783 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 15:15:33 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': 'd2821554-3d2f-4586-b358-1b5aa9857a35', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 5a3010bd9376613ba1249daca87b27a2.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P1', 'X-Amz-Cf-Id': 'rabgo3xiWcs_6pyzFCvytoiyxa8pLZNY8uEteyNEBN5c8C-2Yznlkg=='}
2025-05-14 10:15:32,783 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 10:15:32,786 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 10:15:32,786 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T15:15:32.786183+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_SUCCESS", "message": "Successfully retrieved and processed 1 holdings.", "severity": "INFO", "details": {"holdings_count": 1, "assets_held": ["BTC"]}}
2025-05-14 10:15:32,786 - alt_crypto_data - INFO - Attempting to fetch data for BTC-USD via yfinance...
2025-05-14 10:15:32,786 - alt_crypto_data - INFO - Fetching price history for BTC-USD from yfinance (Start: 2025-02-08, End: 2025-05-14, Interval: 1h)...
2025-05-14 10:15:32,797 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 10:15:32,798 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 15:15:33 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': '73864647-6ce1-417c-b4a3-771ec873f77d', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 82e46a17c2e4998f87de230e61a57612.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P1', 'X-Amz-Cf-Id': 'kVbx1vHZfzGocIWPuCypuquAbpriUiTuHw82v3XWDG0R-527U8FWYw=='}
2025-05-14 10:15:32,798 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 10:15:32,799 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 10:15:32,799 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T15:15:32.799377+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_SUCCESS", "message": "Successfully retrieved and processed 1 holdings.", "severity": "INFO", "details": {"holdings_count": 1, "assets_held": ["BTC"]}}
2025-05-14 10:15:32,799 - alt_crypto_data - INFO - Attempting to fetch data for BTC-USD via yfinance...
2025-05-14 10:15:32,799 - alt_crypto_data - INFO - Fetching price history for BTC-USD from yfinance (Start: 2025-02-08, End: 2025-05-14, Interval: 1h)...
2025-05-14 10:15:32,803 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 10:15:32,804 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 15:15:33 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': 'c9695fa8-6b90-4513-8cd4-555c0d7be923', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 476cbc24d5f1a673aca06385c3863276.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P1', 'X-Amz-Cf-Id': 'r4uYO9wZffHrzx1LVVTEtaME93RvXNsCQ9JSHKcrwYrSxRW0YDN97g=='}
2025-05-14 10:15:32,804 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 10:15:32,805 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 10:15:32,805 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T15:15:32.805260+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_SUCCESS", "message": "Successfully retrieved and processed 1 holdings.", "severity": "INFO", "details": {"holdings_count": 1, "assets_held": ["BTC"]}}
2025-05-14 10:15:32,805 - alt_crypto_data - INFO - Attempting to fetch data for BTC-USD via yfinance...
2025-05-14 10:15:32,805 - alt_crypto_data - INFO - Fetching price history for BTC-USD from yfinance (Start: 2025-02-08, End: 2025-05-14, Interval: 1h)...
2025-05-14 10:15:33,354 - alt_crypto_data - INFO - Successfully fetched 2281 data points for BTC-USD from yfinance.
2025-05-14 10:15:33,354 - alt_crypto_data - INFO - Successfully fetched data for BTC-USD via yfinance.
2025-05-14 10:15:33,546 - alt_crypto_data - INFO - Successfully fetched 2281 data points for BTC-USD from yfinance.
2025-05-14 10:15:33,546 - alt_crypto_data - INFO - Successfully fetched data for BTC-USD via yfinance.
2025-05-14 10:15:33,590 - alt_crypto_data - INFO - Successfully fetched 2281 data points for BTC-USD from yfinance.
2025-05-14 10:15:33,590 - alt_crypto_data - INFO - Successfully fetched data for BTC-USD via yfinance.
2025-05-14 10:15:34,772 - crypto_bot_logger - ERROR - {"timestamp": "2025-05-14T15:15:34.772817+00:00", "source_component": "crypto_bot", "event_type": "FEATURE_GENERATION_ERROR", "message": "Error during feature generation for RL agent for BTC-USD: 'RobinhoodCryptoBot' object has no attribute 'current_balance'", "severity": "ERROR", "details": {"symbol": "BTC-USD", "error_message": "'RobinhoodCryptoBot' object has no attribute 'current_balance'", "exc_info": true}}
2025-05-14 10:15:34,773 - crypto_bot_logger - WARNING - {"timestamp": "2025-05-14T15:15:34.773158+00:00", "source_component": "crypto_bot", "event_type": "FEATURE_GENERATION_FAILED", "message": "Could not generate normalized features for BTC-USD. Defaulting to 'hold'.", "severity": "WARNING", "details": {"symbol": "BTC-USD"}}
2025-05-14 10:15:34,773 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T15:15:34.773403+00:00", "source_component": "crypto_bot", "event_type": "TRADE_EXECUTION_PHASE_START", "message": "Starting trade execution phase based on signals.", "severity": "INFO"}
2025-05-14 10:15:34,773 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T15:15:34.773562+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_COMPLETE", "message": "Trading cycle finished in 2.31 seconds.", "severity": "INFO", "details": {"cycle_duration_seconds": 2.31, "signals_generated": {"BTC-USD": "hold"}, "trades_attempted": 0}}
2025-05-14 10:15:35,114 - crypto_bot_logger - ERROR - {"timestamp": "2025-05-14T15:15:35.114897+00:00", "source_component": "crypto_bot", "event_type": "FETCH_OR_SIGNAL_ERROR_IN_CYCLE", "message": "Error during data fetch or signal generation for BTC-USD: _log_structured_event() got an unexpected keyword argument 'symbol'", "severity": "ERROR", "details": {"symbol": "BTC-USD", "error_message": "_log_structured_event() got an unexpected keyword argument 'symbol'"}}
Traceback (most recent call last):
  File "/Users/activate/Dev/robinhood-crypto-bot/crypto_bot.py", line 633, in _get_signal
    for col_name in TECHNICAL_INDICATOR_COLUMNS:
TypeError: _log_structured_event() got an unexpected keyword argument 'symbol'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/activate/Dev/robinhood-crypto-bot/crypto_bot.py", line 1067, in run_trading_cycle
    cycle_start_time = datetime.now()
  File "/Users/activate/Dev/robinhood-crypto-bot/crypto_bot.py", line 709, in _get_signal
    features_df.fillna(method='bfill', inplace=True)
TypeError: _log_structured_event() got an unexpected keyword argument 'symbol'
2025-05-14 10:15:35,115 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T15:15:35.115245+00:00", "source_component": "crypto_bot", "event_type": "TRADE_EXECUTION_PHASE_START", "message": "Starting trade execution phase based on signals.", "severity": "INFO"}
2025-05-14 10:15:35,115 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T15:15:35.115335+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_COMPLETE", "message": "Trading cycle finished in 2.51 seconds.", "severity": "INFO", "details": {"cycle_duration_seconds": 2.51, "signals_generated": {"BTC-USD": "hold"}, "trades_attempted": 0}}
2025-05-14 10:15:35,147 - crypto_bot_logger - ERROR - {"timestamp": "2025-05-14T15:15:35.147187+00:00", "source_component": "crypto_bot", "event_type": "NORMALIZATION_STATS_MISSING", "message": "Normalization stats (mean/std) not found for BTC-USD. Defaulting to 'hold'.", "severity": "ERROR", "details": {"symbol": "BTC-USD", "available_stats_keys": ["means", "stds"]}}
2025-05-14 10:15:35,147 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T15:15:35.147464+00:00", "source_component": "crypto_bot", "event_type": "TRADE_EXECUTION_PHASE_START", "message": "Starting trade execution phase based on signals.", "severity": "INFO"}
2025-05-14 10:15:35,147 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T15:15:35.147538+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_COMPLETE", "message": "Trading cycle finished in 2.74 seconds.", "severity": "INFO", "details": {"cycle_duration_seconds": 2.74, "signals_generated": {"BTC-USD": "hold"}, "trades_attempted": 0}}
2025-05-14 10:16:25,996 - root - INFO - Bot execution stopped manually.
2025-05-14 10:16:25,996 - root - INFO - Bot execution finished.
2025-05-14 10:20:35,759 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T15:20:35.759156+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_START", "message": "Starting new trading cycle.", "severity": "INFO"}
2025-05-14 10:20:35,760 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T15:20:35.760446+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_ATTEMPT", "message": "Attempting to fetch current holdings.", "severity": "INFO"}
2025-05-14 10:20:35,760 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 10:20:35,760 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 10:20:35,761 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 10:20:35,761 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 10:20:35,761 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': 'qvb3wbbTe+CTA/trTXHubdtftFxqSKds/q+rsJtK8idVGev8+kZxjRQf4LXh2hZ6IMM1G3k9FEDl0i2YYUPZCQ==', 'x-timestamp': '1747236035', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 10:20:36,102 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 10:20:36,103 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 15:20:36 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': '461f7ecc-1d45-46f2-bfcc-f10ca719cf8b', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 5a666acbdb0f52d0d1199f118d40ba1a.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD51-P2', 'X-Amz-Cf-Id': 'B_VfGEKvG3HeEDzQFurwX8OCum-IfVvE-mJqTObPJZdV1nq9FWUY2A=='}
2025-05-14 10:20:36,103 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 10:20:36,105 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 10:20:36,105 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T15:20:36.105815+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_SUCCESS", "message": "Successfully retrieved and processed 1 holdings.", "severity": "INFO", "details": {"holdings_count": 1, "assets_held": ["BTC"]}}
2025-05-14 10:20:36,105 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T15:20:36.105696+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_START", "message": "Starting new trading cycle.", "severity": "INFO"}
2025-05-14 10:20:36,106 - alt_crypto_data - INFO - Attempting to fetch data for BTC-USD via yfinance...
2025-05-14 10:20:36,106 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T15:20:36.106122+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_ATTEMPT", "message": "Attempting to fetch current holdings.", "severity": "INFO"}
2025-05-14 10:20:36,106 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 10:20:36,106 - alt_crypto_data - INFO - Fetching price history for BTC-USD from yfinance (Start: 2025-02-08, End: 2025-05-14, Interval: 1h)...
2025-05-14 10:20:36,106 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 10:20:36,106 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 10:20:36,107 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 10:20:36,107 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': '5eAiVO6npJOgn43QvzHuJAcLVWbDmgsGTupOC6790+5nYek2IcWBLd1fvCAjibQILB4grJPX9QtGCOoHtlHpDg==', 'x-timestamp': '1747236036', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 10:20:36,322 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 10:20:36,323 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 15:20:36 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': '3841108b-71f9-48da-9d2d-b6238b5634c7', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 1db34f615bf8ba9e892dcce731b83f56.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD51-P2', 'X-Amz-Cf-Id': '-62nSUNaQwUyv542I3UtBoqSGQP1bqoxPK0ebOnELCsEjtlsUjS2fQ=='}
2025-05-14 10:20:36,323 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 10:20:36,324 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 10:20:36,325 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T15:20:36.325145+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_SUCCESS", "message": "Successfully retrieved and processed 1 holdings.", "severity": "INFO", "details": {"holdings_count": 1, "assets_held": ["BTC"]}}
2025-05-14 10:20:36,325 - alt_crypto_data - INFO - Attempting to fetch data for BTC-USD via yfinance...
2025-05-14 10:20:36,325 - alt_crypto_data - INFO - Fetching price history for BTC-USD from yfinance (Start: 2025-02-08, End: 2025-05-14, Interval: 1h)...
2025-05-14 10:20:36,712 - alt_crypto_data - INFO - Successfully fetched 2281 data points for BTC-USD from yfinance.
2025-05-14 10:20:36,712 - alt_crypto_data - INFO - Successfully fetched data for BTC-USD via yfinance.
2025-05-14 10:20:36,713 - alt_crypto_data - INFO - Successfully fetched 2281 data points for BTC-USD from yfinance.
2025-05-14 10:20:36,714 - alt_crypto_data - INFO - Successfully fetched data for BTC-USD via yfinance.
2025-05-14 10:20:37,503 - crypto_bot_logger - ERROR - {"timestamp": "2025-05-14T15:20:37.503054+00:00", "source_component": "crypto_bot", "event_type": "NORMALIZATION_STATS_MISSING", "message": "Normalization stats (mean/std) not found for BTC-USD. Defaulting to 'hold'.", "severity": "ERROR", "details": {"symbol": "BTC-USD", "available_stats_keys": ["means", "stds"]}}
2025-05-14 10:20:37,503 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T15:20:37.503332+00:00", "source_component": "crypto_bot", "event_type": "TRADE_EXECUTION_PHASE_START", "message": "Starting trade execution phase based on signals.", "severity": "INFO"}
2025-05-14 10:20:37,503 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T15:20:37.503423+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_COMPLETE", "message": "Trading cycle finished in 1.40 seconds.", "severity": "INFO", "details": {"cycle_duration_seconds": 1.4, "signals_generated": {"BTC-USD": "hold"}, "trades_attempted": 0}}
2025-05-14 10:20:37,514 - crypto_bot_logger - ERROR - {"timestamp": "2025-05-14T15:20:37.514059+00:00", "source_component": "crypto_bot", "event_type": "FEATURE_GENERATION_ERROR", "message": "Error during feature generation for RL agent for BTC-USD: 'RobinhoodCryptoBot' object has no attribute 'current_balance'", "severity": "ERROR", "details": {"symbol": "BTC-USD", "error_message": "'RobinhoodCryptoBot' object has no attribute 'current_balance'", "exc_info": true}}
2025-05-14 10:20:37,514 - crypto_bot_logger - WARNING - {"timestamp": "2025-05-14T15:20:37.514242+00:00", "source_component": "crypto_bot", "event_type": "FEATURE_GENERATION_FAILED", "message": "Could not generate normalized features for BTC-USD. Defaulting to 'hold'.", "severity": "WARNING", "details": {"symbol": "BTC-USD"}}
2025-05-14 10:20:37,514 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T15:20:37.514398+00:00", "source_component": "crypto_bot", "event_type": "TRADE_EXECUTION_PHASE_START", "message": "Starting trade execution phase based on signals.", "severity": "INFO"}
2025-05-14 10:20:37,514 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T15:20:37.514486+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_COMPLETE", "message": "Trading cycle finished in 1.75 seconds.", "severity": "INFO", "details": {"cycle_duration_seconds": 1.75, "signals_generated": {"BTC-USD": "hold"}, "trades_attempted": 0}}
2025-05-14 10:25:37,516 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T15:25:37.516595+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_START", "message": "Starting new trading cycle.", "severity": "INFO"}
2025-05-14 10:25:37,518 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T15:25:37.518689+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_ATTEMPT", "message": "Attempting to fetch current holdings.", "severity": "INFO"}
2025-05-14 10:25:37,518 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 10:25:37,519 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 10:25:37,519 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 10:25:37,519 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 10:25:37,519 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': 'xfEfgk8OB32W/G2lM8lpDhSJc2eDfiXM2MFqAbZNF9PoccQriJINb1SHaFVe+COMFaUrElqhM26h44VFXQNdDQ==', 'x-timestamp': '1747236337', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 10:25:37,875 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 10:25:37,876 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 15:25:38 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': '5302db4b-2e4b-416c-aacf-d29a772d6cd1', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 4716bcbdc4e9f27ba0fec4fee66dbffa.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P1', 'X-Amz-Cf-Id': 'bl_bWvOros6dgs84AEKptc8RZMFhiV9GirjD9qHPd3Wusf8yy1zt2g=='}
2025-05-14 10:25:37,876 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 10:25:37,880 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 10:25:37,880 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T15:25:37.880326+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_SUCCESS", "message": "Successfully retrieved and processed 1 holdings.", "severity": "INFO", "details": {"holdings_count": 1, "assets_held": ["BTC"]}}
2025-05-14 10:25:37,880 - alt_crypto_data - INFO - Attempting to fetch data for BTC-USD via yfinance...
2025-05-14 10:25:37,880 - alt_crypto_data - INFO - Fetching price history for BTC-USD from yfinance (Start: 2025-02-08, End: 2025-05-14, Interval: 1h)...
2025-05-14 10:25:38,463 - alt_crypto_data - INFO - Successfully fetched 2281 data points for BTC-USD from yfinance.
2025-05-14 10:25:38,464 - alt_crypto_data - INFO - Successfully fetched data for BTC-USD via yfinance.
2025-05-14 10:25:38,499 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T15:25:38.499755+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_START", "message": "Starting new trading cycle.", "severity": "INFO"}
2025-05-14 10:25:38,500 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T15:25:38.500019+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_ATTEMPT", "message": "Attempting to fetch current holdings.", "severity": "INFO"}
2025-05-14 10:25:38,500 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 10:25:38,500 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 10:25:38,500 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 10:25:38,500 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 10:25:38,500 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': 'b9QtfsainFJF2ZzBkampK7wS6XYAxUgfGZxOjqQFNupVzVKwZ8R6cqF/mMi03hZzE+s47Ad3d2kkQgRKU3tqBw==', 'x-timestamp': '1747236338', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 10:25:38,720 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 10:25:38,720 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 15:25:39 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': 'c3ecf77c-48a5-4341-a024-71c8c85907b5', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 81e839ce31651517fdd5c593655bd0d6.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P1', 'X-Amz-Cf-Id': 'jDdsqmqFgrk8kyVxxUST_qWtWiVwl-MfsCU8oO4gyQ0QEWB1dy7XQg=='}
2025-05-14 10:25:38,720 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 10:25:38,721 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 10:25:38,721 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T15:25:38.721651+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_SUCCESS", "message": "Successfully retrieved and processed 1 holdings.", "severity": "INFO", "details": {"holdings_count": 1, "assets_held": ["BTC"]}}
2025-05-14 10:25:38,721 - alt_crypto_data - INFO - Attempting to fetch data for BTC-USD via yfinance...
2025-05-14 10:25:38,721 - alt_crypto_data - INFO - Fetching price history for BTC-USD from yfinance (Start: 2025-02-08, End: 2025-05-14, Interval: 1h)...
2025-05-14 10:25:39,045 - crypto_bot_logger - ERROR - {"timestamp": "2025-05-14T15:25:39.045886+00:00", "source_component": "crypto_bot", "event_type": "FEATURE_GENERATION_ERROR", "message": "Error during feature generation for RL agent for BTC-USD: 'RobinhoodCryptoBot' object has no attribute 'current_balance'", "severity": "ERROR", "details": {"symbol": "BTC-USD", "error_message": "'RobinhoodCryptoBot' object has no attribute 'current_balance'", "exc_info": true}}
2025-05-14 10:25:39,046 - crypto_bot_logger - WARNING - {"timestamp": "2025-05-14T15:25:39.046075+00:00", "source_component": "crypto_bot", "event_type": "FEATURE_GENERATION_FAILED", "message": "Could not generate normalized features for BTC-USD. Defaulting to 'hold'.", "severity": "WARNING", "details": {"symbol": "BTC-USD"}}
2025-05-14 10:25:39,046 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T15:25:39.046235+00:00", "source_component": "crypto_bot", "event_type": "TRADE_EXECUTION_PHASE_START", "message": "Starting trade execution phase based on signals.", "severity": "INFO"}
2025-05-14 10:25:39,046 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T15:25:39.046325+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_COMPLETE", "message": "Trading cycle finished in 1.53 seconds.", "severity": "INFO", "details": {"cycle_duration_seconds": 1.53, "signals_generated": {"BTC-USD": "hold"}, "trades_attempted": 0}}
2025-05-14 10:25:39,110 - alt_crypto_data - INFO - Successfully fetched 2281 data points for BTC-USD from yfinance.
2025-05-14 10:25:39,110 - alt_crypto_data - INFO - Successfully fetched data for BTC-USD via yfinance.
2025-05-14 10:25:39,651 - crypto_bot_logger - ERROR - {"timestamp": "2025-05-14T15:25:39.651134+00:00", "source_component": "crypto_bot", "event_type": "NORMALIZATION_STATS_MISSING", "message": "Normalization stats (mean/std) not found for BTC-USD. Defaulting to 'hold'.", "severity": "ERROR", "details": {"symbol": "BTC-USD", "available_stats_keys": ["means", "stds"]}}
2025-05-14 10:25:39,651 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T15:25:39.651384+00:00", "source_component": "crypto_bot", "event_type": "TRADE_EXECUTION_PHASE_START", "message": "Starting trade execution phase based on signals.", "severity": "INFO"}
2025-05-14 10:25:39,651 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T15:25:39.651452+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_COMPLETE", "message": "Trading cycle finished in 1.15 seconds.", "severity": "INFO", "details": {"cycle_duration_seconds": 1.15, "signals_generated": {"BTC-USD": "hold"}, "trades_attempted": 0}}
2025-05-14 10:30:40,005 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T15:30:40.005542+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_START", "message": "Starting new trading cycle.", "severity": "INFO"}
2025-05-14 10:30:40,006 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T15:30:40.006501+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_ATTEMPT", "message": "Attempting to fetch current holdings.", "severity": "INFO"}
2025-05-14 10:30:40,006 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 10:30:40,006 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 10:30:40,006 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 10:30:40,006 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 10:30:40,006 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': 'zzROGKhk2I3cZ10PTHNeMF5fApm9IBHUre3W3H5dIIr6BoeiuzQemEbvqiSN5ZwS4NTXwoPE/ajszsh/h6MeCw==', 'x-timestamp': '1747236640', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 10:30:40,367 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 10:30:40,367 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 15:30:40 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': '5ef45a1f-5fd5-422f-b377-b44222a9799f', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 b7c7e443af7b0e6c8efd785c7d7c0838.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P12', 'X-Amz-Cf-Id': 'rYYjlNMOJ7Ti5T0WXfnGIubXAwPSbFD-aOoA9d-QBO0o6q8_TiK3BQ=='}
2025-05-14 10:30:40,367 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 10:30:40,368 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 10:30:40,368 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T15:30:40.368198+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_SUCCESS", "message": "Successfully retrieved and processed 1 holdings.", "severity": "INFO", "details": {"holdings_count": 1, "assets_held": ["BTC"]}}
2025-05-14 10:30:40,368 - alt_crypto_data - INFO - Attempting to fetch data for BTC-USD via yfinance...
2025-05-14 10:30:40,368 - alt_crypto_data - INFO - Fetching price history for BTC-USD from yfinance (Start: 2025-02-08, End: 2025-05-14, Interval: 1h)...
2025-05-14 10:30:40,645 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T15:30:40.645868+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_START", "message": "Starting new trading cycle.", "severity": "INFO"}
2025-05-14 10:30:40,646 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T15:30:40.646078+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_ATTEMPT", "message": "Attempting to fetch current holdings.", "severity": "INFO"}
2025-05-14 10:30:40,646 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 10:30:40,646 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 10:30:40,646 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 10:30:40,646 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 10:30:40,646 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': 'zzROGKhk2I3cZ10PTHNeMF5fApm9IBHUre3W3H5dIIr6BoeiuzQemEbvqiSN5ZwS4NTXwoPE/ajszsh/h6MeCw==', 'x-timestamp': '1747236640', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 10:30:40,821 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 10:30:40,821 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 15:30:41 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': 'a1cc2057-b4af-4552-a67e-0a7e7bbac94c', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 35867fa8c378214cba0d2fd4a69ef2b4.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P12', 'X-Amz-Cf-Id': 'gSE4_-NfsgyZTlSWZdFvRVFJitebTjJ3iJJvwP_mMur9dWTxpwpo8g=='}
2025-05-14 10:30:40,821 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 10:30:40,821 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 10:30:40,822 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T15:30:40.822056+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_SUCCESS", "message": "Successfully retrieved and processed 1 holdings.", "severity": "INFO", "details": {"holdings_count": 1, "assets_held": ["BTC"]}}
2025-05-14 10:30:40,822 - alt_crypto_data - INFO - Attempting to fetch data for BTC-USD via yfinance...
2025-05-14 10:30:40,822 - alt_crypto_data - INFO - Fetching price history for BTC-USD from yfinance (Start: 2025-02-08, End: 2025-05-14, Interval: 1h)...
2025-05-14 10:30:41,027 - alt_crypto_data - INFO - Successfully fetched 2281 data points for BTC-USD from yfinance.
2025-05-14 10:30:41,027 - alt_crypto_data - INFO - Successfully fetched data for BTC-USD via yfinance.
2025-05-14 10:30:41,270 - alt_crypto_data - INFO - Successfully fetched 2281 data points for BTC-USD from yfinance.
2025-05-14 10:30:41,270 - alt_crypto_data - INFO - Successfully fetched data for BTC-USD via yfinance.
2025-05-14 10:30:41,801 - crypto_bot_logger - ERROR - {"timestamp": "2025-05-14T15:30:41.801945+00:00", "source_component": "crypto_bot", "event_type": "FEATURE_GENERATION_ERROR", "message": "Error during feature generation for RL agent for BTC-USD: 'RobinhoodCryptoBot' object has no attribute 'current_balance'", "severity": "ERROR", "details": {"symbol": "BTC-USD", "error_message": "'RobinhoodCryptoBot' object has no attribute 'current_balance'", "exc_info": true}}
2025-05-14 10:30:41,802 - crypto_bot_logger - WARNING - {"timestamp": "2025-05-14T15:30:41.802171+00:00", "source_component": "crypto_bot", "event_type": "FEATURE_GENERATION_FAILED", "message": "Could not generate normalized features for BTC-USD. Defaulting to 'hold'.", "severity": "WARNING", "details": {"symbol": "BTC-USD"}}
2025-05-14 10:30:41,802 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T15:30:41.802438+00:00", "source_component": "crypto_bot", "event_type": "TRADE_EXECUTION_PHASE_START", "message": "Starting trade execution phase based on signals.", "severity": "INFO"}
2025-05-14 10:30:41,802 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T15:30:41.802535+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_COMPLETE", "message": "Trading cycle finished in 1.80 seconds.", "severity": "INFO", "details": {"cycle_duration_seconds": 1.8, "signals_generated": {"BTC-USD": "hold"}, "trades_attempted": 0}}
2025-05-14 10:30:42,044 - crypto_bot_logger - ERROR - {"timestamp": "2025-05-14T15:30:42.044491+00:00", "source_component": "crypto_bot", "event_type": "NORMALIZATION_STATS_MISSING", "message": "Normalization stats (mean/std) not found for BTC-USD. Defaulting to 'hold'.", "severity": "ERROR", "details": {"symbol": "BTC-USD", "available_stats_keys": ["means", "stds"]}}
2025-05-14 10:30:42,044 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T15:30:42.044711+00:00", "source_component": "crypto_bot", "event_type": "TRADE_EXECUTION_PHASE_START", "message": "Starting trade execution phase based on signals.", "severity": "INFO"}
2025-05-14 10:30:42,044 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T15:30:42.044776+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_COMPLETE", "message": "Trading cycle finished in 1.40 seconds.", "severity": "INFO", "details": {"cycle_duration_seconds": 1.4, "signals_generated": {"BTC-USD": "hold"}, "trades_attempted": 0}}
2025-05-14 10:35:42,090 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T15:35:42.089887+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_START", "message": "Starting new trading cycle.", "severity": "INFO"}
2025-05-14 10:35:42,091 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T15:35:42.091806+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_ATTEMPT", "message": "Attempting to fetch current holdings.", "severity": "INFO"}
2025-05-14 10:35:42,091 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 10:35:42,092 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 10:35:42,092 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 10:35:42,092 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 10:35:42,092 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': 'N/A7JOOIsuj8lLTivkPG+UM9eQwe0V1R6O/LjK1zZF6WOvhq3krPjJbSIjEfXEeE8alaxJfbgpUEHmiyHAsiAw==', 'x-timestamp': '1747236942', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 10:35:42,330 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 10:35:42,331 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 15:35:42 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': 'd3e11f2a-5d0b-4814-90e0-db787ba292aa', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 b565f0300f2399ef58d0c89b3972a77a.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD51-P2', 'X-Amz-Cf-Id': '91ip4h2HtO7iHjy5r-0S3jRaLL7TOmHAPrOOTw6HasGRc_Ydl8r9dA=='}
2025-05-14 10:35:42,331 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 10:35:42,335 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 10:35:42,336 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T15:35:42.336200+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_SUCCESS", "message": "Successfully retrieved and processed 1 holdings.", "severity": "INFO", "details": {"holdings_count": 1, "assets_held": ["BTC"]}}
2025-05-14 10:35:42,336 - alt_crypto_data - INFO - Attempting to fetch data for BTC-USD via yfinance...
2025-05-14 10:35:42,336 - alt_crypto_data - INFO - Fetching price history for BTC-USD from yfinance (Start: 2025-02-08, End: 2025-05-14, Interval: 1h)...
2025-05-14 10:35:42,759 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T15:35:42.759445+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_START", "message": "Starting new trading cycle.", "severity": "INFO"}
2025-05-14 10:35:42,759 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T15:35:42.759892+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_ATTEMPT", "message": "Attempting to fetch current holdings.", "severity": "INFO"}
2025-05-14 10:35:42,760 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 10:35:42,760 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 10:35:42,760 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 10:35:42,760 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 10:35:42,760 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': 'N/A7JOOIsuj8lLTivkPG+UM9eQwe0V1R6O/LjK1zZF6WOvhq3krPjJbSIjEfXEeE8alaxJfbgpUEHmiyHAsiAw==', 'x-timestamp': '1747236942', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 10:35:43,015 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 10:35:43,016 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 15:35:43 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': '4c6b86c3-2252-4a9d-a454-18453dc0118d', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 6cb03ad529b99ef54866d7ba6041dd04.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD51-P2', 'X-Amz-Cf-Id': 'zydf4zJoF-ea0x7pJzHYODRKH0QKaRmb3xApDHV-ptNYzLcr5YC2BA=='}
2025-05-14 10:35:43,016 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 10:35:43,019 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 10:35:43,019 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T15:35:43.019317+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_SUCCESS", "message": "Successfully retrieved and processed 1 holdings.", "severity": "INFO", "details": {"holdings_count": 1, "assets_held": ["BTC"]}}
2025-05-14 10:35:43,019 - alt_crypto_data - INFO - Attempting to fetch data for BTC-USD via yfinance...
2025-05-14 10:35:43,019 - alt_crypto_data - INFO - Fetching price history for BTC-USD from yfinance (Start: 2025-02-08, End: 2025-05-14, Interval: 1h)...
2025-05-14 10:35:43,223 - alt_crypto_data - INFO - Successfully fetched 2281 data points for BTC-USD from yfinance.
2025-05-14 10:35:43,224 - alt_crypto_data - INFO - Successfully fetched data for BTC-USD via yfinance.
2025-05-14 10:35:43,518 - alt_crypto_data - INFO - Successfully fetched 2281 data points for BTC-USD from yfinance.
2025-05-14 10:35:43,519 - alt_crypto_data - INFO - Successfully fetched data for BTC-USD via yfinance.
2025-05-14 10:35:43,896 - crypto_bot_logger - ERROR - {"timestamp": "2025-05-14T15:35:43.896170+00:00", "source_component": "crypto_bot", "event_type": "NORMALIZATION_STATS_MISSING", "message": "Normalization stats (mean/std) not found for BTC-USD. Defaulting to 'hold'.", "severity": "ERROR", "details": {"symbol": "BTC-USD", "available_stats_keys": ["means", "stds"]}}
2025-05-14 10:35:43,896 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T15:35:43.896402+00:00", "source_component": "crypto_bot", "event_type": "TRADE_EXECUTION_PHASE_START", "message": "Starting trade execution phase based on signals.", "severity": "INFO"}
2025-05-14 10:35:43,896 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T15:35:43.896521+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_COMPLETE", "message": "Trading cycle finished in 1.81 seconds.", "severity": "INFO", "details": {"cycle_duration_seconds": 1.81, "signals_generated": {"BTC-USD": "hold"}, "trades_attempted": 0}}
2025-05-14 10:35:44,187 - crypto_bot_logger - ERROR - {"timestamp": "2025-05-14T15:35:44.187070+00:00", "source_component": "crypto_bot", "event_type": "FEATURE_GENERATION_ERROR", "message": "Error during feature generation for RL agent for BTC-USD: 'RobinhoodCryptoBot' object has no attribute 'current_balance'", "severity": "ERROR", "details": {"symbol": "BTC-USD", "error_message": "'RobinhoodCryptoBot' object has no attribute 'current_balance'", "exc_info": true}}
2025-05-14 10:35:44,187 - crypto_bot_logger - WARNING - {"timestamp": "2025-05-14T15:35:44.187286+00:00", "source_component": "crypto_bot", "event_type": "FEATURE_GENERATION_FAILED", "message": "Could not generate normalized features for BTC-USD. Defaulting to 'hold'.", "severity": "WARNING", "details": {"symbol": "BTC-USD"}}
2025-05-14 10:35:44,187 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T15:35:44.187464+00:00", "source_component": "crypto_bot", "event_type": "TRADE_EXECUTION_PHASE_START", "message": "Starting trade execution phase based on signals.", "severity": "INFO"}
2025-05-14 10:35:44,187 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T15:35:44.187541+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_COMPLETE", "message": "Trading cycle finished in 1.43 seconds.", "severity": "INFO", "details": {"cycle_duration_seconds": 1.43, "signals_generated": {"BTC-USD": "hold"}, "trades_attempted": 0}}
2025-05-14 10:40:44,240 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T15:40:44.240392+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_START", "message": "Starting new trading cycle.", "severity": "INFO"}
2025-05-14 10:40:44,242 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T15:40:44.242868+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_ATTEMPT", "message": "Attempting to fetch current holdings.", "severity": "INFO"}
2025-05-14 10:40:44,243 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 10:40:44,243 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 10:40:44,243 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 10:40:44,243 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 10:40:44,244 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': '/+zlxg3W4Rj46XgOzTLgqH6OstLJbryKwv3l8SE/LOQ1uURJMqtJnrRrS8ha1y+BRnvkftnzSReFjLsTxEm7Bg==', 'x-timestamp': '1747237244', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 10:40:44,516 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 10:40:44,517 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 15:40:44 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': '2ee921a2-b8b5-44f4-b722-06784ecd6ee9', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 4a9fad6680fa35039887a33d97a25466.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD56-P10', 'X-Amz-Cf-Id': 'FpIhf9xoaFNqOFpMqCmF2Ju_KNd9SuRfmPSloBWGQKpjSbezBoM6ZA=='}
2025-05-14 10:40:44,517 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 10:40:44,521 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 10:40:44,521 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T15:40:44.521472+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_SUCCESS", "message": "Successfully retrieved and processed 1 holdings.", "severity": "INFO", "details": {"holdings_count": 1, "assets_held": ["BTC"]}}
2025-05-14 10:40:44,521 - alt_crypto_data - INFO - Attempting to fetch data for BTC-USD via yfinance...
2025-05-14 10:40:44,522 - alt_crypto_data - INFO - Fetching price history for BTC-USD from yfinance (Start: 2025-02-08, End: 2025-05-14, Interval: 1h)...
2025-05-14 10:40:44,901 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T15:40:44.901168+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_START", "message": "Starting new trading cycle.", "severity": "INFO"}
2025-05-14 10:40:44,902 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T15:40:44.902538+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_ATTEMPT", "message": "Attempting to fetch current holdings.", "severity": "INFO"}
2025-05-14 10:40:44,902 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 10:40:44,903 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 10:40:44,904 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 10:40:44,904 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 10:40:44,904 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': '/+zlxg3W4Rj46XgOzTLgqH6OstLJbryKwv3l8SE/LOQ1uURJMqtJnrRrS8ha1y+BRnvkftnzSReFjLsTxEm7Bg==', 'x-timestamp': '1747237244', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 10:40:45,099 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 10:40:45,100 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 15:40:45 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': '1fa84199-1004-40a4-a0f7-a61c8d9cee9d', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 40caef891a9915a9ba931786efe88086.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD56-P10', 'X-Amz-Cf-Id': 'oqkf2ofvSb2COOwIQQKwLAiutfPoTdvuI1p_qgOL1RFLHBa6zT_3lg=='}
2025-05-14 10:40:45,100 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 10:40:45,104 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 10:40:45,104 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T15:40:45.104737+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_SUCCESS", "message": "Successfully retrieved and processed 1 holdings.", "severity": "INFO", "details": {"holdings_count": 1, "assets_held": ["BTC"]}}
2025-05-14 10:40:45,105 - alt_crypto_data - INFO - Attempting to fetch data for BTC-USD via yfinance...
2025-05-14 10:40:45,105 - alt_crypto_data - INFO - Fetching price history for BTC-USD from yfinance (Start: 2025-02-08, End: 2025-05-14, Interval: 1h)...
2025-05-14 10:40:45,457 - alt_crypto_data - INFO - Successfully fetched 2281 data points for BTC-USD from yfinance.
2025-05-14 10:40:45,458 - alt_crypto_data - INFO - Successfully fetched data for BTC-USD via yfinance.
2025-05-14 10:40:45,481 - alt_crypto_data - INFO - Successfully fetched 2281 data points for BTC-USD from yfinance.
2025-05-14 10:40:45,481 - alt_crypto_data - INFO - Successfully fetched data for BTC-USD via yfinance.
2025-05-14 10:40:46,211 - crypto_bot_logger - ERROR - {"timestamp": "2025-05-14T15:40:46.211181+00:00", "source_component": "crypto_bot", "event_type": "FEATURE_GENERATION_ERROR", "message": "Error during feature generation for RL agent for BTC-USD: 'RobinhoodCryptoBot' object has no attribute 'current_balance'", "severity": "ERROR", "details": {"symbol": "BTC-USD", "error_message": "'RobinhoodCryptoBot' object has no attribute 'current_balance'", "exc_info": true}}
2025-05-14 10:40:46,211 - crypto_bot_logger - WARNING - {"timestamp": "2025-05-14T15:40:46.211443+00:00", "source_component": "crypto_bot", "event_type": "FEATURE_GENERATION_FAILED", "message": "Could not generate normalized features for BTC-USD. Defaulting to 'hold'.", "severity": "WARNING", "details": {"symbol": "BTC-USD"}}
2025-05-14 10:40:46,211 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T15:40:46.211660+00:00", "source_component": "crypto_bot", "event_type": "TRADE_EXECUTION_PHASE_START", "message": "Starting trade execution phase based on signals.", "severity": "INFO"}
2025-05-14 10:40:46,211 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T15:40:46.211815+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_COMPLETE", "message": "Trading cycle finished in 1.97 seconds.", "severity": "INFO", "details": {"cycle_duration_seconds": 1.97, "signals_generated": {"BTC-USD": "hold"}, "trades_attempted": 0}}
2025-05-14 10:40:46,234 - crypto_bot_logger - ERROR - {"timestamp": "2025-05-14T15:40:46.234083+00:00", "source_component": "crypto_bot", "event_type": "NORMALIZATION_STATS_MISSING", "message": "Normalization stats (mean/std) not found for BTC-USD. Defaulting to 'hold'.", "severity": "ERROR", "details": {"symbol": "BTC-USD", "available_stats_keys": ["means", "stds"]}}
2025-05-14 10:40:46,234 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T15:40:46.234422+00:00", "source_component": "crypto_bot", "event_type": "TRADE_EXECUTION_PHASE_START", "message": "Starting trade execution phase based on signals.", "severity": "INFO"}
2025-05-14 10:40:46,234 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T15:40:46.234494+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_COMPLETE", "message": "Trading cycle finished in 1.33 seconds.", "severity": "INFO", "details": {"cycle_duration_seconds": 1.33, "signals_generated": {"BTC-USD": "hold"}, "trades_attempted": 0}}
2025-05-14 10:45:47,187 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T15:45:47.186813+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_START", "message": "Starting new trading cycle.", "severity": "INFO"}
2025-05-14 10:45:47,189 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T15:45:47.189070+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_ATTEMPT", "message": "Attempting to fetch current holdings.", "severity": "INFO"}
2025-05-14 10:45:47,189 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 10:45:47,189 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 10:45:47,190 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 10:45:47,190 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 10:45:47,190 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': 'E8cHW8lrI4Pcbp3XEdDYXV8NqT7p/+lG5upb4b8VfUnphKKulPqN45tyAKvkV/BsdO24Rr/VXzOCgj3kzWzKCA==', 'x-timestamp': '1747237547', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 10:45:47,220 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T15:45:47.219919+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_START", "message": "Starting new trading cycle.", "severity": "INFO"}
2025-05-14 10:45:47,220 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T15:45:47.220514+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_ATTEMPT", "message": "Attempting to fetch current holdings.", "severity": "INFO"}
2025-05-14 10:45:47,220 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 10:45:47,220 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 10:45:47,221 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 10:45:47,221 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 10:45:47,221 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': 'E8cHW8lrI4Pcbp3XEdDYXV8NqT7p/+lG5upb4b8VfUnphKKulPqN45tyAKvkV/BsdO24Rr/VXzOCgj3kzWzKCA==', 'x-timestamp': '1747237547', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 10:45:47,413 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 10:45:47,414 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 15:45:47 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': '3beeab3c-8e18-4f87-917e-071b4cefbdc8', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 5a3010bd9376613ba1249daca87b27a2.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P1', 'X-Amz-Cf-Id': 'FPi2ufBSZIFIoukUGSKgiD_aAeyobz7_37QMLR52iHFvW_O8mb8-AA=='}
2025-05-14 10:45:47,414 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 10:45:47,418 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 10:45:47,418 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T15:45:47.418410+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_SUCCESS", "message": "Successfully retrieved and processed 1 holdings.", "severity": "INFO", "details": {"holdings_count": 1, "assets_held": ["BTC"]}}
2025-05-14 10:45:47,418 - alt_crypto_data - INFO - Attempting to fetch data for BTC-USD via yfinance...
2025-05-14 10:45:47,419 - alt_crypto_data - INFO - Fetching price history for BTC-USD from yfinance (Start: 2025-02-08, End: 2025-05-14, Interval: 1h)...
2025-05-14 10:45:47,450 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 10:45:47,451 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 15:45:47 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': 'f1a36dea-217d-424b-8624-ffe55f7312b5', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 5a3010bd9376613ba1249daca87b27a2.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P1', 'X-Amz-Cf-Id': 'chd-H6_zoyuAMKAc1rRefsOBt8JYZsNx4rKg-wWi5jIv_gKqKPk1Mg=='}
2025-05-14 10:45:47,451 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 10:45:47,453 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 10:45:47,453 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T15:45:47.453759+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_SUCCESS", "message": "Successfully retrieved and processed 1 holdings.", "severity": "INFO", "details": {"holdings_count": 1, "assets_held": ["BTC"]}}
2025-05-14 10:45:47,454 - alt_crypto_data - INFO - Attempting to fetch data for BTC-USD via yfinance...
2025-05-14 10:45:47,454 - alt_crypto_data - INFO - Fetching price history for BTC-USD from yfinance (Start: 2025-02-08, End: 2025-05-14, Interval: 1h)...
2025-05-14 10:45:48,119 - alt_crypto_data - INFO - Successfully fetched 2281 data points for BTC-USD from yfinance.
2025-05-14 10:45:48,119 - alt_crypto_data - INFO - Successfully fetched data for BTC-USD via yfinance.
2025-05-14 10:45:48,293 - alt_crypto_data - INFO - Successfully fetched 2281 data points for BTC-USD from yfinance.
2025-05-14 10:45:48,293 - alt_crypto_data - INFO - Successfully fetched data for BTC-USD via yfinance.
2025-05-14 10:45:48,926 - crypto_bot_logger - ERROR - {"timestamp": "2025-05-14T15:45:48.926365+00:00", "source_component": "crypto_bot", "event_type": "NORMALIZATION_STATS_MISSING", "message": "Normalization stats (mean/std) not found for BTC-USD. Defaulting to 'hold'.", "severity": "ERROR", "details": {"symbol": "BTC-USD", "available_stats_keys": ["means", "stds"]}}
2025-05-14 10:45:48,926 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T15:45:48.926624+00:00", "source_component": "crypto_bot", "event_type": "TRADE_EXECUTION_PHASE_START", "message": "Starting trade execution phase based on signals.", "severity": "INFO"}
2025-05-14 10:45:48,926 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T15:45:48.926695+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_COMPLETE", "message": "Trading cycle finished in 1.71 seconds.", "severity": "INFO", "details": {"cycle_duration_seconds": 1.71, "signals_generated": {"BTC-USD": "hold"}, "trades_attempted": 0}}
2025-05-14 10:45:49,029 - crypto_bot_logger - ERROR - {"timestamp": "2025-05-14T15:45:49.029262+00:00", "source_component": "crypto_bot", "event_type": "FEATURE_GENERATION_ERROR", "message": "Error during feature generation for RL agent for BTC-USD: 'RobinhoodCryptoBot' object has no attribute 'current_balance'", "severity": "ERROR", "details": {"symbol": "BTC-USD", "error_message": "'RobinhoodCryptoBot' object has no attribute 'current_balance'", "exc_info": true}}
2025-05-14 10:45:49,029 - crypto_bot_logger - WARNING - {"timestamp": "2025-05-14T15:45:49.029459+00:00", "source_component": "crypto_bot", "event_type": "FEATURE_GENERATION_FAILED", "message": "Could not generate normalized features for BTC-USD. Defaulting to 'hold'.", "severity": "WARNING", "details": {"symbol": "BTC-USD"}}
2025-05-14 10:45:49,029 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T15:45:49.029587+00:00", "source_component": "crypto_bot", "event_type": "TRADE_EXECUTION_PHASE_START", "message": "Starting trade execution phase based on signals.", "severity": "INFO"}
2025-05-14 10:45:49,029 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T15:45:49.029646+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_COMPLETE", "message": "Trading cycle finished in 1.84 seconds.", "severity": "INFO", "details": {"cycle_duration_seconds": 1.84, "signals_generated": {"BTC-USD": "hold"}, "trades_attempted": 0}}
2025-05-14 10:50:48,948 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T15:50:48.947681+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_START", "message": "Starting new trading cycle.", "severity": "INFO"}
2025-05-14 10:50:48,950 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T15:50:48.950347+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_ATTEMPT", "message": "Attempting to fetch current holdings.", "severity": "INFO"}
2025-05-14 10:50:48,950 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 10:50:48,951 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 10:50:48,951 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 10:50:48,952 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 10:50:48,952 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': 'IGcwxIfhTz55pyWY9UoJGlDnpq1QqkDobz4iZw1AJXCesBKduX2k9B2i+R9MRuF34w4TFmDFT1eZqfiGxs+IAQ==', 'x-timestamp': '1747237848', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 10:50:49,039 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T15:50:49.039524+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_START", "message": "Starting new trading cycle.", "severity": "INFO"}
2025-05-14 10:50:49,041 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T15:50:49.040515+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_ATTEMPT", "message": "Attempting to fetch current holdings.", "severity": "INFO"}
2025-05-14 10:50:49,041 - brokers.robinhood_broker - DEBUG - ENTERING _make_api_request for GET /api/v1/crypto/trading/holdings/
2025-05-14 10:50:49,042 - brokers.robinhood_broker - DEBUG - Attempting to sign message...
2025-05-14 10:50:49,042 - brokers.robinhood_broker - DEBUG - Message signing successful.
2025-05-14 10:50:49,042 - brokers.robinhood_broker - DEBUG - Making Robinhood API Request: GET https://trading.robinhood.com/api/v1/crypto/trading/holdings/
2025-05-14 10:50:49,043 - brokers.robinhood_broker - DEBUG - Request Headers: {'x-api-key': 'rh-api-8cf0cb4e-601b-4b18-8352-a7f927b8e0d6', 'x-signature': '1D+gR9/QkPwzbOY116Ii6HIrXjh9e5Jmv2BHOuAEgWyDpXod9EMOkDOYhkoBqudKnCmrfajXvLGCgZ1uxPVWDA==', 'x-timestamp': '1747237849', 'Content-Type': 'application/json; charset=utf-8'}
2025-05-14 10:50:49,285 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 10:50:49,286 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 15:50:49 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': 'c4233810-0221-4a4e-8a1f-bfd4be372a9d', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 3e15e20983f10122d7332649559a0f8c.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P6', 'X-Amz-Cf-Id': 'tXNme4ub00N9_x255P03Mc_jj04S_xp2dj2Xgb-GIuEGflxZ71vCnA=='}
2025-05-14 10:50:49,286 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 10:50:49,290 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 10:50:49,290 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T15:50:49.290465+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_SUCCESS", "message": "Successfully retrieved and processed 1 holdings.", "severity": "INFO", "details": {"holdings_count": 1, "assets_held": ["BTC"]}}
2025-05-14 10:50:49,290 - alt_crypto_data - INFO - Attempting to fetch data for BTC-USD via yfinance...
2025-05-14 10:50:49,291 - alt_crypto_data - INFO - Fetching price history for BTC-USD from yfinance (Start: 2025-02-08, End: 2025-05-14, Interval: 1h)...
2025-05-14 10:50:49,306 - brokers.robinhood_broker - DEBUG - Response Status Code: 200
2025-05-14 10:50:49,306 - brokers.robinhood_broker - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '190', 'Connection': 'keep-alive', 'server': 'envoy', 'date': 'Wed, 14 May 2025 15:50:49 GMT', 'allow': 'GET, HEAD, OPTIONS', 'x-robinhood-api-version': '0.0.0', 'trace-uuid': '37f66d95-711e-466d-a2fa-e37e43d39550', 'x-content-type-options': 'nosniff', 'referrer-policy': 'same-origin', 'cross-origin-opener-policy': 'same-origin', 'vary': 'Origin', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 343244031758b0b51a24ef2fac7819dc.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ORD58-P6', 'X-Amz-Cf-Id': 'z9vTI6m51Z2Cmvx91w5YffASOTdTYBp4zTjOiURo7IfOJsM7hUam5Q=='}
2025-05-14 10:50:49,306 - brokers.robinhood_broker - DEBUG - Response Text (partial): {"next":null,"previous":null,"results":[{"account_number":"311081964512","asset_code":"BTC","total_quantity":"0.000212380000000000","quantity_available_for_trading":"0.000212380000000000"}]}...
2025-05-14 10:50:49,308 - brokers.robinhood_broker - DEBUG - Parsed holdings: {'BTC': Decimal('0.000212380000000000')}
2025-05-14 10:50:49,309 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T15:50:49.308927+00:00", "source_component": "crypto_bot", "event_type": "HOLDINGS_FETCH_SUCCESS", "message": "Successfully retrieved and processed 1 holdings.", "severity": "INFO", "details": {"holdings_count": 1, "assets_held": ["BTC"]}}
2025-05-14 10:50:49,309 - alt_crypto_data - INFO - Attempting to fetch data for BTC-USD via yfinance...
2025-05-14 10:50:49,309 - alt_crypto_data - INFO - Fetching price history for BTC-USD from yfinance (Start: 2025-02-08, End: 2025-05-14, Interval: 1h)...
2025-05-14 10:50:49,979 - alt_crypto_data - INFO - Successfully fetched 2281 data points for BTC-USD from yfinance.
2025-05-14 10:50:49,979 - alt_crypto_data - INFO - Successfully fetched data for BTC-USD via yfinance.
2025-05-14 10:50:50,082 - alt_crypto_data - INFO - Successfully fetched 2281 data points for BTC-USD from yfinance.
2025-05-14 10:50:50,082 - alt_crypto_data - INFO - Successfully fetched data for BTC-USD via yfinance.
2025-05-14 10:50:50,681 - crypto_bot_logger - ERROR - {"timestamp": "2025-05-14T15:50:50.681127+00:00", "source_component": "crypto_bot", "event_type": "NORMALIZATION_STATS_MISSING", "message": "Normalization stats (mean/std) not found for BTC-USD. Defaulting to 'hold'.", "severity": "ERROR", "details": {"symbol": "BTC-USD", "available_stats_keys": ["means", "stds"]}}
2025-05-14 10:50:50,681 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T15:50:50.681415+00:00", "source_component": "crypto_bot", "event_type": "TRADE_EXECUTION_PHASE_START", "message": "Starting trade execution phase based on signals.", "severity": "INFO"}
2025-05-14 10:50:50,681 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T15:50:50.681490+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_COMPLETE", "message": "Trading cycle finished in 1.73 seconds.", "severity": "INFO", "details": {"cycle_duration_seconds": 1.73, "signals_generated": {"BTC-USD": "hold"}, "trades_attempted": 0}}
2025-05-14 10:50:50,846 - crypto_bot_logger - ERROR - {"timestamp": "2025-05-14T15:50:50.846891+00:00", "source_component": "crypto_bot", "event_type": "FEATURE_GENERATION_ERROR", "message": "Error during feature generation for RL agent for BTC-USD: 'RobinhoodCryptoBot' object has no attribute 'current_balance'", "severity": "ERROR", "details": {"symbol": "BTC-USD", "error_message": "'RobinhoodCryptoBot' object has no attribute 'current_balance'", "exc_info": true}}
2025-05-14 10:50:50,847 - crypto_bot_logger - WARNING - {"timestamp": "2025-05-14T15:50:50.847078+00:00", "source_component": "crypto_bot", "event_type": "FEATURE_GENERATION_FAILED", "message": "Could not generate normalized features for BTC-USD. Defaulting to 'hold'.", "severity": "WARNING", "details": {"symbol": "BTC-USD"}}
2025-05-14 10:50:50,847 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T15:50:50.847224+00:00", "source_component": "crypto_bot", "event_type": "TRADE_EXECUTION_PHASE_START", "message": "Starting trade execution phase based on signals.", "severity": "INFO"}
2025-05-14 10:50:50,847 - crypto_bot_logger - INFO - {"timestamp": "2025-05-14T15:50:50.847286+00:00", "source_component": "crypto_bot", "event_type": "TRADING_CYCLE_COMPLETE", "message": "Trading cycle finished in 1.81 seconds.", "severity": "INFO", "details": {"cycle_duration_seconds": 1.81, "signals_generated": {"BTC-USD": "hold"}, "trades_attempted": 0}}
