[I 2025-04-11 02:55:37,997] A new study created in RDB with name: crypto_alternative_algo_tuning
--- Configuration Loaded ---
Symbols: ['BTC']
Interval: 5 minutes
Enable Trading: True
Enable RL Model: True
Traditional Strategy: RL
Log Level: DEBUG
Data Provider: yfinance
--------------------------
  0%|          | 0/50 [00:00<?, ?it/s]2025-04-11 02:55:38,092 - INFO - AltCryptoDataProvider initialized. Primary source: yfinance, Fallback: CoinGecko
2025-04-11 02:55:38,092 - INFO - Fetching price history for BTC-USD from yfinance (Period: 30 days, Interval: 1h)...
2025-04-11 02:55:38,092 - DEBUG - Formatting symbol 'BTC-USD' to 'BTC-USD' for yfinance.
2025-04-11 02:55:38,092 - DEBUG - Formatting symbol 'BTC-USD' to 'BTC-USD' for yfinance.
2025-04-11 02:55:38,092 - INFO - Fetching price history for BTC-USD from yfinance (Period: 6mo, Interval: 1h)...
2025-04-11 02:55:38,093 - DEBUG - Using User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 14.7; rv:135.0) Gecko/20100101 Firefox/135.0
2025-04-11 02:55:38,093 - DEBUG - Entering history()
2025-04-11 02:55:38,094 - DEBUG - ('CREATE TABLE IF NOT EXISTS "_kv" ("key" VARCHAR(255) NOT NULL PRIMARY KEY, "value" VARCHAR(255)) WITHOUT ROWID', [])
2025-04-11 02:55:38,094 - DEBUG - ('SELECT "t1"."key", "t1"."value" FROM "_kv" AS "t1" WHERE ("t1"."key" = ?) LIMIT ? OFFSET ?', ['BTC-USD', 1, 0])
2025-04-11 02:55:38,095 - DEBUG -  Entering history()
2025-04-11 02:55:38,095 - DEBUG - BTC-USD: Yahoo GET parameters: {'range': '6mo', 'interval': '1h', 'includePrePost': False, 'events': 'div,splits,capitalGains'}
2025-04-11 02:55:38,095 - DEBUG -   Entering get()
2025-04-11 02:55:38,095 - DEBUG -    Entering _make_request()
2025-04-11 02:55:38,095 - DEBUG - url=https://query2.finance.yahoo.com/v8/finance/chart/BTC-USD
2025-04-11 02:55:38,095 - DEBUG - params={'range': '6mo', 'interval': '1h', 'includePrePost': False, 'events': 'div,splits,capitalGains'}
2025-04-11 02:55:38,095 - DEBUG -     Entering _get_cookie_and_crumb()
2025-04-11 02:55:38,095 - DEBUG - cookie_mode = 'basic'
2025-04-11 02:55:38,095 - DEBUG -      Entering _get_cookie_and_crumb_basic()
2025-04-11 02:55:38,096 - DEBUG - ('CREATE TABLE IF NOT EXISTS "_cookieschema" ("strategy" VARCHAR(255) NOT NULL PRIMARY KEY, "fetch_date" DATETIME NOT NULL, "cookie_bytes" BLOB NOT NULL) WITHOUT ROWID', [])
2025-04-11 02:55:38,096 - DEBUG - ('SELECT "t1"."strategy", "t1"."fetch_date", "t1"."cookie_bytes" FROM "_cookieschema" AS "t1" WHERE ("t1"."strategy" = ?) LIMIT ? OFFSET ?', ['basic', 1, 0])
2025-04-11 02:55:38,096 - DEBUG - loaded persistent cookie
2025-04-11 02:55:38,096 - DEBUG - reusing cookie
2025-04-11 02:55:38,101 - DEBUG - Starting new HTTPS connection (1): query1.finance.yahoo.com:443
2025-04-11 02:55:38,103 - INFO - AltCryptoDataProvider initialized. Primary source: yfinance, Fallback: CoinGecko
2025-04-11 02:55:38,103 - INFO - Fetching price history for BTC-USD from yfinance (Period: 30 days, Interval: 1h)...
2025-04-11 02:55:38,103 - DEBUG - Formatting symbol 'BTC-USD' to 'BTC-USD' for yfinance.
2025-04-11 02:55:38,103 - DEBUG - Formatting symbol 'BTC-USD' to 'BTC-USD' for yfinance.
2025-04-11 02:55:38,103 - INFO - Fetching price history for BTC-USD from yfinance (Period: 6mo, Interval: 1h)...
2025-04-11 02:55:38,103 - DEBUG - Entering history()
2025-04-11 02:55:38,103 - DEBUG - ('SELECT "t1"."key", "t1"."value" FROM "_kv" AS "t1" WHERE ("t1"."key" = ?) LIMIT ? OFFSET ?', ['BTC-USD', 1, 0])
2025-04-11 02:55:38,103 - DEBUG -  Entering history()
2025-04-11 02:55:38,103 - DEBUG - BTC-USD: Yahoo GET parameters: {'range': '6mo', 'interval': '1h', 'includePrePost': False, 'events': 'div,splits,capitalGains'}
2025-04-11 02:55:38,103 - DEBUG -   Entering get()
2025-04-11 02:55:38,103 - DEBUG -    Entering _make_request()
2025-04-11 02:55:38,103 - DEBUG - url=https://query2.finance.yahoo.com/v8/finance/chart/BTC-USD
2025-04-11 02:55:38,103 - DEBUG - params={'range': '6mo', 'interval': '1h', 'includePrePost': False, 'events': 'div,splits,capitalGains'}
2025-04-11 02:55:38,103 - DEBUG -     Entering _get_cookie_and_crumb()
2025-04-11 02:55:38,103 - DEBUG - cookie_mode = 'basic'
2025-04-11 02:55:38,153 - INFO - AltCryptoDataProvider initialized. Primary source: yfinance, Fallback: CoinGecko
2025-04-11 02:55:38,153 - INFO - Fetching price history for BTC-USD from yfinance (Period: 30 days, Interval: 1h)...
2025-04-11 02:55:38,153 - DEBUG - Formatting symbol 'BTC-USD' to 'BTC-USD' for yfinance.
2025-04-11 02:55:38,153 - DEBUG - Formatting symbol 'BTC-USD' to 'BTC-USD' for yfinance.
2025-04-11 02:55:38,154 - INFO - Fetching price history for BTC-USD from yfinance (Period: 6mo, Interval: 1h)...
2025-04-11 02:55:38,154 - DEBUG - Entering history()
2025-04-11 02:55:38,154 - DEBUG - ('SELECT "t1"."key", "t1"."value" FROM "_kv" AS "t1" WHERE ("t1"."key" = ?) LIMIT ? OFFSET ?', ['BTC-USD', 1, 0])
2025-04-11 02:55:38,156 - DEBUG -  Entering history()
2025-04-11 02:55:38,156 - DEBUG - BTC-USD: Yahoo GET parameters: {'range': '6mo', 'interval': '1h', 'includePrePost': False, 'events': 'div,splits,capitalGains'}
2025-04-11 02:55:38,156 - DEBUG -   Entering get()
2025-04-11 02:55:38,156 - DEBUG -    Entering _make_request()
2025-04-11 02:55:38,156 - DEBUG - url=https://query2.finance.yahoo.com/v8/finance/chart/BTC-USD
2025-04-11 02:55:38,156 - DEBUG - params={'range': '6mo', 'interval': '1h', 'includePrePost': False, 'events': 'div,splits,capitalGains'}
2025-04-11 02:55:38,156 - DEBUG -     Entering _get_cookie_and_crumb()
2025-04-11 02:55:38,156 - DEBUG - cookie_mode = 'basic'
2025-04-11 02:55:38,171 - INFO - AltCryptoDataProvider initialized. Primary source: yfinance, Fallback: CoinGecko
2025-04-11 02:55:38,172 - INFO - Fetching price history for BTC-USD from yfinance (Period: 30 days, Interval: 1h)...
2025-04-11 02:55:38,172 - DEBUG - Formatting symbol 'BTC-USD' to 'BTC-USD' for yfinance.
2025-04-11 02:55:38,172 - DEBUG - Formatting symbol 'BTC-USD' to 'BTC-USD' for yfinance.
2025-04-11 02:55:38,172 - INFO - Fetching price history for BTC-USD from yfinance (Period: 6mo, Interval: 1h)...
2025-04-11 02:55:38,172 - DEBUG - Entering history()
2025-04-11 02:55:38,172 - DEBUG - ('SELECT "t1"."key", "t1"."value" FROM "_kv" AS "t1" WHERE ("t1"."key" = ?) LIMIT ? OFFSET ?', ['BTC-USD', 1, 0])
2025-04-11 02:55:38,172 - DEBUG -  Entering history()
2025-04-11 02:55:38,172 - DEBUG - BTC-USD: Yahoo GET parameters: {'range': '6mo', 'interval': '1h', 'includePrePost': False, 'events': 'div,splits,capitalGains'}
2025-04-11 02:55:38,172 - DEBUG -   Entering get()
2025-04-11 02:55:38,172 - DEBUG -    Entering _make_request()
2025-04-11 02:55:38,172 - DEBUG - url=https://query2.finance.yahoo.com/v8/finance/chart/BTC-USD
2025-04-11 02:55:38,172 - DEBUG - params={'range': '6mo', 'interval': '1h', 'includePrePost': False, 'events': 'div,splits,capitalGains'}
2025-04-11 02:55:38,172 - DEBUG -     Entering _get_cookie_and_crumb()
2025-04-11 02:55:38,172 - DEBUG - cookie_mode = 'basic'
2025-04-11 02:55:38,184 - INFO - AltCryptoDataProvider initialized. Primary source: yfinance, Fallback: CoinGecko
2025-04-11 02:55:38,184 - INFO - Fetching price history for BTC-USD from yfinance (Period: 30 days, Interval: 1h)...
2025-04-11 02:55:38,185 - DEBUG - Formatting symbol 'BTC-USD' to 'BTC-USD' for yfinance.
2025-04-11 02:55:38,185 - DEBUG - Formatting symbol 'BTC-USD' to 'BTC-USD' for yfinance.
2025-04-11 02:55:38,185 - INFO - Fetching price history for BTC-USD from yfinance (Period: 6mo, Interval: 1h)...
2025-04-11 02:55:38,185 - DEBUG - Entering history()
2025-04-11 02:55:38,185 - DEBUG - ('SELECT "t1"."key", "t1"."value" FROM "_kv" AS "t1" WHERE ("t1"."key" = ?) LIMIT ? OFFSET ?', ['BTC-USD', 1, 0])
2025-04-11 02:55:38,185 - DEBUG -  Entering history()
2025-04-11 02:55:38,185 - DEBUG - BTC-USD: Yahoo GET parameters: {'range': '6mo', 'interval': '1h', 'includePrePost': False, 'events': 'div,splits,capitalGains'}
2025-04-11 02:55:38,185 - DEBUG -   Entering get()
2025-04-11 02:55:38,185 - DEBUG -    Entering _make_request()
2025-04-11 02:55:38,185 - DEBUG - url=https://query2.finance.yahoo.com/v8/finance/chart/BTC-USD
2025-04-11 02:55:38,185 - DEBUG - params={'range': '6mo', 'interval': '1h', 'includePrePost': False, 'events': 'div,splits,capitalGains'}
2025-04-11 02:55:38,186 - DEBUG -     Entering _get_cookie_and_crumb()
2025-04-11 02:55:38,186 - DEBUG - cookie_mode = 'basic'
2025-04-11 02:55:38,196 - INFO - AltCryptoDataProvider initialized. Primary source: yfinance, Fallback: CoinGecko
2025-04-11 02:55:38,196 - INFO - Fetching price history for BTC-USD from yfinance (Period: 30 days, Interval: 1h)...
2025-04-11 02:55:38,196 - DEBUG - Formatting symbol 'BTC-USD' to 'BTC-USD' for yfinance.
2025-04-11 02:55:38,196 - DEBUG - Formatting symbol 'BTC-USD' to 'BTC-USD' for yfinance.
2025-04-11 02:55:38,196 - INFO - Fetching price history for BTC-USD from yfinance (Period: 6mo, Interval: 1h)...
2025-04-11 02:55:38,196 - DEBUG - Entering history()
2025-04-11 02:55:38,196 - DEBUG - ('SELECT "t1"."key", "t1"."value" FROM "_kv" AS "t1" WHERE ("t1"."key" = ?) LIMIT ? OFFSET ?', ['BTC-USD', 1, 0])
2025-04-11 02:55:38,197 - DEBUG -  Entering history()
2025-04-11 02:55:38,197 - DEBUG - BTC-USD: Yahoo GET parameters: {'range': '6mo', 'interval': '1h', 'includePrePost': False, 'events': 'div,splits,capitalGains'}
2025-04-11 02:55:38,197 - DEBUG -   Entering get()
2025-04-11 02:55:38,197 - DEBUG -    Entering _make_request()
2025-04-11 02:55:38,197 - DEBUG - url=https://query2.finance.yahoo.com/v8/finance/chart/BTC-USD
2025-04-11 02:55:38,197 - DEBUG - params={'range': '6mo', 'interval': '1h', 'includePrePost': False, 'events': 'div,splits,capitalGains'}
2025-04-11 02:55:38,197 - DEBUG -     Entering _get_cookie_and_crumb()
2025-04-11 02:55:38,197 - DEBUG - cookie_mode = 'basic'
2025-04-11 02:55:38,197 - INFO - AltCryptoDataProvider initialized. Primary source: yfinance, Fallback: CoinGecko
2025-04-11 02:55:38,197 - INFO - Fetching price history for BTC-USD from yfinance (Period: 30 days, Interval: 1h)...
2025-04-11 02:55:38,197 - DEBUG - Formatting symbol 'BTC-USD' to 'BTC-USD' for yfinance.
2025-04-11 02:55:38,197 - DEBUG - Formatting symbol 'BTC-USD' to 'BTC-USD' for yfinance.
2025-04-11 02:55:38,198 - INFO - Fetching price history for BTC-USD from yfinance (Period: 6mo, Interval: 1h)...
2025-04-11 02:55:38,198 - DEBUG - Entering history()
2025-04-11 02:55:38,198 - DEBUG - ('SELECT "t1"."key", "t1"."value" FROM "_kv" AS "t1" WHERE ("t1"."key" = ?) LIMIT ? OFFSET ?', ['BTC-USD', 1, 0])
2025-04-11 02:55:38,198 - INFO - AltCryptoDataProvider initialized. Primary source: yfinance, Fallback: CoinGecko
2025-04-11 02:55:38,198 - INFO - Fetching price history for BTC-USD from yfinance (Period: 30 days, Interval: 1h)...
2025-04-11 02:55:38,198 - DEBUG - Formatting symbol 'BTC-USD' to 'BTC-USD' for yfinance.
2025-04-11 02:55:38,198 - DEBUG - Formatting symbol 'BTC-USD' to 'BTC-USD' for yfinance.
2025-04-11 02:55:38,198 - INFO - Fetching price history for BTC-USD from yfinance (Period: 6mo, Interval: 1h)...
2025-04-11 02:55:38,198 - DEBUG - Entering history()
2025-04-11 02:55:38,198 - DEBUG - ('SELECT "t1"."key", "t1"."value" FROM "_kv" AS "t1" WHERE ("t1"."key" = ?) LIMIT ? OFFSET ?', ['BTC-USD', 1, 0])
2025-04-11 02:55:38,198 - DEBUG -  Entering history()
2025-04-11 02:55:38,198 - DEBUG - BTC-USD: Yahoo GET parameters: {'range': '6mo', 'interval': '1h', 'includePrePost': False, 'events': 'div,splits,capitalGains'}
2025-04-11 02:55:38,198 - DEBUG -   Entering get()
2025-04-11 02:55:38,198 - DEBUG -    Entering _make_request()
2025-04-11 02:55:38,198 - DEBUG - url=https://query2.finance.yahoo.com/v8/finance/chart/BTC-USD
2025-04-11 02:55:38,198 - DEBUG - params={'range': '6mo', 'interval': '1h', 'includePrePost': False, 'events': 'div,splits,capitalGains'}
2025-04-11 02:55:38,198 - DEBUG -     Entering _get_cookie_and_crumb()
2025-04-11 02:55:38,198 - DEBUG - cookie_mode = 'basic'
2025-04-11 02:55:38,198 - DEBUG -  Entering history()
2025-04-11 02:55:38,198 - DEBUG - BTC-USD: Yahoo GET parameters: {'range': '6mo', 'interval': '1h', 'includePrePost': False, 'events': 'div,splits,capitalGains'}
2025-04-11 02:55:38,198 - DEBUG -   Entering get()
2025-04-11 02:55:38,198 - DEBUG -    Entering _make_request()
2025-04-11 02:55:38,198 - DEBUG - url=https://query2.finance.yahoo.com/v8/finance/chart/BTC-USD
2025-04-11 02:55:38,198 - DEBUG - params={'range': '6mo', 'interval': '1h', 'includePrePost': False, 'events': 'div,splits,capitalGains'}
2025-04-11 02:55:38,198 - DEBUG -     Entering _get_cookie_and_crumb()
2025-04-11 02:55:38,198 - DEBUG - cookie_mode = 'basic'
2025-04-11 02:55:38,278 - DEBUG - https://query1.finance.yahoo.com:443 "GET /v1/test/getcrumb HTTP/1.1" 200 11
2025-04-11 02:55:38,278 - DEBUG - crumb = 'kgUq8obvE.l'
2025-04-11 02:55:38,278 - DEBUG -      Exiting _get_cookie_and_crumb_basic()
2025-04-11 02:55:38,278 - DEBUG -     Exiting _get_cookie_and_crumb()
2025-04-11 02:55:38,278 - DEBUG -      Entering _get_cookie_and_crumb_basic()
2025-04-11 02:55:38,279 - DEBUG - reusing cookie
2025-04-11 02:55:38,279 - DEBUG - reusing crumb
2025-04-11 02:55:38,279 - DEBUG -      Exiting _get_cookie_and_crumb_basic()
2025-04-11 02:55:38,279 - DEBUG -     Exiting _get_cookie_and_crumb()
2025-04-11 02:55:38,279 - DEBUG -      Entering _get_cookie_and_crumb_basic()
2025-04-11 02:55:38,279 - DEBUG - reusing cookie
2025-04-11 02:55:38,279 - DEBUG - reusing crumb
2025-04-11 02:55:38,279 - DEBUG - Starting new HTTPS connection (1): query2.finance.yahoo.com:443
2025-04-11 02:55:38,279 - DEBUG -      Exiting _get_cookie_and_crumb_basic()
2025-04-11 02:55:38,279 - DEBUG - Starting new HTTPS connection (2): query2.finance.yahoo.com:443
2025-04-11 02:55:38,279 - DEBUG -     Exiting _get_cookie_and_crumb()
2025-04-11 02:55:38,280 - DEBUG -      Entering _get_cookie_and_crumb_basic()
2025-04-11 02:55:38,280 - DEBUG - reusing cookie
2025-04-11 02:55:38,280 - DEBUG - reusing crumb
2025-04-11 02:55:38,280 - DEBUG -      Exiting _get_cookie_and_crumb_basic()
2025-04-11 02:55:38,280 - DEBUG -     Exiting _get_cookie_and_crumb()
2025-04-11 02:55:38,280 - DEBUG -      Entering _get_cookie_and_crumb_basic()
2025-04-11 02:55:38,280 - DEBUG - reusing cookie
2025-04-11 02:55:38,280 - DEBUG - reusing crumb
2025-04-11 02:55:38,280 - DEBUG -      Exiting _get_cookie_and_crumb_basic()
2025-04-11 02:55:38,280 - DEBUG -     Exiting _get_cookie_and_crumb()
2025-04-11 02:55:38,280 - DEBUG -      Entering _get_cookie_and_crumb_basic()
2025-04-11 02:55:38,280 - DEBUG - Starting new HTTPS connection (3): query2.finance.yahoo.com:443
2025-04-11 02:55:38,280 - DEBUG - reusing cookie
2025-04-11 02:55:38,281 - DEBUG - Starting new HTTPS connection (4): query2.finance.yahoo.com:443
2025-04-11 02:55:38,281 - DEBUG - Starting new HTTPS connection (5): query2.finance.yahoo.com:443
2025-04-11 02:55:38,281 - DEBUG - reusing crumb
2025-04-11 02:55:38,281 - DEBUG -      Exiting _get_cookie_and_crumb_basic()
2025-04-11 02:55:38,281 - DEBUG -     Exiting _get_cookie_and_crumb()
2025-04-11 02:55:38,281 - DEBUG -      Entering _get_cookie_and_crumb_basic()
2025-04-11 02:55:38,281 - DEBUG - reusing cookie
2025-04-11 02:55:38,281 - DEBUG - reusing crumb
2025-04-11 02:55:38,281 - DEBUG -      Exiting _get_cookie_and_crumb_basic()
2025-04-11 02:55:38,281 - DEBUG -     Exiting _get_cookie_and_crumb()
2025-04-11 02:55:38,281 - DEBUG -      Entering _get_cookie_and_crumb_basic()
2025-04-11 02:55:38,281 - DEBUG - reusing cookie
2025-04-11 02:55:38,281 - DEBUG - reusing crumb
2025-04-11 02:55:38,282 - DEBUG - Starting new HTTPS connection (6): query2.finance.yahoo.com:443
2025-04-11 02:55:38,282 - DEBUG -      Exiting _get_cookie_and_crumb_basic()
2025-04-11 02:55:38,282 - DEBUG - Starting new HTTPS connection (7): query2.finance.yahoo.com:443
2025-04-11 02:55:38,282 - DEBUG -     Exiting _get_cookie_and_crumb()
2025-04-11 02:55:38,282 - DEBUG - Starting new HTTPS connection (8): query2.finance.yahoo.com:443
2025-04-11 02:55:38,471 - DEBUG - https://query2.finance.yahoo.com:443 "GET /v8/finance/chart/BTC-USD?range=6mo&interval=1h&includePrePost=False&events=div%2Csplits%2CcapitalGains&crumb=kgUq8obvE.l HTTP/1.1" 200 None
2025-04-11 02:55:38,489 - DEBUG - https://query2.finance.yahoo.com:443 "GET /v8/finance/chart/BTC-USD?range=6mo&interval=1h&includePrePost=False&events=div%2Csplits%2CcapitalGains&crumb=kgUq8obvE.l HTTP/1.1" 200 None
2025-04-11 02:55:38,545 - DEBUG - https://query2.finance.yahoo.com:443 "GET /v8/finance/chart/BTC-USD?range=6mo&interval=1h&includePrePost=False&events=div%2Csplits%2CcapitalGains&crumb=kgUq8obvE.l HTTP/1.1" 200 None
2025-04-11 02:55:38,550 - DEBUG - https://query2.finance.yahoo.com:443 "GET /v8/finance/chart/BTC-USD?range=6mo&interval=1h&includePrePost=False&events=div%2Csplits%2CcapitalGains&crumb=kgUq8obvE.l HTTP/1.1" 200 None
2025-04-11 02:55:38,568 - DEBUG - response code=200
2025-04-11 02:55:38,568 - DEBUG -    Exiting _make_request()
2025-04-11 02:55:38,568 - DEBUG -   Exiting get()
2025-04-11 02:55:38,577 - DEBUG - BTC-USD: yfinance received OHLC data: 2024-10-11 07:00:00 -> 2025-04-11 07:54:00
2025-04-11 02:55:38,586 - DEBUG - https://query2.finance.yahoo.com:443 "GET /v8/finance/chart/BTC-USD?range=6mo&interval=1h&includePrePost=False&events=div%2Csplits%2CcapitalGains&crumb=kgUq8obvE.l HTTP/1.1" 200 None
2025-04-11 02:55:38,586 - DEBUG - BTC-USD: OHLC after cleaning: 2024-10-11 07:00:00+00:00 -> 2025-04-11 07:54:00+00:00
2025-04-11 02:55:38,587 - DEBUG - BTC-USD: OHLC after combining events: 2024-10-11 07:00:00+00:00 -> 2025-04-11 07:54:00+00:00
2025-04-11 02:55:38,590 - DEBUG - https://query2.finance.yahoo.com:443 "GET /v8/finance/chart/BTC-USD?range=6mo&interval=1h&includePrePost=False&events=div%2Csplits%2CcapitalGains&crumb=kgUq8obvE.l HTTP/1.1" 200 None
2025-04-11 02:55:38,594 - DEBUG - BTC-USD: yfinance returning OHLC: 2024-10-11 07:00:00+00:00 -> 2025-04-11 07:00:00+00:00
2025-04-11 02:55:38,594 - DEBUG -  Exiting history()
2025-04-11 02:55:38,594 - DEBUG - Exiting history()
2025-04-11 02:55:38,594 - DEBUG - https://query2.finance.yahoo.com:443 "GET /v8/finance/chart/BTC-USD?range=6mo&interval=1h&includePrePost=False&events=div%2Csplits%2CcapitalGains&crumb=kgUq8obvE.l HTTP/1.1" 200 None
2025-04-11 02:55:38,595 - INFO - Successfully fetched 4368 data points for BTC-USD from yfinance.
2025-04-11 02:55:38,595 - WARNING - Some volumes are zero or negative. Applying absolute value.
2025-04-11 02:55:38,644 - DEBUG - response code=200
2025-04-11 02:55:38,644 - DEBUG -    Exiting _make_request()
2025-04-11 02:55:38,644 - DEBUG -   Exiting get()
2025-04-11 02:55:38,654 - DEBUG - BTC-USD: yfinance received OHLC data: 2024-10-11 07:00:00 -> 2025-04-11 07:54:00
2025-04-11 02:55:38,677 - DEBUG - BTC-USD: OHLC after cleaning: 2024-10-11 07:00:00+00:00 -> 2025-04-11 07:54:00+00:00
2025-04-11 02:55:38,678 - DEBUG - BTC-USD: OHLC after combining events: 2024-10-11 07:00:00+00:00 -> 2025-04-11 07:54:00+00:00
2025-04-11 02:55:38,737 - DEBUG - response code=200
2025-04-11 02:55:38,742 - DEBUG -    Exiting _make_request()
2025-04-11 02:55:38,742 - DEBUG - response code=200
2025-04-11 02:55:38,742 - DEBUG -   Exiting get()
2025-04-11 02:55:38,743 - DEBUG -    Exiting _make_request()
2025-04-11 02:55:38,751 - DEBUG -   Exiting get()
2025-04-11 02:55:38,769 - DEBUG - BTC-USD: yfinance received OHLC data: 2024-10-11 07:00:00 -> 2025-04-11 07:54:00
2025-04-11 02:55:38,774 - DEBUG - BTC-USD: yfinance received OHLC data: 2024-10-11 07:00:00 -> 2025-04-11 07:54:00
2025-04-11 02:55:38,785 - DEBUG - response code=200
2025-04-11 02:55:38,797 - DEBUG - https://query2.finance.yahoo.com:443 "GET /v8/finance/chart/BTC-USD?range=6mo&interval=1h&includePrePost=False&events=div%2Csplits%2CcapitalGains&crumb=kgUq8obvE.l HTTP/1.1" 200 102696
2025-04-11 02:55:38,797 - DEBUG -    Exiting _make_request()
2025-04-11 02:55:38,801 - DEBUG - BTC-USD: OHLC after cleaning: 2024-10-11 07:00:00+00:00 -> 2025-04-11 07:54:00+00:00
2025-04-11 02:55:38,803 - DEBUG - BTC-USD: yfinance returning OHLC: 2024-10-11 07:00:00+00:00 -> 2025-04-11 07:00:00+00:00
2025-04-11 02:55:38,818 - DEBUG - BTC-USD: OHLC after cleaning: 2024-10-11 07:00:00+00:00 -> 2025-04-11 07:54:00+00:00
2025-04-11 02:55:38,822 - DEBUG -   Exiting get()
2025-04-11 02:55:38,833 - DEBUG -  Exiting history()
2025-04-11 02:55:38,857 - DEBUG - BTC-USD: OHLC after combining events: 2024-10-11 07:00:00+00:00 -> 2025-04-11 07:54:00+00:00
2025-04-11 02:55:38,866 - DEBUG - BTC-USD: OHLC after combining events: 2024-10-11 07:00:00+00:00 -> 2025-04-11 07:54:00+00:00
2025-04-11 02:55:38,868 - DEBUG - Exiting history()
2025-04-11 02:55:38,884 - DEBUG - BTC-USD: yfinance received OHLC data: 2024-10-11 07:00:00 -> 2025-04-11 07:54:00
2025-04-11 02:55:38,888 - DEBUG - response code=200
2025-04-11 02:55:38,905 - DEBUG -    Exiting _make_request()
2025-04-11 02:55:38,916 - DEBUG -   Exiting get()
2025-04-11 02:55:38,937 - DEBUG - BTC-USD: OHLC after cleaning: 2024-10-11 07:00:00+00:00 -> 2025-04-11 07:54:00+00:00
2025-04-11 02:55:38,941 - DEBUG - BTC-USD: OHLC after combining events: 2024-10-11 07:00:00+00:00 -> 2025-04-11 07:54:00+00:00
2025-04-11 02:55:38,946 - DEBUG - BTC-USD: yfinance received OHLC data: 2024-10-11 07:00:00 -> 2025-04-11 07:54:00
2025-04-11 02:55:38,954 - DEBUG - response code=200
2025-04-11 02:55:38,955 - DEBUG -    Exiting _make_request()
2025-04-11 02:55:38,959 - INFO - Successfully fetched 4368 data points for BTC-USD from yfinance.
2025-04-11 02:55:38,960 - DEBUG -   Exiting get()
2025-04-11 02:55:38,961 - WARNING - Some volumes are zero or negative. Applying absolute value.
2025-04-11 02:55:38,970 - DEBUG - BTC-USD: OHLC after cleaning: 2024-10-11 07:00:00+00:00 -> 2025-04-11 07:54:00+00:00
2025-04-11 02:55:38,976 - DEBUG - BTC-USD: yfinance received OHLC data: 2024-10-11 07:00:00 -> 2025-04-11 07:54:00
2025-04-11 02:55:38,979 - DEBUG - BTC-USD: OHLC after combining events: 2024-10-11 07:00:00+00:00 -> 2025-04-11 07:54:00+00:00
2025-04-11 02:55:39,007 - DEBUG - BTC-USD: OHLC after cleaning: 2024-10-11 07:00:00+00:00 -> 2025-04-11 07:54:00+00:00
2025-04-11 02:55:39,009 - DEBUG - BTC-USD: OHLC after combining events: 2024-10-11 07:00:00+00:00 -> 2025-04-11 07:54:00+00:00
2025-04-11 02:55:39,015 - DEBUG - BTC-USD: yfinance returning OHLC: 2024-10-11 07:00:00+00:00 -> 2025-04-11 07:00:00+00:00
2025-04-11 02:55:39,016 - DEBUG -  Exiting history()
2025-04-11 02:55:39,021 - DEBUG - Exiting history()
2025-04-11 02:55:39,021 - DEBUG - response code=200
2025-04-11 02:55:39,026 - DEBUG -    Exiting _make_request()
2025-04-11 02:55:39,027 - DEBUG - BTC-USD: yfinance returning OHLC: 2024-10-11 07:00:00+00:00 -> 2025-04-11 07:00:00+00:00
2025-04-11 02:55:39,027 - DEBUG -   Exiting get()
2025-04-11 02:55:39,027 - DEBUG -  Exiting history()
2025-04-11 02:55:39,028 - INFO - Successfully fetched 4368 data points for BTC-USD from yfinance.
2025-04-11 02:55:39,036 - DEBUG - Exiting history()
2025-04-11 02:55:39,039 - DEBUG - BTC-USD: yfinance received OHLC data: 2024-10-11 07:00:00 -> 2025-04-11 07:54:00
2025-04-11 02:55:39,039 - WARNING - Some volumes are zero or negative. Applying absolute value.
2025-04-11 02:55:39,042 - DEBUG - BTC-USD: yfinance returning OHLC: 2024-10-11 07:00:00+00:00 -> 2025-04-11 07:00:00+00:00
2025-04-11 02:55:39,064 - DEBUG -  Exiting history()
2025-04-11 02:55:39,067 - DEBUG - Exiting history()
2025-04-11 02:55:39,067 - DEBUG - BTC-USD: OHLC after cleaning: 2024-10-11 07:00:00+00:00 -> 2025-04-11 07:54:00+00:00
2025-04-11 02:55:39,068 - INFO - Successfully fetched 4368 data points for BTC-USD from yfinance.
2025-04-11 02:55:39,071 - DEBUG - BTC-USD: OHLC after combining events: 2024-10-11 07:00:00+00:00 -> 2025-04-11 07:54:00+00:00
2025-04-11 02:55:39,073 - WARNING - Some volumes are zero or negative. Applying absolute value.
2025-04-11 02:55:39,084 - DEBUG - BTC-USD: yfinance returning OHLC: 2024-10-11 07:00:00+00:00 -> 2025-04-11 07:00:00+00:00
2025-04-11 02:55:39,084 - DEBUG - BTC-USD: yfinance returning OHLC: 2024-10-11 07:00:00+00:00 -> 2025-04-11 07:00:00+00:00
2025-04-11 02:55:39,084 - INFO - Successfully fetched 4368 data points for BTC-USD from yfinance.
2025-04-11 02:55:39,085 - DEBUG -  Exiting history()
2025-04-11 02:55:39,086 - DEBUG -  Exiting history()
2025-04-11 02:55:39,086 - WARNING - Some volumes are zero or negative. Applying absolute value.
2025-04-11 02:55:39,100 - DEBUG - Exiting history()
2025-04-11 02:55:39,103 - DEBUG - Exiting history()
2025-04-11 02:55:39,138 - INFO - Successfully fetched 4368 data points for BTC-USD from yfinance.
2025-04-11 02:55:39,149 - WARNING - Some volumes are zero or negative. Applying absolute value.
2025-04-11 02:55:39,156 - DEBUG - BTC-USD: yfinance returning OHLC: 2024-10-11 07:00:00+00:00 -> 2025-04-11 07:00:00+00:00
2025-04-11 02:55:39,156 - DEBUG -  Exiting history()
2025-04-11 02:55:39,158 - DEBUG - Exiting history()
2025-04-11 02:55:39,181 - INFO - Successfully fetched 4368 data points for BTC-USD from yfinance.
2025-04-11 02:55:39,181 - WARNING - Some volumes are zero or negative. Applying absolute value.
2025-04-11 02:55:39,188 - INFO - Successfully fetched 4368 data points for BTC-USD from yfinance.
2025-04-11 02:55:39,189 - WARNING - Some volumes are zero or negative. Applying absolute value.
                                        0%|          | 0/50 [01:48<?, ?it/s]                                        0%|          | 0/50 [01:48<?, ?it/s]                                        0%|          | 0/50 [01:48<?, ?it/s]                                        0%|          | 0/50 [01:48<?, ?it/s]                                        0%|          | 0/50 [01:49<?, ?it/s]                                        0%|          | 0/50 [01:49<?, ?it/s]                                      [W 2025-04-11 02:57:25,663] Trial 7 failed with parameters: {'algorithm': 'SAC', 'learning_rate': 6.571641837220235e-05, 'buffer_size': 391654, 'batch_size': 70, 'tau': 0.025289503807747016, 'gamma': 0.9881811060048579, 'alpha': 0.012469209950682144} because of the following error: KeyError("['MACD_12_26'] not in index").
Traceback (most recent call last):
  File "/Users/activate/Dev/robinhood-crypto-bot/.venv/lib/python3.13/site-packages/optuna/study/_optimize.py", line 200, in _run_trial
    value_or_values = func(trial)
  File "/Users/activate/Dev/robinhood-crypto-bot/optuna_alternative_tuning.py", line 65, in objective
    train_env = create_env(df, training=True)
  File "/Users/activate/Dev/robinhood-crypto-bot/optuna_alternative_tuning.py", line 28, in create_env
    env = DummyVecEnv([lambda: CryptoTradingEnv(df=df, symbol=symbol)])
  File "/Users/activate/Dev/robinhood-crypto-bot/.venv/lib/python3.13/site-packages/stable_baselines3/common/vec_env/dummy_vec_env.py", line 31, in __init__
    self.envs = [_patch_env(fn()) for fn in env_fns]
                            ~~^^
  File "/Users/activate/Dev/robinhood-crypto-bot/optuna_alternative_tuning.py", line 28, in <lambda>
    env = DummyVecEnv([lambda: CryptoTradingEnv(df=df, symbol=symbol)])
                               ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/activate/Dev/robinhood-crypto-bot/rl_environment.py", line 79, in __init__
    self.df_processed, self.num_features = self._preprocess_data(df.copy())
                                           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Users/activate/Dev/robinhood-crypto-bot/rl_environment.py", line 228, in _preprocess_data
    df = self._select_features(df)
  File "/Users/activate/Dev/robinhood-crypto-bot/rl_environment.py", line 160, in _select_features
    return df[features]
           ~~^^^^^^^^^^
  File "/Users/activate/Dev/robinhood-crypto-bot/.venv/lib/python3.13/site-packages/pandas/core/frame.py", line 4108, in __getitem__
    indexer = self.columns._get_indexer_strict(key, "columns")[1]
              ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "/Users/activate/Dev/robinhood-crypto-bot/.venv/lib/python3.13/site-packages/pandas/core/indexes/base.py", line 6200, in _get_indexer_strict
    self._raise_if_missing(keyarr, indexer, axis_name)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/activate/Dev/robinhood-crypto-bot/.venv/lib/python3.13/site-packages/pandas/core/indexes/base.py", line 6252, in _raise_if_missing
    raise KeyError(f"{not_found} not in index")
KeyError: "['MACD_12_26'] not in index"
[W 2025-04-11 02:57:26,457] Trial 7 failed with value None.
[W 2025-04-11 02:57:26,742] Trial 3 failed with parameters: {'algorithm': 'TD3', 'learning_rate': 0.00015384880558623373, 'buffer_size': 410675, 'batch_size': 196, 'tau': 0.008960042374627669, 'gamma': 0.979038743130291, 'policy_noise': 0.49263805742071776, 'noise_clip': 0.47895152929393375} because of the following error: KeyError("['MACD_12_26'] not in index").
Traceback (most recent call last):
  File "/Users/activate/Dev/robinhood-crypto-bot/.venv/lib/python3.13/site-packages/optuna/study/_optimize.py", line 200, in _run_trial
    value_or_values = func(trial)
  File "/Users/activate/Dev/robinhood-crypto-bot/optuna_alternative_tuning.py", line 65, in objective
    train_env = create_env(df, training=True)
  File "/Users/activate/Dev/robinhood-crypto-bot/optuna_alternative_tuning.py", line 28, in create_env
    env = DummyVecEnv([lambda: CryptoTradingEnv(df=df, symbol=symbol)])
  File "/Users/activate/Dev/robinhood-crypto-bot/.venv/lib/python3.13/site-packages/stable_baselines3/common/vec_env/dummy_vec_env.py", line 31, in __init__
    self.envs = [_patch_env(fn()) for fn in env_fns]
                            ~~^^
  File "/Users/activate/Dev/robinhood-crypto-bot/optuna_alternative_tuning.py", line 28, in <lambda>
    env = DummyVecEnv([lambda: CryptoTradingEnv(df=df, symbol=symbol)])
                               ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/activate/Dev/robinhood-crypto-bot/rl_environment.py", line 79, in __init__
    self.df_processed, self.num_features = self._preprocess_data(df.copy())
                                           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Users/activate/Dev/robinhood-crypto-bot/rl_environment.py", line 228, in _preprocess_data
    df = self._select_features(df)
  File "/Users/activate/Dev/robinhood-crypto-bot/rl_environment.py", line 160, in _select_features
    return df[features]
           ~~^^^^^^^^^^
  File "/Users/activate/Dev/robinhood-crypto-bot/.venv/lib/python3.13/site-packages/pandas/core/frame.py", line 4108, in __getitem__
    indexer = self.columns._get_indexer_strict(key, "columns")[1]
              ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "/Users/activate/Dev/robinhood-crypto-bot/.venv/lib/python3.13/site-packages/pandas/core/indexes/base.py", line 6200, in _get_indexer_strict
    self._raise_if_missing(keyarr, indexer, axis_name)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/activate/Dev/robinhood-crypto-bot/.venv/lib/python3.13/site-packages/pandas/core/indexes/base.py", line 6252, in _raise_if_missing
    raise KeyError(f"{not_found} not in index")
KeyError: "['MACD_12_26'] not in index"
[W 2025-04-11 02:57:26,845] Trial 3 failed with value None.
[W 2025-04-11 02:57:27,137] Trial 5 failed with parameters: {'algorithm': 'SAC', 'learning_rate': 4.937065676317359e-05, 'buffer_size': 438919, 'batch_size': 182, 'tau': 0.0015055696424970267, 'gamma': 0.9557695205079711, 'alpha': 0.016319646288329777} because of the following error: KeyError("['MACD_12_26'] not in index").
Traceback (most recent call last):
  File "/Users/activate/Dev/robinhood-crypto-bot/.venv/lib/python3.13/site-packages/optuna/study/_optimize.py", line 200, in _run_trial
    value_or_values = func(trial)
  File "/Users/activate/Dev/robinhood-crypto-bot/optuna_alternative_tuning.py", line 65, in objective
    train_env = create_env(df, training=True)
  File "/Users/activate/Dev/robinhood-crypto-bot/optuna_alternative_tuning.py", line 28, in create_env
    env = DummyVecEnv([lambda: CryptoTradingEnv(df=df, symbol=symbol)])
  File "/Users/activate/Dev/robinhood-crypto-bot/.venv/lib/python3.13/site-packages/stable_baselines3/common/vec_env/dummy_vec_env.py", line 31, in __init__
    self.envs = [_patch_env(fn()) for fn in env_fns]
                            ~~^^
  File "/Users/activate/Dev/robinhood-crypto-bot/optuna_alternative_tuning.py", line 28, in <lambda>
    env = DummyVecEnv([lambda: CryptoTradingEnv(df=df, symbol=symbol)])
                               ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/activate/Dev/robinhood-crypto-bot/rl_environment.py", line 79, in __init__
    self.df_processed, self.num_features = self._preprocess_data(df.copy())
                                           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Users/activate/Dev/robinhood-crypto-bot/rl_environment.py", line 228, in _preprocess_data
    df = self._select_features(df)
  File "/Users/activate/Dev/robinhood-crypto-bot/rl_environment.py", line 160, in _select_features
    return df[features]
           ~~^^^^^^^^^^
  File "/Users/activate/Dev/robinhood-crypto-bot/.venv/lib/python3.13/site-packages/pandas/core/frame.py", line 4108, in __getitem__
    indexer = self.columns._get_indexer_strict(key, "columns")[1]
              ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "/Users/activate/Dev/robinhood-crypto-bot/.venv/lib/python3.13/site-packages/pandas/core/indexes/base.py", line 6200, in _get_indexer_strict
    self._raise_if_missing(keyarr, indexer, axis_name)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/activate/Dev/robinhood-crypto-bot/.venv/lib/python3.13/site-packages/pandas/core/indexes/base.py", line 6252, in _raise_if_missing
    raise KeyError(f"{not_found} not in index")
KeyError: "['MACD_12_26'] not in index"
[W 2025-04-11 02:57:27,237] Trial 5 failed with value None.
[W 2025-04-11 02:57:30,094] Trial 4 failed with parameters: {'algorithm': 'SAC', 'learning_rate': 0.0008607113030845984, 'buffer_size': 481916, 'batch_size': 62, 'tau': 0.0013015679045763763, 'gamma': 0.9787174758841273, 'alpha': 0.011154818987284248} because of the following error: KeyError("['MACD_12_26'] not in index").
Traceback (most recent call last):
  File "/Users/activate/Dev/robinhood-crypto-bot/.venv/lib/python3.13/site-packages/optuna/study/_optimize.py", line 200, in _run_trial
    value_or_values = func(trial)
  File "/Users/activate/Dev/robinhood-crypto-bot/optuna_alternative_tuning.py", line 65, in objective
    train_env = create_env(df, training=True)
  File "/Users/activate/Dev/robinhood-crypto-bot/optuna_alternative_tuning.py", line 28, in create_env
    env = DummyVecEnv([lambda: CryptoTradingEnv(df=df, symbol=symbol)])
  File "/Users/activate/Dev/robinhood-crypto-bot/.venv/lib/python3.13/site-packages/stable_baselines3/common/vec_env/dummy_vec_env.py", line 31, in __init__
    self.envs = [_patch_env(fn()) for fn in env_fns]
                            ~~^^
  File "/Users/activate/Dev/robinhood-crypto-bot/optuna_alternative_tuning.py", line 28, in <lambda>
    env = DummyVecEnv([lambda: CryptoTradingEnv(df=df, symbol=symbol)])
                               ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/activate/Dev/robinhood-crypto-bot/rl_environment.py", line 79, in __init__
    self.df_processed, self.num_features = self._preprocess_data(df.copy())
                                           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Users/activate/Dev/robinhood-crypto-bot/rl_environment.py", line 228, in _preprocess_data
    df = self._select_features(df)
  File "/Users/activate/Dev/robinhood-crypto-bot/rl_environment.py", line 160, in _select_features
    return df[features]
           ~~^^^^^^^^^^
  File "/Users/activate/Dev/robinhood-crypto-bot/.venv/lib/python3.13/site-packages/pandas/core/frame.py", line 4108, in __getitem__
    indexer = self.columns._get_indexer_strict(key, "columns")[1]
              ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "/Users/activate/Dev/robinhood-crypto-bot/.venv/lib/python3.13/site-packages/pandas/core/indexes/base.py", line 6200, in _get_indexer_strict
    self._raise_if_missing(keyarr, indexer, axis_name)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/activate/Dev/robinhood-crypto-bot/.venv/lib/python3.13/site-packages/pandas/core/indexes/base.py", line 6252, in _raise_if_missing
    raise KeyError(f"{not_found} not in index")
KeyError: "['MACD_12_26'] not in index"  0%|          | 0/50 [01:52<?, ?it/s]                                        0%|          | 0/50 [01:52<?, ?it/s]                                        0%|          | 0/50 [01:52<?, ?it/s]                                        0%|          | 0/50 [01:52<?, ?it/s]                                        0%|          | 0/50 [01:52<?, ?it/s]                                        0%|          | 0/50 [01:52<?, ?it/s]                                        0%|          | 0/50 [01:52<?, ?it/s]                                      
[W 2025-04-11 02:57:30,118] Trial 4 failed with value None.
[W 2025-04-11 02:57:30,153] Trial 6 failed with parameters: {'algorithm': 'TD3', 'learning_rate': 0.00012563266513653987, 'buffer_size': 440851, 'batch_size': 123, 'tau': 0.002435663538322914, 'gamma': 0.9180152453131908, 'policy_noise': 0.3322687913708715, 'noise_clip': 0.5098883877102586} because of the following error: KeyError("['MACD_12_26'] not in index").
Traceback (most recent call last):
  File "/Users/activate/Dev/robinhood-crypto-bot/.venv/lib/python3.13/site-packages/optuna/study/_optimize.py", line 200, in _run_trial
    value_or_values = func(trial)
  File "/Users/activate/Dev/robinhood-crypto-bot/optuna_alternative_tuning.py", line 65, in objective
    train_env = create_env(df, training=True)
  File "/Users/activate/Dev/robinhood-crypto-bot/optuna_alternative_tuning.py", line 28, in create_env
    env = DummyVecEnv([lambda: CryptoTradingEnv(df=df, symbol=symbol)])
  File "/Users/activate/Dev/robinhood-crypto-bot/.venv/lib/python3.13/site-packages/stable_baselines3/common/vec_env/dummy_vec_env.py", line 31, in __init__
    self.envs = [_patch_env(fn()) for fn in env_fns]
                            ~~^^
  File "/Users/activate/Dev/robinhood-crypto-bot/optuna_alternative_tuning.py", line 28, in <lambda>
    env = DummyVecEnv([lambda: CryptoTradingEnv(df=df, symbol=symbol)])
                               ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/activate/Dev/robinhood-crypto-bot/rl_environment.py", line 79, in __init__
    self.df_processed, self.num_features = self._preprocess_data(df.copy())
                                           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Users/activate/Dev/robinhood-crypto-bot/rl_environment.py", line 228, in _preprocess_data
    df = self._select_features(df)
  File "/Users/activate/Dev/robinhood-crypto-bot/rl_environment.py", line 160, in _select_features
    return df[features]
           ~~^^^^^^^^^^
  File "/Users/activate/Dev/robinhood-crypto-bot/.venv/lib/python3.13/site-packages/pandas/core/frame.py", line 4108, in __getitem__
    indexer = self.columns._get_indexer_strict(key, "columns")[1]
              ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "/Users/activate/Dev/robinhood-crypto-bot/.venv/lib/python3.13/site-packages/pandas/core/indexes/base.py", line 6200, in _get_indexer_strict
    self._raise_if_missing(keyarr, indexer, axis_name)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/activate/Dev/robinhood-crypto-bot/.venv/lib/python3.13/site-packages/pandas/core/indexes/base.py", line 6252, in _raise_if_missing
    raise KeyError(f"{not_found} not in index")
KeyError: "['MACD_12_26'] not in index"
[W 2025-04-11 02:57:30,202] Trial 6 failed with value None.
[W 2025-04-11 02:57:30,272] Trial 2 failed with parameters: {'algorithm': 'TD3', 'learning_rate': 1.63412309141935e-05, 'buffer_size': 241403, 'batch_size': 202, 'tau': 0.005760822191610366, 'gamma': 0.9372678057508975, 'policy_noise': 0.3696222475685117, 'noise_clip': 0.8041564357737876} because of the following error: KeyError("['MACD_12_26'] not in index").
Traceback (most recent call last):
  File "/Users/activate/Dev/robinhood-crypto-bot/.venv/lib/python3.13/site-packages/optuna/study/_optimize.py", line 200, in _run_trial
    value_or_values = func(trial)
  File "/Users/activate/Dev/robinhood-crypto-bot/optuna_alternative_tuning.py", line 65, in objective
    train_env = create_env(df, training=True)
  File "/Users/activate/Dev/robinhood-crypto-bot/optuna_alternative_tuning.py", line 28, in create_env
    env = DummyVecEnv([lambda: CryptoTradingEnv(df=df, symbol=symbol)])
  File "/Users/activate/Dev/robinhood-crypto-bot/.venv/lib/python3.13/site-packages/stable_baselines3/common/vec_env/dummy_vec_env.py", line 31, in __init__
    self.envs = [_patch_env(fn()) for fn in env_fns]
                            ~~^^
  File "/Users/activate/Dev/robinhood-crypto-bot/optuna_alternative_tuning.py", line 28, in <lambda>
    env = DummyVecEnv([lambda: CryptoTradingEnv(df=df, symbol=symbol)])
                               ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/activate/Dev/robinhood-crypto-bot/rl_environment.py", line 79, in __init__
    self.df_processed, self.num_features = self._preprocess_data(df.copy())
                                           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Users/activate/Dev/robinhood-crypto-bot/rl_environment.py", line 228, in _preprocess_data
    df = self._select_features(df)
  File "/Users/activate/Dev/robinhood-crypto-bot/rl_environment.py", line 160, in _select_features
    return df[features]
           ~~^^^^^^^^^^
  File "/Users/activate/Dev/robinhood-crypto-bot/.venv/lib/python3.13/site-packages/pandas/core/frame.py", line 4108, in __getitem__
    indexer = self.columns._get_indexer_strict(key, "columns")[1]
              ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "/Users/activate/Dev/robinhood-crypto-bot/.venv/lib/python3.13/site-packages/pandas/core/indexes/base.py", line 6200, in _get_indexer_strict
    self._raise_if_missing(keyarr, indexer, axis_name)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/activate/Dev/robinhood-crypto-bot/.venv/lib/python3.13/site-packages/pandas/core/indexes/base.py", line 6252, in _raise_if_missing
    raise KeyError(f"{not_found} not in index")
KeyError: "['MACD_12_26'] not in index"
[W 2025-04-11 02:57:30,280] Trial 2 failed with value None.
[W 2025-04-11 02:57:30,572] Trial 1 failed with parameters: {'algorithm': 'TD3', 'learning_rate': 0.0009124854104482024, 'buffer_size': 457068, 'batch_size': 211, 'tau': 0.004932189508863029, 'gamma': 0.9309948348653951, 'policy_noise': 0.29530522165022294, 'noise_clip': 0.48069213408602096} because of the following error: KeyError("['MACD_12_26'] not in index").
Traceback (most recent call last):
  File "/Users/activate/Dev/robinhood-crypto-bot/.venv/lib/python3.13/site-packages/optuna/study/_optimize.py", line 200, in _run_trial
    value_or_values = func(trial)
  File "/Users/activate/Dev/robinhood-crypto-bot/optuna_alternative_tuning.py", line 65, in objective
    train_env = create_env(df, training=True)
  File "/Users/activate/Dev/robinhood-crypto-bot/optuna_alternative_tuning.py", line 28, in create_env
    env = DummyVecEnv([lambda: CryptoTradingEnv(df=df, symbol=symbol)])
  File "/Users/activate/Dev/robinhood-crypto-bot/.venv/lib/python3.13/site-packages/stable_baselines3/common/vec_env/dummy_vec_env.py", line 31, in __init__
    self.envs = [_patch_env(fn()) for fn in env_fns]
                            ~~^^
  File "/Users/activate/Dev/robinhood-crypto-bot/optuna_alternative_tuning.py", line 28, in <lambda>
    env = DummyVecEnv([lambda: CryptoTradingEnv(df=df, symbol=symbol)])
                               ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/activate/Dev/robinhood-crypto-bot/rl_environment.py", line 79, in __init__
    self.df_processed, self.num_features = self._preprocess_data(df.copy())
                                           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Users/activate/Dev/robinhood-crypto-bot/rl_environment.py", line 228, in _preprocess_data
    df = self._select_features(df)
  File "/Users/activate/Dev/robinhood-crypto-bot/rl_environment.py", line 160, in _select_features
    return df[features]
           ~~^^^^^^^^^^
  File "/Users/activate/Dev/robinhood-crypto-bot/.venv/lib/python3.13/site-packages/pandas/core/frame.py", line 4108, in __getitem__
    indexer = self.columns._get_indexer_strict(key, "columns")[1]
              ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "/Users/activate/Dev/robinhood-crypto-bot/.venv/lib/python3.13/site-packages/pandas/core/indexes/base.py", line 6200, in _get_indexer_strict
    self._raise_if_missing(keyarr, indexer, axis_name)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/activate/Dev/robinhood-crypto-bot/.venv/lib/python3.13/site-packages/pandas/core/indexes/base.py", line 6252, in _raise_if_missing
    raise KeyError(f"{not_found} not in index")
KeyError: "['MACD_12_26'] not in index"
[W 2025-04-11 02:57:30,573] Trial 1 failed with value None.  0%|          | 0/50 [01:52<?, ?it/s]                                        0%|          | 0/50 [01:52<?, ?it/s]                                        0%|          | 0/50 [01:52<?, ?it/s]  0%|          | 0/50 [01:52<?, ?it/s]

[W 2025-04-11 02:57:30,576] Trial 0 failed with parameters: {'algorithm': 'TD3', 'learning_rate': 6.492018246658972e-05, 'buffer_size': 86013, 'batch_size': 254, 'tau': 0.0022508118260988062, 'gamma': 0.9556197638144449, 'policy_noise': 0.4916507683651547, 'noise_clip': 0.31895368401669416} because of the following error: KeyError("['MACD_12_26'] not in index").
Traceback (most recent call last):
  File "/Users/activate/Dev/robinhood-crypto-bot/.venv/lib/python3.13/site-packages/optuna/study/_optimize.py", line 200, in _run_trial
    value_or_values = func(trial)
  File "/Users/activate/Dev/robinhood-crypto-bot/optuna_alternative_tuning.py", line 65, in objective
    train_env = create_env(df, training=True)
  File "/Users/activate/Dev/robinhood-crypto-bot/optuna_alternative_tuning.py", line 28, in create_env
    env = DummyVecEnv([lambda: CryptoTradingEnv(df=df, symbol=symbol)])
  File "/Users/activate/Dev/robinhood-crypto-bot/.venv/lib/python3.13/site-packages/stable_baselines3/common/vec_env/dummy_vec_env.py", line 31, in __init__
    self.envs = [_patch_env(fn()) for fn in env_fns]
                            ~~^^
  File "/Users/activate/Dev/robinhood-crypto-bot/optuna_alternative_tuning.py", line 28, in <lambda>
    env = DummyVecEnv([lambda: CryptoTradingEnv(df=df, symbol=symbol)])
                               ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/activate/Dev/robinhood-crypto-bot/rl_environment.py", line 79, in __init__
    self.df_processed, self.num_features = self._preprocess_data(df.copy())
                                           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Users/activate/Dev/robinhood-crypto-bot/rl_environment.py", line 228, in _preprocess_data
    df = self._select_features(df)
  File "/Users/activate/Dev/robinhood-crypto-bot/rl_environment.py", line 160, in _select_features
    return df[features]
           ~~^^^^^^^^^^
  File "/Users/activate/Dev/robinhood-crypto-bot/.venv/lib/python3.13/site-packages/pandas/core/frame.py", line 4108, in __getitem__
    indexer = self.columns._get_indexer_strict(key, "columns")[1]
              ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "/Users/activate/Dev/robinhood-crypto-bot/.venv/lib/python3.13/site-packages/pandas/core/indexes/base.py", line 6200, in _get_indexer_strict
    self._raise_if_missing(keyarr, indexer, axis_name)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/activate/Dev/robinhood-crypto-bot/.venv/lib/python3.13/site-packages/pandas/core/indexes/base.py", line 6252, in _raise_if_missing
    raise KeyError(f"{not_found} not in index")
KeyError: "['MACD_12_26'] not in index"
[W 2025-04-11 02:57:30,578] Trial 0 failed with value None.
Traceback (most recent call last):
  File "/Users/activate/Dev/robinhood-crypto-bot/optuna_alternative_tuning.py", line 195, in <module>
    main()
    ~~~~^^
  File "/Users/activate/Dev/robinhood-crypto-bot/optuna_alternative_tuning.py", line 156, in main
    study.optimize(
    ~~~~~~~~~~~~~~^
        objective,
        ^^^^^^^^^^
    ...<3 lines>...
        show_progress_bar=True
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/activate/Dev/robinhood-crypto-bot/.venv/lib/python3.13/site-packages/optuna/study/study.py", line 451, in optimize
    _optimize(
    ~~~~~~~~~^
        study=self,
        ^^^^^^^^^^^
    ...<7 lines>...
        show_progress_bar=show_progress_bar,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/activate/Dev/robinhood-crypto-bot/.venv/lib/python3.13/site-packages/optuna/study/_optimize.py", line 103, in _optimize
    f.result()
    ~~~~~~~~^^
  File "/opt/homebrew/Cellar/python@3.13/3.13.2/Frameworks/Python.framework/Versions/3.13/lib/python3.13/concurrent/futures/_base.py", line 449, in result
    return self.__get_result()
           ~~~~~~~~~~~~~~~~~^^
  File "/opt/homebrew/Cellar/python@3.13/3.13.2/Frameworks/Python.framework/Versions/3.13/lib/python3.13/concurrent/futures/_base.py", line 401, in __get_result
    raise self._exception
  File "/opt/homebrew/Cellar/python@3.13/3.13.2/Frameworks/Python.framework/Versions/3.13/lib/python3.13/concurrent/futures/thread.py", line 59, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/Users/activate/Dev/robinhood-crypto-bot/.venv/lib/python3.13/site-packages/optuna/study/_optimize.py", line 163, in _optimize_sequential
    frozen_trial = _run_trial(study, func, catch)
  File "/Users/activate/Dev/robinhood-crypto-bot/.venv/lib/python3.13/site-packages/optuna/study/_optimize.py", line 251, in _run_trial
    raise func_err
  File "/Users/activate/Dev/robinhood-crypto-bot/.venv/lib/python3.13/site-packages/optuna/study/_optimize.py", line 200, in _run_trial
    value_or_values = func(trial)
  File "/Users/activate/Dev/robinhood-crypto-bot/optuna_alternative_tuning.py", line 65, in objective
    train_env = create_env(df, training=True)
  File "/Users/activate/Dev/robinhood-crypto-bot/optuna_alternative_tuning.py", line 28, in create_env
    env = DummyVecEnv([lambda: CryptoTradingEnv(df=df, symbol=symbol)])
  File "/Users/activate/Dev/robinhood-crypto-bot/.venv/lib/python3.13/site-packages/stable_baselines3/common/vec_env/dummy_vec_env.py", line 31, in __init__
    self.envs = [_patch_env(fn()) for fn in env_fns]
                            ~~^^
  File "/Users/activate/Dev/robinhood-crypto-bot/optuna_alternative_tuning.py", line 28, in <lambda>
    env = DummyVecEnv([lambda: CryptoTradingEnv(df=df, symbol=symbol)])
                               ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/activate/Dev/robinhood-crypto-bot/rl_environment.py", line 79, in __init__
    self.df_processed, self.num_features = self._preprocess_data(df.copy())
                                           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Users/activate/Dev/robinhood-crypto-bot/rl_environment.py", line 228, in _preprocess_data
    df = self._select_features(df)
  File "/Users/activate/Dev/robinhood-crypto-bot/rl_environment.py", line 160, in _select_features
    return df[features]
           ~~^^^^^^^^^^
  File "/Users/activate/Dev/robinhood-crypto-bot/.venv/lib/python3.13/site-packages/pandas/core/frame.py", line 4108, in __getitem__
    indexer = self.columns._get_indexer_strict(key, "columns")[1]
              ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "/Users/activate/Dev/robinhood-crypto-bot/.venv/lib/python3.13/site-packages/pandas/core/indexes/base.py", line 6200, in _get_indexer_strict
    self._raise_if_missing(keyarr, indexer, axis_name)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/activate/Dev/robinhood-crypto-bot/.venv/lib/python3.13/site-packages/pandas/core/indexes/base.py", line 6252, in _raise_if_missing
    raise KeyError(f"{not_found} not in index")
KeyError: "['MACD_12_26'] not in index"
